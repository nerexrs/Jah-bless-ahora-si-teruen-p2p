{"version":3,"file":"index.js","names":["ensureRxStorageInstanceParamsAreCorrect","RXDB_VERSION","RX_STORAGE_NAME_LOCALSTORAGE","createLocalstorageStorageInstance","RxStorageLocalstorage","settings","name","rxdbVersion","_proto","prototype","createStorageInstance","params","useSettings","Object","assign","options","getRxStorageLocalstorage","storage"],"sources":["../../../../src/plugins/storage-localstorage/index.ts"],"sourcesContent":["import { ensureRxStorageInstanceParamsAreCorrect } from '../../rx-storage-helper.ts';\nimport type { RxStorage, RxStorageInstance, RxStorageInstanceCreationParams } from '../../types/index';\nimport { RXDB_VERSION } from '../utils/utils-rxdb-version.ts';\nimport {\n    LocalstorageInstanceCreationOptions,\n    LocalstorageStorageInternals,\n    LocalstorageStorageSettings,\n    RX_STORAGE_NAME_LOCALSTORAGE,\n    RxStorageInstanceLocalstorage,\n    createLocalstorageStorageInstance\n} from './rx-storage-instance-localstorage.ts';\nexport * from './localstorage-mock.ts';\n\nexport class RxStorageLocalstorage implements RxStorage<\n    LocalstorageStorageInternals,\n    LocalstorageInstanceCreationOptions\n> {\n    public name = RX_STORAGE_NAME_LOCALSTORAGE;\n    readonly rxdbVersion = RXDB_VERSION;\n\n    constructor(\n        public settings: LocalstorageStorageSettings\n    ) { }\n\n    public createStorageInstance<RxDocType>(\n        params: RxStorageInstanceCreationParams<RxDocType, LocalstorageInstanceCreationOptions>\n    ): Promise<RxStorageInstanceLocalstorage<RxDocType>> {\n        ensureRxStorageInstanceParamsAreCorrect(params);\n        const useSettings = Object.assign(\n            {},\n            this.settings,\n            params.options\n        );\n        return createLocalstorageStorageInstance(this, params, useSettings);\n    }\n}\n\n\nexport function getRxStorageLocalstorage(\n    settings: Partial<LocalstorageStorageSettings> = {}\n): RxStorageLocalstorage {\n    const storage = new RxStorageLocalstorage(settings);\n    return storage;\n}\n"],"mappings":"AAAA,SAASA,uCAAuC,QAAQ,4BAA4B;AAEpF,SAASC,YAAY,QAAQ,gCAAgC;AAC7D,SAIIC,4BAA4B,EAE5BC,iCAAiC,QAC9B,uCAAuC;AAC9C,cAAc,wBAAwB;AAEtC,WAAaC,qBAAqB;EAO9B,SAAAA,sBACWC,QAAqC,EAC9C;IAAA,KALKC,IAAI,GAAGJ,4BAA4B;IAAA,KACjCK,WAAW,GAAGN,YAAY;IAAA,KAGxBI,QAAqC,GAArCA,QAAqC;EAC5C;EAAC,IAAAG,MAAA,GAAAJ,qBAAA,CAAAK,SAAA;EAAAD,MAAA,CAEEE,qBAAqB,GAA5B,SAAOA,qBAAqBA,CACxBC,MAAuF,EACtC;IACjDX,uCAAuC,CAACW,MAAM,CAAC;IAC/C,IAAMC,WAAW,GAAGC,MAAM,CAACC,MAAM,CAC7B,CAAC,CAAC,EACF,IAAI,CAACT,QAAQ,EACbM,MAAM,CAACI,OACX,CAAC;IACD,OAAOZ,iCAAiC,CAAC,IAAI,EAAEQ,MAAM,EAAEC,WAAW,CAAC;EACvE,CAAC;EAAA,OAAAR,qBAAA;AAAA;AAIL,OAAO,SAASY,wBAAwBA,CACpCX,QAA8C,GAAG,CAAC,CAAC,EAC9B;EACrB,IAAMY,OAAO,GAAG,IAAIb,qBAAqB,CAACC,QAAQ,CAAC;EACnD,OAAOY,OAAO;AAClB","ignoreList":[]}