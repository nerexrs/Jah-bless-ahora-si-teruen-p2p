{"version":3,"file":"index.js","names":["_rxStorageHelper","require","_utilsRxdbVersion","_rxStorageInstanceLocalstorage","_localstorageMock","Object","keys","forEach","key","prototype","hasOwnProperty","call","_exportNames","exports","defineProperty","enumerable","get","RxStorageLocalstorage","settings","name","RX_STORAGE_NAME_LOCALSTORAGE","rxdbVersion","RXDB_VERSION","_proto","createStorageInstance","params","ensureRxStorageInstanceParamsAreCorrect","useSettings","assign","options","createLocalstorageStorageInstance","getRxStorageLocalstorage","storage"],"sources":["../../../../src/plugins/storage-localstorage/index.ts"],"sourcesContent":["import { ensureRxStorageInstanceParamsAreCorrect } from '../../rx-storage-helper.ts';\nimport type { RxStorage, RxStorageInstance, RxStorageInstanceCreationParams } from '../../types/index';\nimport { RXDB_VERSION } from '../utils/utils-rxdb-version.ts';\nimport {\n    LocalstorageInstanceCreationOptions,\n    LocalstorageStorageInternals,\n    LocalstorageStorageSettings,\n    RX_STORAGE_NAME_LOCALSTORAGE,\n    RxStorageInstanceLocalstorage,\n    createLocalstorageStorageInstance\n} from './rx-storage-instance-localstorage.ts';\nexport * from './localstorage-mock.ts';\n\nexport class RxStorageLocalstorage implements RxStorage<\n    LocalstorageStorageInternals,\n    LocalstorageInstanceCreationOptions\n> {\n    public name = RX_STORAGE_NAME_LOCALSTORAGE;\n    readonly rxdbVersion = RXDB_VERSION;\n\n    constructor(\n        public settings: LocalstorageStorageSettings\n    ) { }\n\n    public createStorageInstance<RxDocType>(\n        params: RxStorageInstanceCreationParams<RxDocType, LocalstorageInstanceCreationOptions>\n    ): Promise<RxStorageInstanceLocalstorage<RxDocType>> {\n        ensureRxStorageInstanceParamsAreCorrect(params);\n        const useSettings = Object.assign(\n            {},\n            this.settings,\n            params.options\n        );\n        return createLocalstorageStorageInstance(this, params, useSettings);\n    }\n}\n\n\nexport function getRxStorageLocalstorage(\n    settings: Partial<LocalstorageStorageSettings> = {}\n): RxStorageLocalstorage {\n    const storage = new RxStorageLocalstorage(settings);\n    return storage;\n}\n"],"mappings":";;;;;;;;;;;AAAA,IAAAA,gBAAA,GAAAC,OAAA;AAEA,IAAAC,iBAAA,GAAAD,OAAA;AACA,IAAAE,8BAAA,GAAAF,OAAA;AAQA,IAAAG,iBAAA,GAAAH,OAAA;AAAAI,MAAA,CAAAC,IAAA,CAAAF,iBAAA,EAAAG,OAAA,WAAAC,GAAA;EAAA,IAAAA,GAAA,kBAAAA,GAAA;EAAA,IAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAC,YAAA,EAAAJ,GAAA;EAAA,IAAAA,GAAA,IAAAK,OAAA,IAAAA,OAAA,CAAAL,GAAA,MAAAJ,iBAAA,CAAAI,GAAA;EAAAH,MAAA,CAAAS,cAAA,CAAAD,OAAA,EAAAL,GAAA;IAAAO,UAAA;IAAAC,GAAA,WAAAA,CAAA;MAAA,OAAAZ,iBAAA,CAAAI,GAAA;IAAA;EAAA;AAAA;AAAuC,IAE1BS,qBAAqB,GAAAJ,OAAA,CAAAI,qBAAA;EAO9B,SAAAA,sBACWC,QAAqC,EAC9C;IAAA,KALKC,IAAI,GAAGC,2DAA4B;IAAA,KACjCC,WAAW,GAAGC,8BAAY;IAAA,KAGxBJ,QAAqC,GAArCA,QAAqC;EAC5C;EAAC,IAAAK,MAAA,GAAAN,qBAAA,CAAAR,SAAA;EAAAc,MAAA,CAEEC,qBAAqB,GAA5B,SAAOA,qBAAqBA,CACxBC,MAAuF,EACtC;IACjD,IAAAC,wDAAuC,EAACD,MAAM,CAAC;IAC/C,IAAME,WAAW,GAAGtB,MAAM,CAACuB,MAAM,CAC7B,CAAC,CAAC,EACF,IAAI,CAACV,QAAQ,EACbO,MAAM,CAACI,OACX,CAAC;IACD,OAAO,IAAAC,gEAAiC,EAAC,IAAI,EAAEL,MAAM,EAAEE,WAAW,CAAC;EACvE,CAAC;EAAA,OAAAV,qBAAA;AAAA;AAIE,SAASc,wBAAwBA,CACpCb,QAA8C,GAAG,CAAC,CAAC,EAC9B;EACrB,IAAMc,OAAO,GAAG,IAAIf,qBAAqB,CAACC,QAAQ,CAAC;EACnD,OAAOc,OAAO;AAClB","ignoreList":[]}