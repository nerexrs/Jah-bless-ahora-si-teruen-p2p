import{A as yc,B as lo,C as av,E as cv,F as uv,G as lv,H as dv,I as bc,J as fv,K as hv,a as _s,b as jn,c as $m,e as Wm,f as Hd,g as vn,h as mc,j as Gm,k as $d,l as Km,m as qd,n as Xm,p as Jm,q as ev,r as tv,s as nv,u as ei,v as rv,w as iv,x as vc,y as ov,z as sv}from"./chunk-5U34ASYW.js";import{A as Yr,C as lc,Ca as Bd,D as Xr,Da as Ud,E as jd,Ea as gc,F as Nm,Fa as uo,G as km,Ga as it,H as Pm,Ia as Qm,J as Fm,K as Vn,Ka as Ri,L as Lm,La as Zm,M as qt,Ma as Jr,Oa as Ym,P as ao,Q as Vm,S as jm,U as dc,V as Bm,Z as Lt,a as Qr,aa as xi,b as Im,c as kd,d as Pd,e as We,ea as Um,f as rt,fa as Bn,g as Mr,h as Yt,i as Ne,ia as fc,j as bs,ja as xt,k as Tm,ka as Hm,l as xm,m as Ln,n as et,o as Zr,oa as qm,p as Ft,pa as zm,q as Fd,qa as hc,r as Rm,ra as pc,s as Ld,t as Om,ta as mn,u as Am,w as gt,x as Ii,y as Ti,ya as co,z as Vd}from"./chunk-PHKG3IGQ.js";import{a as ge,b as Je,c as ys,d as Sm,e as Mm,f as ee,g as uc}from"./chunk-YJ5HMLQM.js";var wC=Sm((_C,kg)=>{"use strict";(function(e){if(typeof _C=="object"&&typeof kg<"u")kg.exports=e();else if(typeof define=="function"&&define.amd)define([],e);else{var t;t=typeof window>"u"?typeof global>"u"?typeof self>"u"?this:self:global:window,t.SimplePeer=e()}})(function(){var e=Math.floor,t=Math.abs,n=Math.pow;return function(){function r(i,o,s){function u(m,_){if(!o[m]){if(!i[m]){var y=typeof ys=="function"&&ys;if(!_&&y)return y(m,!0);if(d)return d(m,!0);var C=new Error("Cannot find module '"+m+"'");throw C.code="MODULE_NOT_FOUND",C}var E=o[m]={exports:{}};i[m][0].call(E.exports,function(R){var V=i[m][1][R];return u(V||R)},E,E.exports,r,i,o,s)}return o[m].exports}for(var d=typeof ys=="function"&&ys,h=0;h<s.length;h++)u(s[h]);return u}return r}()({1:[function(r,i,o){"use strict";function s(M){var I=M.length;if(0<I%4)throw new Error("Invalid string. Length must be a multiple of 4");var F=M.indexOf("=");F===-1&&(F=I);var O=F===I?0:4-F%4;return[F,O]}function u(M,I,F){return 3*(I+F)/4-F}function d(M){var I,F,O=s(M),$=O[0],J=O[1],N=new E(u(M,$,J)),B=0,ne=0<J?$-4:$;for(F=0;F<ne;F+=4)I=C[M.charCodeAt(F)]<<18|C[M.charCodeAt(F+1)]<<12|C[M.charCodeAt(F+2)]<<6|C[M.charCodeAt(F+3)],N[B++]=255&I>>16,N[B++]=255&I>>8,N[B++]=255&I;return J===2&&(I=C[M.charCodeAt(F)]<<2|C[M.charCodeAt(F+1)]>>4,N[B++]=255&I),J===1&&(I=C[M.charCodeAt(F)]<<10|C[M.charCodeAt(F+1)]<<4|C[M.charCodeAt(F+2)]>>2,N[B++]=255&I>>8,N[B++]=255&I),N}function h(M){return y[63&M>>18]+y[63&M>>12]+y[63&M>>6]+y[63&M]}function m(M,I,F){for(var O,$=[],J=I;J<F;J+=3)O=(16711680&M[J]<<16)+(65280&M[J+1]<<8)+(255&M[J+2]),$.push(h(O));return $.join("")}function _(M){for(var I,F=M.length,O=F%3,$=[],J=16383,N=0,B=F-O;N<B;N+=J)$.push(m(M,N,N+J>B?B:N+J));return O===1?(I=M[F-1],$.push(y[I>>2]+y[63&I<<4]+"==")):O===2&&(I=(M[F-2]<<8)+M[F-1],$.push(y[I>>10]+y[63&I>>4]+y[63&I<<2]+"=")),$.join("")}o.byteLength=function(M){var I=s(M),F=I[0],O=I[1];return 3*(F+O)/4-O},o.toByteArray=d,o.fromByteArray=_;for(var y=[],C=[],E=typeof Uint8Array>"u"?Array:Uint8Array,R="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",V=0,D=R.length;V<D;++V)y[V]=R[V],C[R.charCodeAt(V)]=V;C[45]=62,C[95]=63},{}],2:[function(){},{}],3:[function(r,i,o){(function(){(function(){"use strict";var s=String.fromCharCode,u=Math.min;function d(l){if(2147483647<l)throw new RangeError('The value "'+l+'" is invalid for option "size"');var f=new Uint8Array(l);return f.__proto__=h.prototype,f}function h(l,f,b){if(typeof l=="number"){if(typeof f=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return C(l)}return m(l,f,b)}function m(l,f,b){if(typeof l=="string")return E(l,f);if(ArrayBuffer.isView(l))return R(l);if(l==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof l);if(W(l,ArrayBuffer)||l&&W(l.buffer,ArrayBuffer))return V(l,f,b);if(typeof l=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var x=l.valueOf&&l.valueOf();if(x!=null&&x!==l)return h.from(x,f,b);var K=D(l);if(K)return K;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof l[Symbol.toPrimitive]=="function")return h.from(l[Symbol.toPrimitive]("string"),f,b);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof l)}function _(l){if(typeof l!="number")throw new TypeError('"size" argument must be of type number');if(0>l)throw new RangeError('The value "'+l+'" is invalid for option "size"')}function y(l,f,b){return _(l),0>=l||f===void 0?d(l):typeof b=="string"?d(l).fill(f,b):d(l).fill(f)}function C(l){return _(l),d(0>l?0:0|M(l))}function E(l,f){if((typeof f!="string"||f==="")&&(f="utf8"),!h.isEncoding(f))throw new TypeError("Unknown encoding: "+f);var b=0|I(l,f),x=d(b),K=x.write(l,f);return K!==b&&(x=x.slice(0,K)),x}function R(l){for(var f=0>l.length?0:0|M(l.length),b=d(f),x=0;x<f;x+=1)b[x]=255&l[x];return b}function V(l,f,b){if(0>f||l.byteLength<f)throw new RangeError('"offset" is outside of buffer bounds');if(l.byteLength<f+(b||0))throw new RangeError('"length" is outside of buffer bounds');var x;return x=f===void 0&&b===void 0?new Uint8Array(l):b===void 0?new Uint8Array(l,f):new Uint8Array(l,f,b),x.__proto__=h.prototype,x}function D(l){if(h.isBuffer(l)){var f=0|M(l.length),b=d(f);return b.length===0||l.copy(b,0,0,f),b}return l.length===void 0?l.type==="Buffer"&&Array.isArray(l.data)?R(l.data):void 0:typeof l.length!="number"||X(l.length)?d(0):R(l)}function M(l){if(l>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|l}function I(l,f){if(h.isBuffer(l))return l.length;if(ArrayBuffer.isView(l)||W(l,ArrayBuffer))return l.byteLength;if(typeof l!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof l);var b=l.length,x=2<arguments.length&&arguments[2]===!0;if(!x&&b===0)return 0;for(var K=!1;;)switch(f){case"ascii":case"latin1":case"binary":return b;case"utf8":case"utf-8":return Tn(l).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*b;case"hex":return b>>>1;case"base64":return Pt(l).length;default:if(K)return x?-1:Tn(l).length;f=(""+f).toLowerCase(),K=!0}}function F(l,f,b){var x=!1;if((f===void 0||0>f)&&(f=0),f>this.length||((b===void 0||b>this.length)&&(b=this.length),0>=b)||(b>>>=0,f>>>=0,b<=f))return"";for(l||(l="utf8");;)switch(l){case"hex":return Gt(this,f,b);case"utf8":case"utf-8":return Ke(this,f,b);case"ascii":return Ee(this,f,b);case"latin1":case"binary":return It(this,f,b);case"base64":return Ie(this,f,b);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Fe(this,f,b);default:if(x)throw new TypeError("Unknown encoding: "+l);l=(l+"").toLowerCase(),x=!0}}function O(l,f,b){var x=l[f];l[f]=l[b],l[b]=x}function $(l,f,b,x,K){if(l.length===0)return-1;if(typeof b=="string"?(x=b,b=0):2147483647<b?b=2147483647:-2147483648>b&&(b=-2147483648),b=+b,X(b)&&(b=K?0:l.length-1),0>b&&(b=l.length+b),b>=l.length){if(K)return-1;b=l.length-1}else if(0>b)if(K)b=0;else return-1;if(typeof f=="string"&&(f=h.from(f,x)),h.isBuffer(f))return f.length===0?-1:J(l,f,b,x,K);if(typeof f=="number")return f&=255,typeof Uint8Array.prototype.indexOf=="function"?K?Uint8Array.prototype.indexOf.call(l,f,b):Uint8Array.prototype.lastIndexOf.call(l,f,b):J(l,[f],b,x,K);throw new TypeError("val must be string, number or Buffer")}function J(l,f,b,x,K){function Q(Cr,tn){return ue===1?Cr[tn]:Cr.readUInt16BE(tn*ue)}var ue=1,je=l.length,vt=f.length;if(x!==void 0&&(x=(x+"").toLowerCase(),x==="ucs2"||x==="ucs-2"||x==="utf16le"||x==="utf-16le")){if(2>l.length||2>f.length)return-1;ue=2,je/=2,vt/=2,b/=2}var ct;if(K){var Xe=-1;for(ct=b;ct<je;ct++)if(Q(l,ct)!==Q(f,Xe===-1?0:ct-Xe))Xe!==-1&&(ct-=ct-Xe),Xe=-1;else if(Xe===-1&&(Xe=ct),ct-Xe+1===vt)return Xe*ue}else for(b+vt>je&&(b=je-vt),ct=b;0<=ct;ct--){for(var ze=!0,Fn=0;Fn<vt;Fn++)if(Q(l,ct+Fn)!==Q(f,Fn)){ze=!1;break}if(ze)return ct}return-1}function N(l,f,b,x){b=+b||0;var K=l.length-b;x?(x=+x,x>K&&(x=K)):x=K;var Q=f.length;x>Q/2&&(x=Q/2);for(var ue,je=0;je<x;++je){if(ue=parseInt(f.substr(2*je,2),16),X(ue))return je;l[b+je]=ue}return je}function B(l,f,b,x){return hn(Tn(f,l.length-b),l,b,x)}function ne(l,f,b,x){return hn(Xn(f),l,b,x)}function oe(l,f,b,x){return ne(l,f,b,x)}function ye(l,f,b,x){return hn(Pt(f),l,b,x)}function xe(l,f,b,x){return hn(at(f,l.length-b),l,b,x)}function Ie(l,f,b){return f===0&&b===l.length?de.fromByteArray(l):de.fromByteArray(l.slice(f,b))}function Ke(l,f,b){b=u(l.length,b);for(var x=[],K=f;K<b;){var Q=l[K],ue=null,je=239<Q?4:223<Q?3:191<Q?2:1;if(K+je<=b){var vt,ct,Xe,ze;je===1?128>Q&&(ue=Q):je===2?(vt=l[K+1],(192&vt)==128&&(ze=(31&Q)<<6|63&vt,127<ze&&(ue=ze))):je===3?(vt=l[K+1],ct=l[K+2],(192&vt)==128&&(192&ct)==128&&(ze=(15&Q)<<12|(63&vt)<<6|63&ct,2047<ze&&(55296>ze||57343<ze)&&(ue=ze))):je===4&&(vt=l[K+1],ct=l[K+2],Xe=l[K+3],(192&vt)==128&&(192&ct)==128&&(192&Xe)==128&&(ze=(15&Q)<<18|(63&vt)<<12|(63&ct)<<6|63&Xe,65535<ze&&1114112>ze&&(ue=ze)))}ue===null?(ue=65533,je=1):65535<ue&&(ue-=65536,x.push(55296|1023&ue>>>10),ue=56320|1023&ue),x.push(ue),K+=je}return pt(x)}function pt(l){var f=l.length;if(f<=4096)return s.apply(String,l);for(var b="",x=0;x<f;)b+=s.apply(String,l.slice(x,x+=4096));return b}function Ee(l,f,b){var x="";b=u(l.length,b);for(var K=f;K<b;++K)x+=s(127&l[K]);return x}function It(l,f,b){var x="";b=u(l.length,b);for(var K=f;K<b;++K)x+=s(l[K]);return x}function Gt(l,f,b){var x=l.length;(!f||0>f)&&(f=0),(!b||0>b||b>x)&&(b=x);for(var K="",Q=f;Q<b;++Q)K+=Se(l[Q]);return K}function Fe(l,f,b){for(var x=l.slice(f,b),K="",Q=0;Q<x.length;Q+=2)K+=s(x[Q]+256*x[Q+1]);return K}function Oe(l,f,b){if(l%1!=0||0>l)throw new RangeError("offset is not uint");if(l+f>b)throw new RangeError("Trying to access beyond buffer length")}function Ve(l,f,b,x,K,Q){if(!h.isBuffer(l))throw new TypeError('"buffer" argument must be a Buffer instance');if(f>K||f<Q)throw new RangeError('"value" argument is out of bounds');if(b+x>l.length)throw new RangeError("Index out of range")}function mt(l,f,b,x){if(b+x>l.length)throw new RangeError("Index out of range");if(0>b)throw new RangeError("Index out of range")}function Tt(l,f,b,x,K){return f=+f,b>>>=0,K||mt(l,f,b,4,34028234663852886e22,-34028234663852886e22),De.write(l,f,b,x,23,4),b+4}function en(l,f,b,x,K){return f=+f,b>>>=0,K||mt(l,f,b,8,17976931348623157e292,-17976931348623157e292),De.write(l,f,b,x,52,8),b+8}function wr(l){if(l=l.split("=")[0],l=l.trim().replace(qe,""),2>l.length)return"";for(;l.length%4!=0;)l+="=";return l}function Se(l){return 16>l?"0"+l.toString(16):l.toString(16)}function Tn(l,f){f=f||1/0;for(var b,x=l.length,K=null,Q=[],ue=0;ue<x;++ue){if(b=l.charCodeAt(ue),55295<b&&57344>b){if(!K){if(56319<b){-1<(f-=3)&&Q.push(239,191,189);continue}else if(ue+1===x){-1<(f-=3)&&Q.push(239,191,189);continue}K=b;continue}if(56320>b){-1<(f-=3)&&Q.push(239,191,189),K=b;continue}b=(K-55296<<10|b-56320)+65536}else K&&-1<(f-=3)&&Q.push(239,191,189);if(K=null,128>b){if(0>(f-=1))break;Q.push(b)}else if(2048>b){if(0>(f-=2))break;Q.push(192|b>>6,128|63&b)}else if(65536>b){if(0>(f-=3))break;Q.push(224|b>>12,128|63&b>>6,128|63&b)}else if(1114112>b){if(0>(f-=4))break;Q.push(240|b>>18,128|63&b>>12,128|63&b>>6,128|63&b)}else throw new Error("Invalid code point")}return Q}function Xn(l){for(var f=[],b=0;b<l.length;++b)f.push(255&l.charCodeAt(b));return f}function at(l,f){for(var b,x,K,Q=[],ue=0;ue<l.length&&!(0>(f-=2));++ue)b=l.charCodeAt(ue),x=b>>8,K=b%256,Q.push(K),Q.push(x);return Q}function Pt(l){return de.toByteArray(wr(l))}function hn(l,f,b,x){for(var K=0;K<x&&!(K+b>=f.length||K>=l.length);++K)f[K+b]=l[K];return K}function W(l,f){return l instanceof f||l!=null&&l.constructor!=null&&l.constructor.name!=null&&l.constructor.name===f.name}function X(l){return l!==l}var de=r("base64-js"),De=r("ieee754");o.Buffer=h,o.SlowBuffer=function(l){return+l!=l&&(l=0),h.alloc(+l)},o.INSPECT_MAX_BYTES=50,o.kMaxLength=2147483647,h.TYPED_ARRAY_SUPPORT=function(){try{var l=new Uint8Array(1);return l.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},l.foo()===42}catch{return!1}}(),h.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){return h.isBuffer(this)?this.buffer:void 0}}),Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){return h.isBuffer(this)?this.byteOffset:void 0}}),typeof Symbol<"u"&&Symbol.species!=null&&h[Symbol.species]===h&&Object.defineProperty(h,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),h.poolSize=8192,h.from=function(l,f,b){return m(l,f,b)},h.prototype.__proto__=Uint8Array.prototype,h.__proto__=Uint8Array,h.alloc=function(l,f,b){return y(l,f,b)},h.allocUnsafe=function(l){return C(l)},h.allocUnsafeSlow=function(l){return C(l)},h.isBuffer=function(l){return l!=null&&l._isBuffer===!0&&l!==h.prototype},h.compare=function(l,f){if(W(l,Uint8Array)&&(l=h.from(l,l.offset,l.byteLength)),W(f,Uint8Array)&&(f=h.from(f,f.offset,f.byteLength)),!h.isBuffer(l)||!h.isBuffer(f))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(l===f)return 0;for(var b=l.length,x=f.length,K=0,Q=u(b,x);K<Q;++K)if(l[K]!==f[K]){b=l[K],x=f[K];break}return b<x?-1:x<b?1:0},h.isEncoding=function(l){switch((l+"").toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(l,f){if(!Array.isArray(l))throw new TypeError('"list" argument must be an Array of Buffers');if(l.length===0)return h.alloc(0);var b;if(f===void 0)for(f=0,b=0;b<l.length;++b)f+=l[b].length;var x=h.allocUnsafe(f),K=0;for(b=0;b<l.length;++b){var Q=l[b];if(W(Q,Uint8Array)&&(Q=h.from(Q)),!h.isBuffer(Q))throw new TypeError('"list" argument must be an Array of Buffers');Q.copy(x,K),K+=Q.length}return x},h.byteLength=I,h.prototype._isBuffer=!0,h.prototype.swap16=function(){var l=this.length;if(l%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var f=0;f<l;f+=2)O(this,f,f+1);return this},h.prototype.swap32=function(){var l=this.length;if(l%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var f=0;f<l;f+=4)O(this,f,f+3),O(this,f+1,f+2);return this},h.prototype.swap64=function(){var l=this.length;if(l%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var f=0;f<l;f+=8)O(this,f,f+7),O(this,f+1,f+6),O(this,f+2,f+5),O(this,f+3,f+4);return this},h.prototype.toString=function(){var l=this.length;return l===0?"":arguments.length===0?Ke(this,0,l):F.apply(this,arguments)},h.prototype.toLocaleString=h.prototype.toString,h.prototype.equals=function(l){if(!h.isBuffer(l))throw new TypeError("Argument must be a Buffer");return this===l||h.compare(this,l)===0},h.prototype.inspect=function(){var l="",f=o.INSPECT_MAX_BYTES;return l=this.toString("hex",0,f).replace(/(.{2})/g,"$1 ").trim(),this.length>f&&(l+=" ... "),"<Buffer "+l+">"},h.prototype.compare=function(l,f,b,x,K){if(W(l,Uint8Array)&&(l=h.from(l,l.offset,l.byteLength)),!h.isBuffer(l))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof l);if(f===void 0&&(f=0),b===void 0&&(b=l?l.length:0),x===void 0&&(x=0),K===void 0&&(K=this.length),0>f||b>l.length||0>x||K>this.length)throw new RangeError("out of range index");if(x>=K&&f>=b)return 0;if(x>=K)return-1;if(f>=b)return 1;if(f>>>=0,b>>>=0,x>>>=0,K>>>=0,this===l)return 0;for(var Q=K-x,ue=b-f,je=u(Q,ue),vt=this.slice(x,K),ct=l.slice(f,b),Xe=0;Xe<je;++Xe)if(vt[Xe]!==ct[Xe]){Q=vt[Xe],ue=ct[Xe];break}return Q<ue?-1:ue<Q?1:0},h.prototype.includes=function(l,f,b){return this.indexOf(l,f,b)!==-1},h.prototype.indexOf=function(l,f,b){return $(this,l,f,b,!0)},h.prototype.lastIndexOf=function(l,f,b){return $(this,l,f,b,!1)},h.prototype.write=function(l,f,b,x){if(f===void 0)x="utf8",b=this.length,f=0;else if(b===void 0&&typeof f=="string")x=f,b=this.length,f=0;else if(isFinite(f))f>>>=0,isFinite(b)?(b>>>=0,x===void 0&&(x="utf8")):(x=b,b=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var K=this.length-f;if((b===void 0||b>K)&&(b=K),0<l.length&&(0>b||0>f)||f>this.length)throw new RangeError("Attempt to write outside buffer bounds");x||(x="utf8");for(var Q=!1;;)switch(x){case"hex":return N(this,l,f,b);case"utf8":case"utf-8":return B(this,l,f,b);case"ascii":return ne(this,l,f,b);case"latin1":case"binary":return oe(this,l,f,b);case"base64":return ye(this,l,f,b);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return xe(this,l,f,b);default:if(Q)throw new TypeError("Unknown encoding: "+x);x=(""+x).toLowerCase(),Q=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},h.prototype.slice=function(l,f){var b=this.length;l=~~l,f=f===void 0?b:~~f,0>l?(l+=b,0>l&&(l=0)):l>b&&(l=b),0>f?(f+=b,0>f&&(f=0)):f>b&&(f=b),f<l&&(f=l);var x=this.subarray(l,f);return x.__proto__=h.prototype,x},h.prototype.readUIntLE=function(l,f,b){l>>>=0,f>>>=0,b||Oe(l,f,this.length);for(var x=this[l],K=1,Q=0;++Q<f&&(K*=256);)x+=this[l+Q]*K;return x},h.prototype.readUIntBE=function(l,f,b){l>>>=0,f>>>=0,b||Oe(l,f,this.length);for(var x=this[l+--f],K=1;0<f&&(K*=256);)x+=this[l+--f]*K;return x},h.prototype.readUInt8=function(l,f){return l>>>=0,f||Oe(l,1,this.length),this[l]},h.prototype.readUInt16LE=function(l,f){return l>>>=0,f||Oe(l,2,this.length),this[l]|this[l+1]<<8},h.prototype.readUInt16BE=function(l,f){return l>>>=0,f||Oe(l,2,this.length),this[l]<<8|this[l+1]},h.prototype.readUInt32LE=function(l,f){return l>>>=0,f||Oe(l,4,this.length),(this[l]|this[l+1]<<8|this[l+2]<<16)+16777216*this[l+3]},h.prototype.readUInt32BE=function(l,f){return l>>>=0,f||Oe(l,4,this.length),16777216*this[l]+(this[l+1]<<16|this[l+2]<<8|this[l+3])},h.prototype.readIntLE=function(l,f,b){l>>>=0,f>>>=0,b||Oe(l,f,this.length);for(var x=this[l],K=1,Q=0;++Q<f&&(K*=256);)x+=this[l+Q]*K;return K*=128,x>=K&&(x-=n(2,8*f)),x},h.prototype.readIntBE=function(l,f,b){l>>>=0,f>>>=0,b||Oe(l,f,this.length);for(var x=f,K=1,Q=this[l+--x];0<x&&(K*=256);)Q+=this[l+--x]*K;return K*=128,Q>=K&&(Q-=n(2,8*f)),Q},h.prototype.readInt8=function(l,f){return l>>>=0,f||Oe(l,1,this.length),128&this[l]?-1*(255-this[l]+1):this[l]},h.prototype.readInt16LE=function(l,f){l>>>=0,f||Oe(l,2,this.length);var b=this[l]|this[l+1]<<8;return 32768&b?4294901760|b:b},h.prototype.readInt16BE=function(l,f){l>>>=0,f||Oe(l,2,this.length);var b=this[l+1]|this[l]<<8;return 32768&b?4294901760|b:b},h.prototype.readInt32LE=function(l,f){return l>>>=0,f||Oe(l,4,this.length),this[l]|this[l+1]<<8|this[l+2]<<16|this[l+3]<<24},h.prototype.readInt32BE=function(l,f){return l>>>=0,f||Oe(l,4,this.length),this[l]<<24|this[l+1]<<16|this[l+2]<<8|this[l+3]},h.prototype.readFloatLE=function(l,f){return l>>>=0,f||Oe(l,4,this.length),De.read(this,l,!0,23,4)},h.prototype.readFloatBE=function(l,f){return l>>>=0,f||Oe(l,4,this.length),De.read(this,l,!1,23,4)},h.prototype.readDoubleLE=function(l,f){return l>>>=0,f||Oe(l,8,this.length),De.read(this,l,!0,52,8)},h.prototype.readDoubleBE=function(l,f){return l>>>=0,f||Oe(l,8,this.length),De.read(this,l,!1,52,8)},h.prototype.writeUIntLE=function(l,f,b,x){if(l=+l,f>>>=0,b>>>=0,!x){var K=n(2,8*b)-1;Ve(this,l,f,b,K,0)}var Q=1,ue=0;for(this[f]=255&l;++ue<b&&(Q*=256);)this[f+ue]=255&l/Q;return f+b},h.prototype.writeUIntBE=function(l,f,b,x){if(l=+l,f>>>=0,b>>>=0,!x){var K=n(2,8*b)-1;Ve(this,l,f,b,K,0)}var Q=b-1,ue=1;for(this[f+Q]=255&l;0<=--Q&&(ue*=256);)this[f+Q]=255&l/ue;return f+b},h.prototype.writeUInt8=function(l,f,b){return l=+l,f>>>=0,b||Ve(this,l,f,1,255,0),this[f]=255&l,f+1},h.prototype.writeUInt16LE=function(l,f,b){return l=+l,f>>>=0,b||Ve(this,l,f,2,65535,0),this[f]=255&l,this[f+1]=l>>>8,f+2},h.prototype.writeUInt16BE=function(l,f,b){return l=+l,f>>>=0,b||Ve(this,l,f,2,65535,0),this[f]=l>>>8,this[f+1]=255&l,f+2},h.prototype.writeUInt32LE=function(l,f,b){return l=+l,f>>>=0,b||Ve(this,l,f,4,4294967295,0),this[f+3]=l>>>24,this[f+2]=l>>>16,this[f+1]=l>>>8,this[f]=255&l,f+4},h.prototype.writeUInt32BE=function(l,f,b){return l=+l,f>>>=0,b||Ve(this,l,f,4,4294967295,0),this[f]=l>>>24,this[f+1]=l>>>16,this[f+2]=l>>>8,this[f+3]=255&l,f+4},h.prototype.writeIntLE=function(l,f,b,x){if(l=+l,f>>>=0,!x){var K=n(2,8*b-1);Ve(this,l,f,b,K-1,-K)}var Q=0,ue=1,je=0;for(this[f]=255&l;++Q<b&&(ue*=256);)0>l&&je===0&&this[f+Q-1]!==0&&(je=1),this[f+Q]=255&(l/ue>>0)-je;return f+b},h.prototype.writeIntBE=function(l,f,b,x){if(l=+l,f>>>=0,!x){var K=n(2,8*b-1);Ve(this,l,f,b,K-1,-K)}var Q=b-1,ue=1,je=0;for(this[f+Q]=255&l;0<=--Q&&(ue*=256);)0>l&&je===0&&this[f+Q+1]!==0&&(je=1),this[f+Q]=255&(l/ue>>0)-je;return f+b},h.prototype.writeInt8=function(l,f,b){return l=+l,f>>>=0,b||Ve(this,l,f,1,127,-128),0>l&&(l=255+l+1),this[f]=255&l,f+1},h.prototype.writeInt16LE=function(l,f,b){return l=+l,f>>>=0,b||Ve(this,l,f,2,32767,-32768),this[f]=255&l,this[f+1]=l>>>8,f+2},h.prototype.writeInt16BE=function(l,f,b){return l=+l,f>>>=0,b||Ve(this,l,f,2,32767,-32768),this[f]=l>>>8,this[f+1]=255&l,f+2},h.prototype.writeInt32LE=function(l,f,b){return l=+l,f>>>=0,b||Ve(this,l,f,4,2147483647,-2147483648),this[f]=255&l,this[f+1]=l>>>8,this[f+2]=l>>>16,this[f+3]=l>>>24,f+4},h.prototype.writeInt32BE=function(l,f,b){return l=+l,f>>>=0,b||Ve(this,l,f,4,2147483647,-2147483648),0>l&&(l=4294967295+l+1),this[f]=l>>>24,this[f+1]=l>>>16,this[f+2]=l>>>8,this[f+3]=255&l,f+4},h.prototype.writeFloatLE=function(l,f,b){return Tt(this,l,f,!0,b)},h.prototype.writeFloatBE=function(l,f,b){return Tt(this,l,f,!1,b)},h.prototype.writeDoubleLE=function(l,f,b){return en(this,l,f,!0,b)},h.prototype.writeDoubleBE=function(l,f,b){return en(this,l,f,!1,b)},h.prototype.copy=function(l,f,b,x){if(!h.isBuffer(l))throw new TypeError("argument should be a Buffer");if(b||(b=0),x||x===0||(x=this.length),f>=l.length&&(f=l.length),f||(f=0),0<x&&x<b&&(x=b),x===b||l.length===0||this.length===0)return 0;if(0>f)throw new RangeError("targetStart out of bounds");if(0>b||b>=this.length)throw new RangeError("Index out of range");if(0>x)throw new RangeError("sourceEnd out of bounds");x>this.length&&(x=this.length),l.length-f<x-b&&(x=l.length-f+b);var K=x-b;if(this===l&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(f,b,x);else if(this===l&&b<f&&f<x)for(var Q=K-1;0<=Q;--Q)l[Q+f]=this[Q+b];else Uint8Array.prototype.set.call(l,this.subarray(b,x),f);return K},h.prototype.fill=function(l,f,b,x){if(typeof l=="string"){if(typeof f=="string"?(x=f,f=0,b=this.length):typeof b=="string"&&(x=b,b=this.length),x!==void 0&&typeof x!="string")throw new TypeError("encoding must be a string");if(typeof x=="string"&&!h.isEncoding(x))throw new TypeError("Unknown encoding: "+x);if(l.length===1){var K=l.charCodeAt(0);(x==="utf8"&&128>K||x==="latin1")&&(l=K)}}else typeof l=="number"&&(l&=255);if(0>f||this.length<f||this.length<b)throw new RangeError("Out of range index");if(b<=f)return this;f>>>=0,b=b===void 0?this.length:b>>>0,l||(l=0);var Q;if(typeof l=="number")for(Q=f;Q<b;++Q)this[Q]=l;else{var ue=h.isBuffer(l)?l:h.from(l,x),je=ue.length;if(je===0)throw new TypeError('The value "'+l+'" is invalid for argument "value"');for(Q=0;Q<b-f;++Q)this[Q+f]=ue[Q%je]}return this};var qe=/[^+/0-9A-Za-z-_]/g}).call(this)}).call(this,r("buffer").Buffer)},{"base64-js":1,buffer:3,ieee754:9}],4:[function(r,i,o){(function(s){(function(){function u(){let h;try{h=o.storage.getItem("debug")}catch{}return!h&&typeof s<"u"&&"env"in s&&(h=s.env.DEBUG),h}o.formatArgs=function(h){if(h[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+h[0]+(this.useColors?"%c ":" ")+"+"+i.exports.humanize(this.diff),!this.useColors)return;let m="color: "+this.color;h.splice(1,0,m,"color: inherit");let _=0,y=0;h[0].replace(/%[a-zA-Z%]/g,C=>{C==="%%"||(_++,C==="%c"&&(y=_))}),h.splice(y,0,m)},o.save=function(h){try{h?o.storage.setItem("debug",h):o.storage.removeItem("debug")}catch{}},o.load=u,o.useColors=function(){return!!(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))||!(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&(typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},o.storage=function(){try{return localStorage}catch{}}(),o.destroy=(()=>{let h=!1;return()=>{h||(h=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),o.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],o.log=console.debug||console.log||(()=>{}),i.exports=r("./common")(o);let{formatters:d}=i.exports;d.j=function(h){try{return JSON.stringify(h)}catch(m){return"[UnexpectedJSONParseError]: "+m.message}}}).call(this)}).call(this,r("_process"))},{"./common":5,_process:12}],5:[function(r,i){i.exports=function(o){function s(h){function m(...C){if(!m.enabled)return;let E=m,R=+new Date,V=R-(_||R);E.diff=V,E.prev=_,E.curr=R,_=R,C[0]=s.coerce(C[0]),typeof C[0]!="string"&&C.unshift("%O");let D=0;C[0]=C[0].replace(/%([a-zA-Z%])/g,(I,F)=>{if(I==="%%")return"%";D++;let O=s.formatters[F];if(typeof O=="function"){let $=C[D];I=O.call(E,$),C.splice(D,1),D--}return I}),s.formatArgs.call(E,C),(E.log||s.log).apply(E,C)}let _,y=null;return m.namespace=h,m.useColors=s.useColors(),m.color=s.selectColor(h),m.extend=u,m.destroy=s.destroy,Object.defineProperty(m,"enabled",{enumerable:!0,configurable:!1,get:()=>y===null?s.enabled(h):y,set:C=>{y=C}}),typeof s.init=="function"&&s.init(m),m}function u(h,m){let _=s(this.namespace+(typeof m>"u"?":":m)+h);return _.log=this.log,_}function d(h){return h.toString().substring(2,h.toString().length-2).replace(/\.\*\?$/,"*")}return s.debug=s,s.default=s,s.coerce=function(h){return h instanceof Error?h.stack||h.message:h},s.disable=function(){let h=[...s.names.map(d),...s.skips.map(d).map(m=>"-"+m)].join(",");return s.enable(""),h},s.enable=function(h){s.save(h),s.names=[],s.skips=[];let m,_=(typeof h=="string"?h:"").split(/[\s,]+/),y=_.length;for(m=0;m<y;m++)_[m]&&(h=_[m].replace(/\*/g,".*?"),h[0]==="-"?s.skips.push(new RegExp("^"+h.substr(1)+"$")):s.names.push(new RegExp("^"+h+"$")))},s.enabled=function(h){if(h[h.length-1]==="*")return!0;let m,_;for(m=0,_=s.skips.length;m<_;m++)if(s.skips[m].test(h))return!1;for(m=0,_=s.names.length;m<_;m++)if(s.names[m].test(h))return!0;return!1},s.humanize=r("ms"),s.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(o).forEach(h=>{s[h]=o[h]}),s.names=[],s.skips=[],s.formatters={},s.selectColor=function(h){let m=0;for(let _=0;_<h.length;_++)m=(m<<5)-m+h.charCodeAt(_),m|=0;return s.colors[t(m)%s.colors.length]},s.enable(s.load()),s}},{ms:11}],6:[function(r,i){"use strict";function o(s,u){for(let d in u)Object.defineProperty(s,d,{value:u[d],enumerable:!0,configurable:!0});return s}i.exports=function(s,u,d){if(!s||typeof s=="string")throw new TypeError("Please pass an Error to err-code");d||(d={}),typeof u=="object"&&(d=u,u=""),u&&(d.code=u);try{return o(s,d)}catch{d.message=s.message,d.stack=s.stack;let m=function(){};return m.prototype=Object.create(Object.getPrototypeOf(s)),o(new m,d)}}},{}],7:[function(r,i){"use strict";function o(N){console&&console.warn&&console.warn(N)}function s(){s.init.call(this)}function u(N){if(typeof N!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof N)}function d(N){return N._maxListeners===void 0?s.defaultMaxListeners:N._maxListeners}function h(N,B,ne,oe){var ye,xe,Ie;if(u(ne),xe=N._events,xe===void 0?(xe=N._events=Object.create(null),N._eventsCount=0):(xe.newListener!==void 0&&(N.emit("newListener",B,ne.listener?ne.listener:ne),xe=N._events),Ie=xe[B]),Ie===void 0)Ie=xe[B]=ne,++N._eventsCount;else if(typeof Ie=="function"?Ie=xe[B]=oe?[ne,Ie]:[Ie,ne]:oe?Ie.unshift(ne):Ie.push(ne),ye=d(N),0<ye&&Ie.length>ye&&!Ie.warned){Ie.warned=!0;var Ke=new Error("Possible EventEmitter memory leak detected. "+Ie.length+" "+(B+" listeners added. Use emitter.setMaxListeners() to increase limit"));Ke.name="MaxListenersExceededWarning",Ke.emitter=N,Ke.type=B,Ke.count=Ie.length,o(Ke)}return N}function m(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _(N,B,ne){var oe={fired:!1,wrapFn:void 0,target:N,type:B,listener:ne},ye=m.bind(oe);return ye.listener=ne,oe.wrapFn=ye,ye}function y(N,B,ne){var oe=N._events;if(oe===void 0)return[];var ye=oe[B];return ye===void 0?[]:typeof ye=="function"?ne?[ye.listener||ye]:[ye]:ne?V(ye):E(ye,ye.length)}function C(N){var B=this._events;if(B!==void 0){var ne=B[N];if(typeof ne=="function")return 1;if(ne!==void 0)return ne.length}return 0}function E(N,B){for(var ne=Array(B),oe=0;oe<B;++oe)ne[oe]=N[oe];return ne}function R(N,B){for(;B+1<N.length;B++)N[B]=N[B+1];N.pop()}function V(N){for(var B=Array(N.length),ne=0;ne<B.length;++ne)B[ne]=N[ne].listener||N[ne];return B}function D(N,B,ne){typeof N.on=="function"&&M(N,"error",B,ne)}function M(N,B,ne,oe){if(typeof N.on=="function")oe.once?N.once(B,ne):N.on(B,ne);else if(typeof N.addEventListener=="function")N.addEventListener(B,function ye(xe){oe.once&&N.removeEventListener(B,ye),ne(xe)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof N)}var I,F=typeof Reflect=="object"?Reflect:null,O=F&&typeof F.apply=="function"?F.apply:function(N,B,ne){return Function.prototype.apply.call(N,B,ne)};I=F&&typeof F.ownKeys=="function"?F.ownKeys:Object.getOwnPropertySymbols?function(N){return Object.getOwnPropertyNames(N).concat(Object.getOwnPropertySymbols(N))}:function(N){return Object.getOwnPropertyNames(N)};var $=Number.isNaN||function(N){return N!==N};i.exports=s,i.exports.once=function(N,B){return new Promise(function(ne,oe){function ye(Ie){N.removeListener(B,xe),oe(Ie)}function xe(){typeof N.removeListener=="function"&&N.removeListener("error",ye),ne([].slice.call(arguments))}M(N,B,xe,{once:!0}),B!=="error"&&D(N,ye,{once:!0})})},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var J=10;Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return J},set:function(N){if(typeof N!="number"||0>N||$(N))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+N+".");J=N}}),s.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(N){if(typeof N!="number"||0>N||$(N))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+N+".");return this._maxListeners=N,this},s.prototype.getMaxListeners=function(){return d(this)},s.prototype.emit=function(N){for(var B=[],ne=1;ne<arguments.length;ne++)B.push(arguments[ne]);var oe=N==="error",ye=this._events;if(ye!==void 0)oe=oe&&ye.error===void 0;else if(!oe)return!1;if(oe){var xe;if(0<B.length&&(xe=B[0]),xe instanceof Error)throw xe;var Ie=new Error("Unhandled error."+(xe?" ("+xe.message+")":""));throw Ie.context=xe,Ie}var Ke=ye[N];if(Ke===void 0)return!1;if(typeof Ke=="function")O(Ke,this,B);else for(var pt=Ke.length,Ee=E(Ke,pt),ne=0;ne<pt;++ne)O(Ee[ne],this,B);return!0},s.prototype.addListener=function(N,B){return h(this,N,B,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(N,B){return h(this,N,B,!0)},s.prototype.once=function(N,B){return u(B),this.on(N,_(this,N,B)),this},s.prototype.prependOnceListener=function(N,B){return u(B),this.prependListener(N,_(this,N,B)),this},s.prototype.removeListener=function(N,B){var ne,oe,ye,xe,Ie;if(u(B),oe=this._events,oe===void 0)return this;if(ne=oe[N],ne===void 0)return this;if(ne===B||ne.listener===B)--this._eventsCount==0?this._events=Object.create(null):(delete oe[N],oe.removeListener&&this.emit("removeListener",N,ne.listener||B));else if(typeof ne!="function"){for(ye=-1,xe=ne.length-1;0<=xe;xe--)if(ne[xe]===B||ne[xe].listener===B){Ie=ne[xe].listener,ye=xe;break}if(0>ye)return this;ye===0?ne.shift():R(ne,ye),ne.length===1&&(oe[N]=ne[0]),oe.removeListener!==void 0&&this.emit("removeListener",N,Ie||B)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(N){var B,ne,oe;if(ne=this._events,ne===void 0)return this;if(ne.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):ne[N]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete ne[N]),this;if(arguments.length===0){var ye,xe=Object.keys(ne);for(oe=0;oe<xe.length;++oe)ye=xe[oe],ye!=="removeListener"&&this.removeAllListeners(ye);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(B=ne[N],typeof B=="function")this.removeListener(N,B);else if(B!==void 0)for(oe=B.length-1;0<=oe;oe--)this.removeListener(N,B[oe]);return this},s.prototype.listeners=function(N){return y(this,N,!0)},s.prototype.rawListeners=function(N){return y(this,N,!1)},s.listenerCount=function(N,B){return typeof N.listenerCount=="function"?N.listenerCount(B):C.call(N,B)},s.prototype.listenerCount=C,s.prototype.eventNames=function(){return 0<this._eventsCount?I(this._events):[]}},{}],8:[function(r,i){i.exports=function(){if(typeof globalThis>"u")return null;var o={RTCPeerConnection:globalThis.RTCPeerConnection||globalThis.mozRTCPeerConnection||globalThis.webkitRTCPeerConnection,RTCSessionDescription:globalThis.RTCSessionDescription||globalThis.mozRTCSessionDescription||globalThis.webkitRTCSessionDescription,RTCIceCandidate:globalThis.RTCIceCandidate||globalThis.mozRTCIceCandidate||globalThis.webkitRTCIceCandidate};return o.RTCPeerConnection?o:null}},{}],9:[function(r,i,o){o.read=function(s,u,d,h,m){var _,y,C=8*m-h-1,E=(1<<C)-1,R=E>>1,V=-7,D=d?m-1:0,M=d?-1:1,I=s[u+D];for(D+=M,_=I&(1<<-V)-1,I>>=-V,V+=C;0<V;_=256*_+s[u+D],D+=M,V-=8);for(y=_&(1<<-V)-1,_>>=-V,V+=h;0<V;y=256*y+s[u+D],D+=M,V-=8);if(_===0)_=1-R;else{if(_===E)return y?NaN:(I?-1:1)*(1/0);y+=n(2,h),_-=R}return(I?-1:1)*y*n(2,_-h)},o.write=function(s,u,d,h,m,_){var y,C,E,R=Math.LN2,V=Math.log,D=8*_-m-1,M=(1<<D)-1,I=M>>1,F=m===23?n(2,-24)-n(2,-77):0,O=h?0:_-1,$=h?1:-1,J=0>u||u===0&&0>1/u?1:0;for(u=t(u),isNaN(u)||u===1/0?(C=isNaN(u)?1:0,y=M):(y=e(V(u)/R),1>u*(E=n(2,-y))&&(y--,E*=2),u+=1<=y+I?F/E:F*n(2,1-I),2<=u*E&&(y++,E/=2),y+I>=M?(C=0,y=M):1<=y+I?(C=(u*E-1)*n(2,m),y+=I):(C=u*n(2,I-1)*n(2,m),y=0));8<=m;s[d+O]=255&C,O+=$,C/=256,m-=8);for(y=y<<m|C,D+=m;0<D;s[d+O]=255&y,O+=$,y/=256,D-=8);s[d+O-$]|=128*J}},{}],10:[function(r,i){i.exports=typeof Object.create=="function"?function(o,s){s&&(o.super_=s,o.prototype=Object.create(s.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}))}:function(o,s){if(s){o.super_=s;var u=function(){};u.prototype=s.prototype,o.prototype=new u,o.prototype.constructor=o}}},{}],11:[function(r,i){var o=Math.round;function s(_){if(_+="",!(100<_.length)){var y=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(_);if(y){var C=parseFloat(y[1]),E=(y[2]||"ms").toLowerCase();return E==="years"||E==="year"||E==="yrs"||E==="yr"||E==="y"?315576e5*C:E==="weeks"||E==="week"||E==="w"?6048e5*C:E==="days"||E==="day"||E==="d"?864e5*C:E==="hours"||E==="hour"||E==="hrs"||E==="hr"||E==="h"?36e5*C:E==="minutes"||E==="minute"||E==="mins"||E==="min"||E==="m"?6e4*C:E==="seconds"||E==="second"||E==="secs"||E==="sec"||E==="s"?1e3*C:E==="milliseconds"||E==="millisecond"||E==="msecs"||E==="msec"||E==="ms"?C:void 0}}}function u(_){var y=t(_);return 864e5<=y?o(_/864e5)+"d":36e5<=y?o(_/36e5)+"h":6e4<=y?o(_/6e4)+"m":1e3<=y?o(_/1e3)+"s":_+"ms"}function d(_){var y=t(_);return 864e5<=y?h(_,y,864e5,"day"):36e5<=y?h(_,y,36e5,"hour"):6e4<=y?h(_,y,6e4,"minute"):1e3<=y?h(_,y,1e3,"second"):_+" ms"}function h(_,y,C,E){return o(_/C)+" "+E+(y>=1.5*C?"s":"")}var m=24*(60*6e4);i.exports=function(_,y){y=y||{};var C=typeof _;if(C=="string"&&0<_.length)return s(_);if(C==="number"&&isFinite(_))return y.long?d(_):u(_);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(_))}},{}],12:[function(r,i){function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function u(F){if(C===setTimeout)return setTimeout(F,0);if((C===o||!C)&&setTimeout)return C=setTimeout,setTimeout(F,0);try{return C(F,0)}catch{try{return C.call(null,F,0)}catch{return C.call(this,F,0)}}}function d(F){if(E===clearTimeout)return clearTimeout(F);if((E===s||!E)&&clearTimeout)return E=clearTimeout,clearTimeout(F);try{return E(F)}catch{try{return E.call(null,F)}catch{return E.call(this,F)}}}function h(){M&&V&&(M=!1,V.length?D=V.concat(D):I=-1,D.length&&m())}function m(){if(!M){var F=u(h);M=!0;for(var O=D.length;O;){for(V=D,D=[];++I<O;)V&&V[I].run();I=-1,O=D.length}V=null,M=!1,d(F)}}function _(F,O){this.fun=F,this.array=O}function y(){}var C,E,R=i.exports={};(function(){try{C=typeof setTimeout=="function"?setTimeout:o}catch{C=o}try{E=typeof clearTimeout=="function"?clearTimeout:s}catch{E=s}})();var V,D=[],M=!1,I=-1;R.nextTick=function(F){var O=Array(arguments.length-1);if(1<arguments.length)for(var $=1;$<arguments.length;$++)O[$-1]=arguments[$];D.push(new _(F,O)),D.length!==1||M||u(m)},_.prototype.run=function(){this.fun.apply(null,this.array)},R.title="browser",R.browser=!0,R.env={},R.argv=[],R.version="",R.versions={},R.on=y,R.addListener=y,R.once=y,R.off=y,R.removeListener=y,R.removeAllListeners=y,R.emit=y,R.prependListener=y,R.prependOnceListener=y,R.listeners=function(){return[]},R.binding=function(){throw new Error("process.binding is not supported")},R.cwd=function(){return"/"},R.chdir=function(){throw new Error("process.chdir is not supported")},R.umask=function(){return 0}},{}],13:[function(r,i){(function(o){(function(){let s;i.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window>"u"?o:window):u=>(s||(s=Promise.resolve())).then(u).catch(d=>setTimeout(()=>{throw d},0))}).call(this)}).call(this,typeof global>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:global)},{}],14:[function(r,i){(function(o,s){(function(){"use strict";var u=r("safe-buffer").Buffer,d=s.crypto||s.msCrypto;i.exports=d&&d.getRandomValues?function(h,m){if(h>4294967295)throw new RangeError("requested too many random bytes");var _=u.allocUnsafe(h);if(0<h)if(65536<h)for(var y=0;y<h;y+=65536)d.getRandomValues(_.slice(y,y+65536));else d.getRandomValues(_);return typeof m=="function"?o.nextTick(function(){m(null,_)}):_}:function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this)}).call(this,r("_process"),typeof global>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:global)},{_process:12,"safe-buffer":30}],15:[function(r,i){"use strict";function o(y,C){y.prototype=Object.create(C.prototype),y.prototype.constructor=y,y.__proto__=C}function s(y,C,E){function R(D,M,I){return typeof C=="string"?C:C(D,M,I)}E||(E=Error);var V=function(D){function M(I,F,O){return D.call(this,R(I,F,O))||this}return o(M,D),M}(E);V.prototype.name=E.name,V.prototype.code=y,_[y]=V}function u(y,C){if(Array.isArray(y)){var E=y.length;return y=y.map(function(R){return R+""}),2<E?"one of ".concat(C," ").concat(y.slice(0,E-1).join(", "),", or ")+y[E-1]:E===2?"one of ".concat(C," ").concat(y[0]," or ").concat(y[1]):"of ".concat(C," ").concat(y[0])}return"of ".concat(C," ").concat(y+"")}function d(y,C,E){return y.substr(!E||0>E?0:+E,C.length)===C}function h(y,C,E){return(E===void 0||E>y.length)&&(E=y.length),y.substring(E-C.length,E)===C}function m(y,C,E){return typeof E!="number"&&(E=0),!(E+C.length>y.length)&&y.indexOf(C,E)!==-1}var _={};s("ERR_INVALID_OPT_VALUE",function(y,C){return'The value "'+C+'" is invalid for option "'+y+'"'},TypeError),s("ERR_INVALID_ARG_TYPE",function(y,C,E){var R;typeof C=="string"&&d(C,"not ")?(R="must not be",C=C.replace(/^not /,"")):R="must be";var V;if(h(y," argument"))V="The ".concat(y," ").concat(R," ").concat(u(C,"type"));else{var D=m(y,".")?"property":"argument";V='The "'.concat(y,'" ').concat(D," ").concat(R," ").concat(u(C,"type"))}return V+=". Received type ".concat(typeof E),V},TypeError),s("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),s("ERR_METHOD_NOT_IMPLEMENTED",function(y){return"The "+y+" method is not implemented"}),s("ERR_STREAM_PREMATURE_CLOSE","Premature close"),s("ERR_STREAM_DESTROYED",function(y){return"Cannot call "+y+" after a stream was destroyed"}),s("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),s("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),s("ERR_STREAM_WRITE_AFTER_END","write after end"),s("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),s("ERR_UNKNOWN_ENCODING",function(y){return"Unknown encoding: "+y},TypeError),s("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),i.exports.codes=_},{}],16:[function(r,i){(function(o){(function(){"use strict";function s(R){return this instanceof s?(m.call(this,R),_.call(this,R),this.allowHalfOpen=!0,void(R&&(R.readable===!1&&(this.readable=!1),R.writable===!1&&(this.writable=!1),R.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",u))))):new s(R)}function u(){this._writableState.ended||o.nextTick(d,this)}function d(R){R.end()}var h=Object.keys||function(R){var V=[];for(var D in R)V.push(D);return V};i.exports=s;var m=r("./_stream_readable"),_=r("./_stream_writable");r("inherits")(s,m);for(var y,C=h(_.prototype),E=0;E<C.length;E++)y=C[E],s.prototype[y]||(s.prototype[y]=_.prototype[y]);Object.defineProperty(s.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(s.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(s.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(s.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(R){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=R,this._writableState.destroyed=R)}})}).call(this)}).call(this,r("_process"))},{"./_stream_readable":18,"./_stream_writable":20,_process:12,inherits:10}],17:[function(r,i){"use strict";function o(u){return this instanceof o?void s.call(this,u):new o(u)}i.exports=o;var s=r("./_stream_transform");r("inherits")(o,s),o.prototype._transform=function(u,d,h){h(null,u)}},{"./_stream_transform":19,inherits:10}],18:[function(r,i){(function(o,s){(function(){"use strict";function u(l){return Oe.from(l)}function d(l){return Oe.isBuffer(l)||l instanceof Ve}function h(l,f,b){return typeof l.prependListener=="function"?l.prependListener(f,b):void(l._events&&l._events[f]?Array.isArray(l._events[f])?l._events[f].unshift(b):l._events[f]=[b,l._events[f]]:l.on(f,b))}function m(l,f,b){pt=pt||r("./_stream_duplex"),l=l||{},typeof b!="boolean"&&(b=f instanceof pt),this.objectMode=!!l.objectMode,b&&(this.objectMode=this.objectMode||!!l.readableObjectMode),this.highWaterMark=at(this,l,"readableHighWaterMark",b),this.buffer=new Se,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=l.emitClose!==!1,this.autoDestroy=!!l.autoDestroy,this.destroyed=!1,this.defaultEncoding=l.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,l.encoding&&(!Tt&&(Tt=r("string_decoder/").StringDecoder),this.decoder=new Tt(l.encoding),this.encoding=l.encoding)}function _(l){if(pt=pt||r("./_stream_duplex"),!(this instanceof _))return new _(l);var f=this instanceof pt;this._readableState=new m(l,this,f),this.readable=!0,l&&(typeof l.read=="function"&&(this._read=l.read),typeof l.destroy=="function"&&(this._destroy=l.destroy)),Fe.call(this)}function y(l,f,b,x,K){Ee("readableAddChunk",f);var Q=l._readableState;if(f===null)Q.reading=!1,D(l,Q);else{var ue;if(K||(ue=E(Q,f)),ue)De(l,ue);else if(!(Q.objectMode||f&&0<f.length))x||(Q.reading=!1,F(l,Q));else if(typeof f=="string"||Q.objectMode||Object.getPrototypeOf(f)===Oe.prototype||(f=u(f)),x)Q.endEmitted?De(l,new de):C(l,Q,f,!0);else if(Q.ended)De(l,new W);else{if(Q.destroyed)return!1;Q.reading=!1,Q.decoder&&!b?(f=Q.decoder.write(f),Q.objectMode||f.length!==0?C(l,Q,f,!1):F(l,Q)):C(l,Q,f,!1)}}return!Q.ended&&(Q.length<Q.highWaterMark||Q.length===0)}function C(l,f,b,x){f.flowing&&f.length===0&&!f.sync?(f.awaitDrain=0,l.emit("data",b)):(f.length+=f.objectMode?1:b.length,x?f.buffer.unshift(b):f.buffer.push(b),f.needReadable&&M(l)),F(l,f)}function E(l,f){var b;return d(f)||typeof f=="string"||f===void 0||l.objectMode||(b=new hn("chunk",["string","Buffer","Uint8Array"],f)),b}function R(l){return 1073741824<=l?l=1073741824:(l--,l|=l>>>1,l|=l>>>2,l|=l>>>4,l|=l>>>8,l|=l>>>16,l++),l}function V(l,f){return 0>=l||f.length===0&&f.ended?0:f.objectMode?1:l===l?(l>f.highWaterMark&&(f.highWaterMark=R(l)),l<=f.length?l:f.ended?f.length:(f.needReadable=!0,0)):f.flowing&&f.length?f.buffer.head.data.length:f.length}function D(l,f){if(Ee("onEofChunk"),!f.ended){if(f.decoder){var b=f.decoder.end();b&&b.length&&(f.buffer.push(b),f.length+=f.objectMode?1:b.length)}f.ended=!0,f.sync?M(l):(f.needReadable=!1,!f.emittedReadable&&(f.emittedReadable=!0,I(l)))}}function M(l){var f=l._readableState;Ee("emitReadable",f.needReadable,f.emittedReadable),f.needReadable=!1,f.emittedReadable||(Ee("emitReadable",f.flowing),f.emittedReadable=!0,o.nextTick(I,l))}function I(l){var f=l._readableState;Ee("emitReadable_",f.destroyed,f.length,f.ended),!f.destroyed&&(f.length||f.ended)&&(l.emit("readable"),f.emittedReadable=!1),f.needReadable=!f.flowing&&!f.ended&&f.length<=f.highWaterMark,oe(l)}function F(l,f){f.readingMore||(f.readingMore=!0,o.nextTick(O,l,f))}function O(l,f){for(;!f.reading&&!f.ended&&(f.length<f.highWaterMark||f.flowing&&f.length===0);){var b=f.length;if(Ee("maybeReadMore read 0"),l.read(0),b===f.length)break}f.readingMore=!1}function $(l){return function(){var f=l._readableState;Ee("pipeOnDrain",f.awaitDrain),f.awaitDrain&&f.awaitDrain--,f.awaitDrain===0&&Gt(l,"data")&&(f.flowing=!0,oe(l))}}function J(l){var f=l._readableState;f.readableListening=0<l.listenerCount("readable"),f.resumeScheduled&&!f.paused?f.flowing=!0:0<l.listenerCount("data")&&l.resume()}function N(l){Ee("readable nexttick read 0"),l.read(0)}function B(l,f){f.resumeScheduled||(f.resumeScheduled=!0,o.nextTick(ne,l,f))}function ne(l,f){Ee("resume",f.reading),f.reading||l.read(0),f.resumeScheduled=!1,l.emit("resume"),oe(l),f.flowing&&!f.reading&&l.read(0)}function oe(l){var f=l._readableState;for(Ee("flow",f.flowing);f.flowing&&l.read()!==null;);}function ye(l,f){if(f.length===0)return null;var b;return f.objectMode?b=f.buffer.shift():!l||l>=f.length?(b=f.decoder?f.buffer.join(""):f.buffer.length===1?f.buffer.first():f.buffer.concat(f.length),f.buffer.clear()):b=f.buffer.consume(l,f.decoder),b}function xe(l){var f=l._readableState;Ee("endReadable",f.endEmitted),f.endEmitted||(f.ended=!0,o.nextTick(Ie,f,l))}function Ie(l,f){if(Ee("endReadableNT",l.endEmitted,l.length),!l.endEmitted&&l.length===0&&(l.endEmitted=!0,f.readable=!1,f.emit("end"),l.autoDestroy)){var b=f._writableState;(!b||b.autoDestroy&&b.finished)&&f.destroy()}}function Ke(l,f){for(var b=0,x=l.length;b<x;b++)if(l[b]===f)return b;return-1}i.exports=_;var pt;_.ReadableState=m;var Ee,It=r("events").EventEmitter,Gt=function(l,f){return l.listeners(f).length},Fe=r("./internal/streams/stream"),Oe=r("buffer").Buffer,Ve=s.Uint8Array||function(){},mt=r("util");Ee=mt&&mt.debuglog?mt.debuglog("stream"):function(){};var Tt,en,wr,Se=r("./internal/streams/buffer_list"),Tn=r("./internal/streams/destroy"),Xn=r("./internal/streams/state"),at=Xn.getHighWaterMark,Pt=r("../errors").codes,hn=Pt.ERR_INVALID_ARG_TYPE,W=Pt.ERR_STREAM_PUSH_AFTER_EOF,X=Pt.ERR_METHOD_NOT_IMPLEMENTED,de=Pt.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r("inherits")(_,Fe);var De=Tn.errorOrDestroy,qe=["error","close","destroy","pause","resume"];Object.defineProperty(_.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(l){this._readableState&&(this._readableState.destroyed=l)}}),_.prototype.destroy=Tn.destroy,_.prototype._undestroy=Tn.undestroy,_.prototype._destroy=function(l,f){f(l)},_.prototype.push=function(l,f){var b,x=this._readableState;return x.objectMode?b=!0:typeof l=="string"&&(f=f||x.defaultEncoding,f!==x.encoding&&(l=Oe.from(l,f),f=""),b=!0),y(this,l,f,!1,b)},_.prototype.unshift=function(l){return y(this,l,null,!0,!1)},_.prototype.isPaused=function(){return this._readableState.flowing===!1},_.prototype.setEncoding=function(l){Tt||(Tt=r("string_decoder/").StringDecoder);var f=new Tt(l);this._readableState.decoder=f,this._readableState.encoding=this._readableState.decoder.encoding;for(var b=this._readableState.buffer.head,x="";b!==null;)x+=f.write(b.data),b=b.next;return this._readableState.buffer.clear(),x!==""&&this._readableState.buffer.push(x),this._readableState.length=x.length,this},_.prototype.read=function(l){Ee("read",l),l=parseInt(l,10);var f=this._readableState,b=l;if(l!==0&&(f.emittedReadable=!1),l===0&&f.needReadable&&((f.highWaterMark===0?0<f.length:f.length>=f.highWaterMark)||f.ended))return Ee("read: emitReadable",f.length,f.ended),f.length===0&&f.ended?xe(this):M(this),null;if(l=V(l,f),l===0&&f.ended)return f.length===0&&xe(this),null;var x=f.needReadable;Ee("need readable",x),(f.length===0||f.length-l<f.highWaterMark)&&(x=!0,Ee("length less than watermark",x)),f.ended||f.reading?(x=!1,Ee("reading or ended",x)):x&&(Ee("do read"),f.reading=!0,f.sync=!0,f.length===0&&(f.needReadable=!0),this._read(f.highWaterMark),f.sync=!1,!f.reading&&(l=V(b,f)));var K;return K=0<l?ye(l,f):null,K===null?(f.needReadable=f.length<=f.highWaterMark,l=0):(f.length-=l,f.awaitDrain=0),f.length===0&&(!f.ended&&(f.needReadable=!0),b!==l&&f.ended&&xe(this)),K!==null&&this.emit("data",K),K},_.prototype._read=function(){De(this,new X("_read()"))},_.prototype.pipe=function(l,f){function b(xn,sn){Ee("onunpipe"),xn===Xe&&sn&&sn.hasUnpiped===!1&&(sn.hasUnpiped=!0,K())}function x(){Ee("onend"),l.end()}function K(){Ee("cleanup"),l.removeListener("close",je),l.removeListener("finish",vt),l.removeListener("drain",tn),l.removeListener("error",ue),l.removeListener("unpipe",b),Xe.removeListener("end",x),Xe.removeListener("end",ct),Xe.removeListener("data",Q),Ce=!0,ze.awaitDrain&&(!l._writableState||l._writableState.needDrain)&&tn()}function Q(xn){Ee("ondata");var sn=l.write(xn);Ee("dest.write",sn),sn===!1&&((ze.pipesCount===1&&ze.pipes===l||1<ze.pipesCount&&Ke(ze.pipes,l)!==-1)&&!Ce&&(Ee("false write response, pause",ze.awaitDrain),ze.awaitDrain++),Xe.pause())}function ue(xn){Ee("onerror",xn),ct(),l.removeListener("error",ue),Gt(l,"error")===0&&De(l,xn)}function je(){l.removeListener("finish",vt),ct()}function vt(){Ee("onfinish"),l.removeListener("close",je),ct()}function ct(){Ee("unpipe"),Xe.unpipe(l)}var Xe=this,ze=this._readableState;switch(ze.pipesCount){case 0:ze.pipes=l;break;case 1:ze.pipes=[ze.pipes,l];break;default:ze.pipes.push(l)}ze.pipesCount+=1,Ee("pipe count=%d opts=%j",ze.pipesCount,f);var Fn=(!f||f.end!==!1)&&l!==o.stdout&&l!==o.stderr,Cr=Fn?x:ct;ze.endEmitted?o.nextTick(Cr):Xe.once("end",Cr),l.on("unpipe",b);var tn=$(Xe);l.on("drain",tn);var Ce=!1;return Xe.on("data",Q),h(l,"error",ue),l.once("close",je),l.once("finish",vt),l.emit("pipe",Xe),ze.flowing||(Ee("pipe resume"),Xe.resume()),l},_.prototype.unpipe=function(l){var f=this._readableState,b={hasUnpiped:!1};if(f.pipesCount===0)return this;if(f.pipesCount===1)return l&&l!==f.pipes?this:(l||(l=f.pipes),f.pipes=null,f.pipesCount=0,f.flowing=!1,l&&l.emit("unpipe",this,b),this);if(!l){var x=f.pipes,K=f.pipesCount;f.pipes=null,f.pipesCount=0,f.flowing=!1;for(var Q=0;Q<K;Q++)x[Q].emit("unpipe",this,{hasUnpiped:!1});return this}var ue=Ke(f.pipes,l);return ue===-1?this:(f.pipes.splice(ue,1),f.pipesCount-=1,f.pipesCount===1&&(f.pipes=f.pipes[0]),l.emit("unpipe",this,b),this)},_.prototype.on=function(l,f){var b=Fe.prototype.on.call(this,l,f),x=this._readableState;return l==="data"?(x.readableListening=0<this.listenerCount("readable"),x.flowing!==!1&&this.resume()):l=="readable"&&!x.endEmitted&&!x.readableListening&&(x.readableListening=x.needReadable=!0,x.flowing=!1,x.emittedReadable=!1,Ee("on readable",x.length,x.reading),x.length?M(this):!x.reading&&o.nextTick(N,this)),b},_.prototype.addListener=_.prototype.on,_.prototype.removeListener=function(l,f){var b=Fe.prototype.removeListener.call(this,l,f);return l==="readable"&&o.nextTick(J,this),b},_.prototype.removeAllListeners=function(l){var f=Fe.prototype.removeAllListeners.apply(this,arguments);return(l==="readable"||l===void 0)&&o.nextTick(J,this),f},_.prototype.resume=function(){var l=this._readableState;return l.flowing||(Ee("resume"),l.flowing=!l.readableListening,B(this,l)),l.paused=!1,this},_.prototype.pause=function(){return Ee("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Ee("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},_.prototype.wrap=function(l){var f=this,b=this._readableState,x=!1;for(var K in l.on("end",function(){if(Ee("wrapped end"),b.decoder&&!b.ended){var ue=b.decoder.end();ue&&ue.length&&f.push(ue)}f.push(null)}),l.on("data",function(ue){if(Ee("wrapped data"),b.decoder&&(ue=b.decoder.write(ue)),!(b.objectMode&&ue==null)&&(b.objectMode||ue&&ue.length)){var je=f.push(ue);je||(x=!0,l.pause())}}),l)this[K]===void 0&&typeof l[K]=="function"&&(this[K]=function(ue){return function(){return l[ue].apply(l,arguments)}}(K));for(var Q=0;Q<qe.length;Q++)l.on(qe[Q],this.emit.bind(this,qe[Q]));return this._read=function(ue){Ee("wrapped _read",ue),x&&(x=!1,l.resume())},this},typeof Symbol=="function"&&(_.prototype[Symbol.asyncIterator]=function(){return en===void 0&&(en=r("./internal/streams/async_iterator")),en(this)}),Object.defineProperty(_.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(_.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(_.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(l){this._readableState&&(this._readableState.flowing=l)}}),_._fromList=ye,Object.defineProperty(_.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(_.from=function(l,f){return wr===void 0&&(wr=r("./internal/streams/from")),wr(_,l,f)})}).call(this)}).call(this,r("_process"),typeof global>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:global)},{"../errors":15,"./_stream_duplex":16,"./internal/streams/async_iterator":21,"./internal/streams/buffer_list":22,"./internal/streams/destroy":23,"./internal/streams/from":25,"./internal/streams/state":27,"./internal/streams/stream":28,_process:12,buffer:3,events:7,inherits:10,"string_decoder/":31,util:2}],19:[function(r,i){"use strict";function o(R,V){var D=this._transformState;D.transforming=!1;var M=D.writecb;if(M===null)return this.emit("error",new _);D.writechunk=null,D.writecb=null,V!=null&&this.push(V),M(R);var I=this._readableState;I.reading=!1,(I.needReadable||I.length<I.highWaterMark)&&this._read(I.highWaterMark)}function s(R){return this instanceof s?(E.call(this,R),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,R&&(typeof R.transform=="function"&&(this._transform=R.transform),typeof R.flush=="function"&&(this._flush=R.flush)),void this.on("prefinish",u)):new s(R)}function u(){var R=this;typeof this._flush!="function"||this._readableState.destroyed?d(this,null,null):this._flush(function(V,D){d(R,V,D)})}function d(R,V,D){if(V)return R.emit("error",V);if(D!=null&&R.push(D),R._writableState.length)throw new C;if(R._transformState.transforming)throw new y;return R.push(null)}i.exports=s;var h=r("../errors").codes,m=h.ERR_METHOD_NOT_IMPLEMENTED,_=h.ERR_MULTIPLE_CALLBACK,y=h.ERR_TRANSFORM_ALREADY_TRANSFORMING,C=h.ERR_TRANSFORM_WITH_LENGTH_0,E=r("./_stream_duplex");r("inherits")(s,E),s.prototype.push=function(R,V){return this._transformState.needTransform=!1,E.prototype.push.call(this,R,V)},s.prototype._transform=function(R,V,D){D(new m("_transform()"))},s.prototype._write=function(R,V,D){var M=this._transformState;if(M.writecb=D,M.writechunk=R,M.writeencoding=V,!M.transforming){var I=this._readableState;(M.needTransform||I.needReadable||I.length<I.highWaterMark)&&this._read(I.highWaterMark)}},s.prototype._read=function(){var R=this._transformState;R.writechunk===null||R.transforming?R.needTransform=!0:(R.transforming=!0,this._transform(R.writechunk,R.writeencoding,R.afterTransform))},s.prototype._destroy=function(R,V){E.prototype._destroy.call(this,R,function(D){V(D)})}},{"../errors":15,"./_stream_duplex":16,inherits:10}],20:[function(r,i){(function(o,s){(function(){"use strict";function u(W){var X=this;this.next=null,this.entry=null,this.finish=function(){xe(X,W)}}function d(W){return Ee.from(W)}function h(W){return Ee.isBuffer(W)||W instanceof It}function m(){}function _(W,X,de){Ie=Ie||r("./_stream_duplex"),W=W||{},typeof de!="boolean"&&(de=X instanceof Ie),this.objectMode=!!W.objectMode,de&&(this.objectMode=this.objectMode||!!W.writableObjectMode),this.highWaterMark=Oe(this,W,"writableHighWaterMark",de),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var De=W.decodeStrings===!1;this.decodeStrings=!De,this.defaultEncoding=W.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(qe){F(X,qe)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=W.emitClose!==!1,this.autoDestroy=!!W.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new u(this)}function y(W){Ie=Ie||r("./_stream_duplex");var X=this instanceof Ie;return X||hn.call(y,this)?(this._writableState=new _(W,this,X),this.writable=!0,W&&(typeof W.write=="function"&&(this._write=W.write),typeof W.writev=="function"&&(this._writev=W.writev),typeof W.destroy=="function"&&(this._destroy=W.destroy),typeof W.final=="function"&&(this._final=W.final)),void pt.call(this)):new y(W)}function C(W,X){var de=new Xn;Pt(W,de),o.nextTick(X,de)}function E(W,X,de,De){var qe;return de===null?qe=new Tn:typeof de!="string"&&!X.objectMode&&(qe=new mt("chunk",["string","Buffer"],de)),!qe||(Pt(W,qe),o.nextTick(De,qe),!1)}function R(W,X,de){return W.objectMode||W.decodeStrings===!1||typeof X!="string"||(X=Ee.from(X,de)),X}function V(W,X,de,De,qe,l){if(!de){var f=R(X,De,qe);De!==f&&(de=!0,qe="buffer",De=f)}var b=X.objectMode?1:De.length;X.length+=b;var x=X.length<X.highWaterMark;if(x||(X.needDrain=!0),X.writing||X.corked){var K=X.lastBufferedRequest;X.lastBufferedRequest={chunk:De,encoding:qe,isBuf:de,callback:l,next:null},K?K.next=X.lastBufferedRequest:X.bufferedRequest=X.lastBufferedRequest,X.bufferedRequestCount+=1}else D(W,X,!1,b,De,qe,l);return x}function D(W,X,de,De,qe,l,f){X.writelen=De,X.writecb=f,X.writing=!0,X.sync=!0,X.destroyed?X.onwrite(new Se("write")):de?W._writev(qe,X.onwrite):W._write(qe,l,X.onwrite),X.sync=!1}function M(W,X,de,De,qe){--X.pendingcb,de?(o.nextTick(qe,De),o.nextTick(oe,W,X),W._writableState.errorEmitted=!0,Pt(W,De)):(qe(De),W._writableState.errorEmitted=!0,Pt(W,De),oe(W,X))}function I(W){W.writing=!1,W.writecb=null,W.length-=W.writelen,W.writelen=0}function F(W,X){var de=W._writableState,De=de.sync,qe=de.writecb;if(typeof qe!="function")throw new en;if(I(de),X)M(W,de,De,X,qe);else{var l=N(de)||W.destroyed;l||de.corked||de.bufferProcessing||!de.bufferedRequest||J(W,de),De?o.nextTick(O,W,de,l,qe):O(W,de,l,qe)}}function O(W,X,de,De){de||$(W,X),X.pendingcb--,De(),oe(W,X)}function $(W,X){X.length===0&&X.needDrain&&(X.needDrain=!1,W.emit("drain"))}function J(W,X){X.bufferProcessing=!0;var de=X.bufferedRequest;if(W._writev&&de&&de.next){var De=X.bufferedRequestCount,qe=Array(De),l=X.corkedRequestsFree;l.entry=de;for(var f=0,b=!0;de;)qe[f]=de,de.isBuf||(b=!1),de=de.next,f+=1;qe.allBuffers=b,D(W,X,!0,X.length,qe,"",l.finish),X.pendingcb++,X.lastBufferedRequest=null,l.next?(X.corkedRequestsFree=l.next,l.next=null):X.corkedRequestsFree=new u(X),X.bufferedRequestCount=0}else{for(;de;){var x=de.chunk,K=de.encoding,Q=de.callback,ue=X.objectMode?1:x.length;if(D(W,X,!1,ue,x,K,Q),de=de.next,X.bufferedRequestCount--,X.writing)break}de===null&&(X.lastBufferedRequest=null)}X.bufferedRequest=de,X.bufferProcessing=!1}function N(W){return W.ending&&W.length===0&&W.bufferedRequest===null&&!W.finished&&!W.writing}function B(W,X){W._final(function(de){X.pendingcb--,de&&Pt(W,de),X.prefinished=!0,W.emit("prefinish"),oe(W,X)})}function ne(W,X){X.prefinished||X.finalCalled||(typeof W._final!="function"||X.destroyed?(X.prefinished=!0,W.emit("prefinish")):(X.pendingcb++,X.finalCalled=!0,o.nextTick(B,W,X)))}function oe(W,X){var de=N(X);if(de&&(ne(W,X),X.pendingcb===0&&(X.finished=!0,W.emit("finish"),X.autoDestroy))){var De=W._readableState;(!De||De.autoDestroy&&De.endEmitted)&&W.destroy()}return de}function ye(W,X,de){X.ending=!0,oe(W,X),de&&(X.finished?o.nextTick(de):W.once("finish",de)),X.ended=!0,W.writable=!1}function xe(W,X,de){var De=W.entry;for(W.entry=null;De;){var qe=De.callback;X.pendingcb--,qe(de),De=De.next}X.corkedRequestsFree.next=W}i.exports=y;var Ie;y.WritableState=_;var Ke={deprecate:r("util-deprecate")},pt=r("./internal/streams/stream"),Ee=r("buffer").Buffer,It=s.Uint8Array||function(){},Gt=r("./internal/streams/destroy"),Fe=r("./internal/streams/state"),Oe=Fe.getHighWaterMark,Ve=r("../errors").codes,mt=Ve.ERR_INVALID_ARG_TYPE,Tt=Ve.ERR_METHOD_NOT_IMPLEMENTED,en=Ve.ERR_MULTIPLE_CALLBACK,wr=Ve.ERR_STREAM_CANNOT_PIPE,Se=Ve.ERR_STREAM_DESTROYED,Tn=Ve.ERR_STREAM_NULL_VALUES,Xn=Ve.ERR_STREAM_WRITE_AFTER_END,at=Ve.ERR_UNKNOWN_ENCODING,Pt=Gt.errorOrDestroy;r("inherits")(y,pt),_.prototype.getBuffer=function(){for(var W=this.bufferedRequest,X=[];W;)X.push(W),W=W.next;return X},function(){try{Object.defineProperty(_.prototype,"buffer",{get:Ke.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var hn;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(hn=Function.prototype[Symbol.hasInstance],Object.defineProperty(y,Symbol.hasInstance,{value:function(W){return!!hn.call(this,W)||this===y&&W&&W._writableState instanceof _}})):hn=function(W){return W instanceof this},y.prototype.pipe=function(){Pt(this,new wr)},y.prototype.write=function(W,X,de){var De=this._writableState,qe=!1,l=!De.objectMode&&h(W);return l&&!Ee.isBuffer(W)&&(W=d(W)),typeof X=="function"&&(de=X,X=null),l?X="buffer":!X&&(X=De.defaultEncoding),typeof de!="function"&&(de=m),De.ending?C(this,de):(l||E(this,De,W,de))&&(De.pendingcb++,qe=V(this,De,l,W,X,de)),qe},y.prototype.cork=function(){this._writableState.corked++},y.prototype.uncork=function(){var W=this._writableState;W.corked&&(W.corked--,!W.writing&&!W.corked&&!W.bufferProcessing&&W.bufferedRequest&&J(this,W))},y.prototype.setDefaultEncoding=function(W){if(typeof W=="string"&&(W=W.toLowerCase()),!(-1<["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((W+"").toLowerCase())))throw new at(W);return this._writableState.defaultEncoding=W,this},Object.defineProperty(y.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),y.prototype._write=function(W,X,de){de(new Tt("_write()"))},y.prototype._writev=null,y.prototype.end=function(W,X,de){var De=this._writableState;return typeof W=="function"?(de=W,W=null,X=null):typeof X=="function"&&(de=X,X=null),W!=null&&this.write(W,X),De.corked&&(De.corked=1,this.uncork()),De.ending||ye(this,De,de),this},Object.defineProperty(y.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(y.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(W){this._writableState&&(this._writableState.destroyed=W)}}),y.prototype.destroy=Gt.destroy,y.prototype._undestroy=Gt.undestroy,y.prototype._destroy=function(W,X){X(W)}}).call(this)}).call(this,r("_process"),typeof global>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:global)},{"../errors":15,"./_stream_duplex":16,"./internal/streams/destroy":23,"./internal/streams/state":27,"./internal/streams/stream":28,_process:12,buffer:3,inherits:10,"util-deprecate":32}],21:[function(r,i){(function(o){(function(){"use strict";function s($,J,N){return J in $?Object.defineProperty($,J,{value:N,enumerable:!0,configurable:!0,writable:!0}):$[J]=N,$}function u($,J){return{value:$,done:J}}function d($){var J=$[C];if(J!==null){var N=$[I].read();N!==null&&($[D]=null,$[C]=null,$[E]=null,J(u(N,!1)))}}function h($){o.nextTick(d,$)}function m($,J){return function(N,B){$.then(function(){return J[V]?void N(u(void 0,!0)):void J[M](N,B)},B)}}var _,y=r("./end-of-stream"),C=Symbol("lastResolve"),E=Symbol("lastReject"),R=Symbol("error"),V=Symbol("ended"),D=Symbol("lastPromise"),M=Symbol("handlePromise"),I=Symbol("stream"),F=Object.getPrototypeOf(function(){}),O=Object.setPrototypeOf((_={get stream(){return this[I]},next:function(){var $=this,J=this[R];if(J!==null)return Promise.reject(J);if(this[V])return Promise.resolve(u(void 0,!0));if(this[I].destroyed)return new Promise(function(oe,ye){o.nextTick(function(){$[R]?ye($[R]):oe(u(void 0,!0))})});var N,B=this[D];if(B)N=new Promise(m(B,this));else{var ne=this[I].read();if(ne!==null)return Promise.resolve(u(ne,!1));N=new Promise(this[M])}return this[D]=N,N}},s(_,Symbol.asyncIterator,function(){return this}),s(_,"return",function(){var $=this;return new Promise(function(J,N){$[I].destroy(null,function(B){return B?void N(B):void J(u(void 0,!0))})})}),_),F);i.exports=function($){var J,N=Object.create(O,(J={},s(J,I,{value:$,writable:!0}),s(J,C,{value:null,writable:!0}),s(J,E,{value:null,writable:!0}),s(J,R,{value:null,writable:!0}),s(J,V,{value:$._readableState.endEmitted,writable:!0}),s(J,M,{value:function(B,ne){var oe=N[I].read();oe?(N[D]=null,N[C]=null,N[E]=null,B(u(oe,!1))):(N[C]=B,N[E]=ne)},writable:!0}),J));return N[D]=null,y($,function(B){if(B&&B.code!=="ERR_STREAM_PREMATURE_CLOSE"){var ne=N[E];return ne!==null&&(N[D]=null,N[C]=null,N[E]=null,ne(B)),void(N[R]=B)}var oe=N[C];oe!==null&&(N[D]=null,N[C]=null,N[E]=null,oe(u(void 0,!0))),N[V]=!0}),$.on("readable",h.bind(null,N)),N}}).call(this)}).call(this,r("_process"))},{"./end-of-stream":24,_process:12}],22:[function(r,i){"use strict";function o(D,M){var I=Object.keys(D);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(D);M&&(F=F.filter(function(O){return Object.getOwnPropertyDescriptor(D,O).enumerable})),I.push.apply(I,F)}return I}function s(D){for(var M,I=1;I<arguments.length;I++)M=arguments[I]==null?{}:arguments[I],I%2?o(Object(M),!0).forEach(function(F){u(D,F,M[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(D,Object.getOwnPropertyDescriptors(M)):o(Object(M)).forEach(function(F){Object.defineProperty(D,F,Object.getOwnPropertyDescriptor(M,F))});return D}function u(D,M,I){return M in D?Object.defineProperty(D,M,{value:I,enumerable:!0,configurable:!0,writable:!0}):D[M]=I,D}function d(D,M){if(!(D instanceof M))throw new TypeError("Cannot call a class as a function")}function h(D,M){for(var I,F=0;F<M.length;F++)I=M[F],I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(D,I.key,I)}function m(D,M,I){return M&&h(D.prototype,M),I&&h(D,I),D}function _(D,M,I){C.prototype.copy.call(D,M,I)}var y=r("buffer"),C=y.Buffer,E=r("util"),R=E.inspect,V=R&&R.custom||"inspect";i.exports=function(){function D(){d(this,D),this.head=null,this.tail=null,this.length=0}return m(D,[{key:"push",value:function(M){var I={data:M,next:null};0<this.length?this.tail.next=I:this.head=I,this.tail=I,++this.length}},{key:"unshift",value:function(M){var I={data:M,next:this.head};this.length===0&&(this.tail=I),this.head=I,++this.length}},{key:"shift",value:function(){if(this.length!==0){var M=this.head.data;return this.head=this.length===1?this.tail=null:this.head.next,--this.length,M}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(M){if(this.length===0)return"";for(var I=this.head,F=""+I.data;I=I.next;)F+=M+I.data;return F}},{key:"concat",value:function(M){if(this.length===0)return C.alloc(0);for(var I=C.allocUnsafe(M>>>0),F=this.head,O=0;F;)_(F.data,I,O),O+=F.data.length,F=F.next;return I}},{key:"consume",value:function(M,I){var F;return M<this.head.data.length?(F=this.head.data.slice(0,M),this.head.data=this.head.data.slice(M)):M===this.head.data.length?F=this.shift():F=I?this._getString(M):this._getBuffer(M),F}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(M){var I=this.head,F=1,O=I.data;for(M-=O.length;I=I.next;){var $=I.data,J=M>$.length?$.length:M;if(O+=J===$.length?$:$.slice(0,M),M-=J,M===0){J===$.length?(++F,this.head=I.next?I.next:this.tail=null):(this.head=I,I.data=$.slice(J));break}++F}return this.length-=F,O}},{key:"_getBuffer",value:function(M){var I=C.allocUnsafe(M),F=this.head,O=1;for(F.data.copy(I),M-=F.data.length;F=F.next;){var $=F.data,J=M>$.length?$.length:M;if($.copy(I,I.length-M,0,J),M-=J,M===0){J===$.length?(++O,this.head=F.next?F.next:this.tail=null):(this.head=F,F.data=$.slice(J));break}++O}return this.length-=O,I}},{key:V,value:function(M,I){return R(this,s({},I,{depth:0,customInspect:!1}))}}]),D}()},{buffer:3,util:2}],23:[function(r,i){(function(o){(function(){"use strict";function s(h,m){d(h,m),u(h)}function u(h){h._writableState&&!h._writableState.emitClose||h._readableState&&!h._readableState.emitClose||h.emit("close")}function d(h,m){h.emit("error",m)}i.exports={destroy:function(h,m){var _=this,y=this._readableState&&this._readableState.destroyed,C=this._writableState&&this._writableState.destroyed;return y||C?(m?m(h):h&&(this._writableState?!this._writableState.errorEmitted&&(this._writableState.errorEmitted=!0,o.nextTick(d,this,h)):o.nextTick(d,this,h)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(h||null,function(E){!m&&E?_._writableState?_._writableState.errorEmitted?o.nextTick(u,_):(_._writableState.errorEmitted=!0,o.nextTick(s,_,E)):o.nextTick(s,_,E):m?(o.nextTick(u,_),m(E)):o.nextTick(u,_)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(h,m){var _=h._readableState,y=h._writableState;_&&_.autoDestroy||y&&y.autoDestroy?h.destroy(m):h.emit("error",m)}}}).call(this)}).call(this,r("_process"))},{_process:12}],24:[function(r,i){"use strict";function o(m){var _=!1;return function(){if(!_){_=!0;for(var y=arguments.length,C=Array(y),E=0;E<y;E++)C[E]=arguments[E];m.apply(this,C)}}}function s(){}function u(m){return m.setHeader&&typeof m.abort=="function"}function d(m,_,y){if(typeof _=="function")return d(m,null,_);_||(_={}),y=o(y||s);var C=_.readable||_.readable!==!1&&m.readable,E=_.writable||_.writable!==!1&&m.writable,R=function(){m.writable||D()},V=m._writableState&&m._writableState.finished,D=function(){E=!1,V=!0,C||y.call(m)},M=m._readableState&&m._readableState.endEmitted,I=function(){C=!1,M=!0,E||y.call(m)},F=function(J){y.call(m,J)},O=function(){var J;return C&&!M?(m._readableState&&m._readableState.ended||(J=new h),y.call(m,J)):E&&!V?(m._writableState&&m._writableState.ended||(J=new h),y.call(m,J)):void 0},$=function(){m.req.on("finish",D)};return u(m)?(m.on("complete",D),m.on("abort",O),m.req?$():m.on("request",$)):E&&!m._writableState&&(m.on("end",R),m.on("close",R)),m.on("end",I),m.on("finish",D),_.error!==!1&&m.on("error",F),m.on("close",O),function(){m.removeListener("complete",D),m.removeListener("abort",O),m.removeListener("request",$),m.req&&m.req.removeListener("finish",D),m.removeListener("end",R),m.removeListener("close",R),m.removeListener("finish",D),m.removeListener("end",I),m.removeListener("error",F),m.removeListener("close",O)}}var h=r("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;i.exports=d},{"../../../errors":15}],25:[function(r,i){i.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],26:[function(r,i){"use strict";function o(V){var D=!1;return function(){D||(D=!0,V.apply(void 0,arguments))}}function s(V){if(V)throw V}function u(V){return V.setHeader&&typeof V.abort=="function"}function d(V,D,M,I){I=o(I);var F=!1;V.on("close",function(){F=!0}),y===void 0&&(y=r("./end-of-stream")),y(V,{readable:D,writable:M},function($){return $?I($):(F=!0,void I())});var O=!1;return function($){if(!F)return O?void 0:(O=!0,u(V)?V.abort():typeof V.destroy=="function"?V.destroy():void I($||new R("pipe")))}}function h(V){V()}function m(V,D){return V.pipe(D)}function _(V){return V.length&&typeof V[V.length-1]=="function"?V.pop():s}var y,C=r("../../../errors").codes,E=C.ERR_MISSING_ARGS,R=C.ERR_STREAM_DESTROYED;i.exports=function(){for(var V=arguments.length,D=Array(V),M=0;M<V;M++)D[M]=arguments[M];var I=_(D);if(Array.isArray(D[0])&&(D=D[0]),2>D.length)throw new E("streams");var F,O=D.map(function($,J){var N=J<D.length-1;return d($,N,0<J,function(B){F||(F=B),B&&O.forEach(h),N||(O.forEach(h),I(F))})});return D.reduce(m)}},{"../../../errors":15,"./end-of-stream":24}],27:[function(r,i){"use strict";function o(u,d,h){return u.highWaterMark==null?d?u[h]:null:u.highWaterMark}var s=r("../../../errors").codes.ERR_INVALID_OPT_VALUE;i.exports={getHighWaterMark:function(u,d,h,m){var _=o(d,m,h);if(_!=null){if(!(isFinite(_)&&e(_)===_)||0>_){var y=m?h:"highWaterMark";throw new s(y,_)}return e(_)}return u.objectMode?16:16384}}},{"../../../errors":15}],28:[function(r,i){i.exports=r("events").EventEmitter},{events:7}],29:[function(r,i,o){o=i.exports=r("./lib/_stream_readable.js"),o.Stream=o,o.Readable=o,o.Writable=r("./lib/_stream_writable.js"),o.Duplex=r("./lib/_stream_duplex.js"),o.Transform=r("./lib/_stream_transform.js"),o.PassThrough=r("./lib/_stream_passthrough.js"),o.finished=r("./lib/internal/streams/end-of-stream.js"),o.pipeline=r("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":16,"./lib/_stream_passthrough.js":17,"./lib/_stream_readable.js":18,"./lib/_stream_transform.js":19,"./lib/_stream_writable.js":20,"./lib/internal/streams/end-of-stream.js":24,"./lib/internal/streams/pipeline.js":26}],30:[function(r,i,o){function s(m,_){for(var y in m)_[y]=m[y]}function u(m,_,y){return h(m,_,y)}var d=r("buffer"),h=d.Buffer;h.from&&h.alloc&&h.allocUnsafe&&h.allocUnsafeSlow?i.exports=d:(s(d,o),o.Buffer=u),u.prototype=Object.create(h.prototype),s(h,u),u.from=function(m,_,y){if(typeof m=="number")throw new TypeError("Argument must not be a number");return h(m,_,y)},u.alloc=function(m,_,y){if(typeof m!="number")throw new TypeError("Argument must be a number");var C=h(m);return _===void 0?C.fill(0):typeof y=="string"?C.fill(_,y):C.fill(_),C},u.allocUnsafe=function(m){if(typeof m!="number")throw new TypeError("Argument must be a number");return h(m)},u.allocUnsafeSlow=function(m){if(typeof m!="number")throw new TypeError("Argument must be a number");return d.SlowBuffer(m)}},{buffer:3}],31:[function(r,i,o){"use strict";function s(O){if(!O)return"utf8";for(var $;;)switch(O){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return O;default:if($)return;O=(""+O).toLowerCase(),$=!0}}function u(O){var $=s(O);if(typeof $!="string"&&(I.isEncoding===F||!F(O)))throw new Error("Unknown encoding: "+O);return $||O}function d(O){this.encoding=u(O);var $;switch(this.encoding){case"utf16le":this.text=C,this.end=E,$=4;break;case"utf8":this.fillLast=y,$=4;break;case"base64":this.text=R,this.end=V,$=3;break;default:return this.write=D,void(this.end=M)}this.lastNeed=0,this.lastTotal=0,this.lastChar=I.allocUnsafe($)}function h(O){return 127>=O?0:O>>5==6?2:O>>4==14?3:O>>3==30?4:O>>6==2?-1:-2}function m(O,$,J){var N=$.length-1;if(N<J)return 0;var B=h($[N]);return 0<=B?(0<B&&(O.lastNeed=B-1),B):--N<J||B===-2?0:(B=h($[N]),0<=B?(0<B&&(O.lastNeed=B-2),B):--N<J||B===-2?0:(B=h($[N]),0<=B?(0<B&&(B===2?B=0:O.lastNeed=B-3),B):0))}function _(O,$){if((192&$[0])!=128)return O.lastNeed=0,"\uFFFD";if(1<O.lastNeed&&1<$.length){if((192&$[1])!=128)return O.lastNeed=1,"\uFFFD";if(2<O.lastNeed&&2<$.length&&(192&$[2])!=128)return O.lastNeed=2,"\uFFFD"}}function y(O){var $=this.lastTotal-this.lastNeed,J=_(this,O,$);return J===void 0?this.lastNeed<=O.length?(O.copy(this.lastChar,$,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(O.copy(this.lastChar,$,0,O.length),void(this.lastNeed-=O.length)):J}function C(O,$){if((O.length-$)%2==0){var J=O.toString("utf16le",$);if(J){var N=J.charCodeAt(J.length-1);if(55296<=N&&56319>=N)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=O[O.length-2],this.lastChar[1]=O[O.length-1],J.slice(0,-1)}return J}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=O[O.length-1],O.toString("utf16le",$,O.length-1)}function E(O){var $=O&&O.length?this.write(O):"";if(this.lastNeed){var J=this.lastTotal-this.lastNeed;return $+this.lastChar.toString("utf16le",0,J)}return $}function R(O,$){var J=(O.length-$)%3;return J==0?O.toString("base64",$):(this.lastNeed=3-J,this.lastTotal=3,J==1?this.lastChar[0]=O[O.length-1]:(this.lastChar[0]=O[O.length-2],this.lastChar[1]=O[O.length-1]),O.toString("base64",$,O.length-J))}function V(O){var $=O&&O.length?this.write(O):"";return this.lastNeed?$+this.lastChar.toString("base64",0,3-this.lastNeed):$}function D(O){return O.toString(this.encoding)}function M(O){return O&&O.length?this.write(O):""}var I=r("safe-buffer").Buffer,F=I.isEncoding||function(O){switch(O=""+O,O&&O.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};o.StringDecoder=d,d.prototype.write=function(O){if(O.length===0)return"";var $,J;if(this.lastNeed){if($=this.fillLast(O),$===void 0)return"";J=this.lastNeed,this.lastNeed=0}else J=0;return J<O.length?$?$+this.text(O,J):this.text(O,J):$||""},d.prototype.end=function(O){var $=O&&O.length?this.write(O):"";return this.lastNeed?$+"\uFFFD":$},d.prototype.text=function(O,$){var J=m(this,O,$);if(!this.lastNeed)return O.toString("utf8",$);this.lastTotal=J;var N=O.length-(J-this.lastNeed);return O.copy(this.lastChar,0,N),O.toString("utf8",$,N)},d.prototype.fillLast=function(O){return this.lastNeed<=O.length?(O.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(O.copy(this.lastChar,this.lastTotal-this.lastNeed,0,O.length),void(this.lastNeed-=O.length))}},{"safe-buffer":30}],32:[function(r,i){(function(o){(function(){function s(u){try{if(!o.localStorage)return!1}catch{return!1}var d=o.localStorage[u];return d!=null&&(d+"").toLowerCase()==="true"}i.exports=function(u,d){function h(){if(!m){if(s("throwDeprecation"))throw new Error(d);s("traceDeprecation")?console.trace(d):console.warn(d),m=!0}return u.apply(this,arguments)}if(s("noDeprecation"))return u;var m=!1;return h}}).call(this)}).call(this,typeof global>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:global)},{}],"/":[function(r,i){function o(V){return V.replace(/a=ice-options:trickle\s\n/g,"")}function s(V){console.warn(V)}let u=r("debug")("simple-peer"),d=r("get-browser-rtc"),h=r("randombytes"),m=r("readable-stream"),_=r("queue-microtask"),y=r("err-code"),{Buffer:C}=r("buffer"),E=65536;class R extends m.Duplex{constructor(D){if(D=Object.assign({allowHalfOpen:!1},D),super(D),this._id=h(4).toString("hex").slice(0,7),this._debug("new peer %o",D),this.channelName=D.initiator?D.channelName||h(20).toString("hex"):null,this.initiator=D.initiator||!1,this.channelConfig=D.channelConfig||R.channelConfig,this.channelNegotiated=this.channelConfig.negotiated,this.config=Object.assign({},R.config,D.config),this.offerOptions=D.offerOptions||{},this.answerOptions=D.answerOptions||{},this.sdpTransform=D.sdpTransform||(M=>M),this.streams=D.streams||(D.stream?[D.stream]:[]),this.trickle=D.trickle===void 0||D.trickle,this.allowHalfTrickle=D.allowHalfTrickle!==void 0&&D.allowHalfTrickle,this.iceCompleteTimeout=D.iceCompleteTimeout||5e3,this.destroyed=!1,this.destroying=!1,this._connected=!1,this.remoteAddress=void 0,this.remoteFamily=void 0,this.remotePort=void 0,this.localAddress=void 0,this.localFamily=void 0,this.localPort=void 0,this._wrtc=D.wrtc&&typeof D.wrtc=="object"?D.wrtc:d(),!this._wrtc)throw y(typeof window>"u"?new Error("No WebRTC support: Specify `opts.wrtc` option in this environment"):new Error("No WebRTC support: Not a supported browser"),"ERR_WEBRTC_SUPPORT");this._pcReady=!1,this._channelReady=!1,this._iceComplete=!1,this._iceCompleteTimer=null,this._channel=null,this._pendingCandidates=[],this._isNegotiating=!1,this._firstNegotiation=!0,this._batchedNegotiation=!1,this._queuedNegotiation=!1,this._sendersAwaitingStable=[],this._senderMap=new Map,this._closingInterval=null,this._remoteTracks=[],this._remoteStreams=[],this._chunk=null,this._cb=null,this._interval=null;try{this._pc=new this._wrtc.RTCPeerConnection(this.config)}catch(M){return void this.destroy(y(M,"ERR_PC_CONSTRUCTOR"))}this._isReactNativeWebrtc=typeof this._pc._peerConnectionId=="number",this._pc.oniceconnectionstatechange=()=>{this._onIceStateChange()},this._pc.onicegatheringstatechange=()=>{this._onIceStateChange()},this._pc.onconnectionstatechange=()=>{this._onConnectionStateChange()},this._pc.onsignalingstatechange=()=>{this._onSignalingStateChange()},this._pc.onicecandidate=M=>{this._onIceCandidate(M)},typeof this._pc.peerIdentity=="object"&&this._pc.peerIdentity.catch(M=>{this.destroy(y(M,"ERR_PC_PEER_IDENTITY"))}),this.initiator||this.channelNegotiated?this._setupData({channel:this._pc.createDataChannel(this.channelName,this.channelConfig)}):this._pc.ondatachannel=M=>{this._setupData(M)},this.streams&&this.streams.forEach(M=>{this.addStream(M)}),this._pc.ontrack=M=>{this._onTrack(M)},this._debug("initial negotiation"),this._needsNegotiation(),this._onFinishBound=()=>{this._onFinish()},this.once("finish",this._onFinishBound)}get bufferSize(){return this._channel&&this._channel.bufferedAmount||0}get connected(){return this._connected&&this._channel.readyState==="open"}address(){return{port:this.localPort,family:this.localFamily,address:this.localAddress}}signal(D){if(!this.destroying){if(this.destroyed)throw y(new Error("cannot signal after peer is destroyed"),"ERR_DESTROYED");if(typeof D=="string")try{D=JSON.parse(D)}catch{D={}}this._debug("signal()"),D.renegotiate&&this.initiator&&(this._debug("got request to renegotiate"),this._needsNegotiation()),D.transceiverRequest&&this.initiator&&(this._debug("got request for transceiver"),this.addTransceiver(D.transceiverRequest.kind,D.transceiverRequest.init)),D.candidate&&(this._pc.remoteDescription&&this._pc.remoteDescription.type?this._addIceCandidate(D.candidate):this._pendingCandidates.push(D.candidate)),D.sdp&&this._pc.setRemoteDescription(new this._wrtc.RTCSessionDescription(D)).then(()=>{this.destroyed||(this._pendingCandidates.forEach(M=>{this._addIceCandidate(M)}),this._pendingCandidates=[],this._pc.remoteDescription.type==="offer"&&this._createAnswer())}).catch(M=>{this.destroy(y(M,"ERR_SET_REMOTE_DESCRIPTION"))}),D.sdp||D.candidate||D.renegotiate||D.transceiverRequest||this.destroy(y(new Error("signal() called with invalid signal data"),"ERR_SIGNALING"))}}_addIceCandidate(D){let M=new this._wrtc.RTCIceCandidate(D);this._pc.addIceCandidate(M).catch(I=>{!M.address||M.address.endsWith(".local")?s("Ignoring unsupported ICE candidate."):this.destroy(y(I,"ERR_ADD_ICE_CANDIDATE"))})}send(D){if(!this.destroying){if(this.destroyed)throw y(new Error("cannot send after peer is destroyed"),"ERR_DESTROYED");this._channel.send(D)}}addTransceiver(D,M){if(!this.destroying){if(this.destroyed)throw y(new Error("cannot addTransceiver after peer is destroyed"),"ERR_DESTROYED");if(this._debug("addTransceiver()"),this.initiator)try{this._pc.addTransceiver(D,M),this._needsNegotiation()}catch(I){this.destroy(y(I,"ERR_ADD_TRANSCEIVER"))}else this.emit("signal",{type:"transceiverRequest",transceiverRequest:{kind:D,init:M}})}}addStream(D){if(!this.destroying){if(this.destroyed)throw y(new Error("cannot addStream after peer is destroyed"),"ERR_DESTROYED");this._debug("addStream()"),D.getTracks().forEach(M=>{this.addTrack(M,D)})}}addTrack(D,M){if(this.destroying)return;if(this.destroyed)throw y(new Error("cannot addTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("addTrack()");let I=this._senderMap.get(D)||new Map,F=I.get(M);if(!F)F=this._pc.addTrack(D,M),I.set(M,F),this._senderMap.set(D,I),this._needsNegotiation();else throw F.removed?y(new Error("Track has been removed. You should enable/disable tracks that you want to re-add."),"ERR_SENDER_REMOVED"):y(new Error("Track has already been added to that stream."),"ERR_SENDER_ALREADY_ADDED")}replaceTrack(D,M,I){if(this.destroying)return;if(this.destroyed)throw y(new Error("cannot replaceTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("replaceTrack()");let F=this._senderMap.get(D),O=F?F.get(I):null;if(!O)throw y(new Error("Cannot replace track that was never added."),"ERR_TRACK_NOT_ADDED");M&&this._senderMap.set(M,F),O.replaceTrack==null?this.destroy(y(new Error("replaceTrack is not supported in this browser"),"ERR_UNSUPPORTED_REPLACETRACK")):O.replaceTrack(M)}removeTrack(D,M){if(this.destroying)return;if(this.destroyed)throw y(new Error("cannot removeTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSender()");let I=this._senderMap.get(D),F=I?I.get(M):null;if(!F)throw y(new Error("Cannot remove track that was never added."),"ERR_TRACK_NOT_ADDED");try{F.removed=!0,this._pc.removeTrack(F)}catch(O){O.name==="NS_ERROR_UNEXPECTED"?this._sendersAwaitingStable.push(F):this.destroy(y(O,"ERR_REMOVE_TRACK"))}this._needsNegotiation()}removeStream(D){if(!this.destroying){if(this.destroyed)throw y(new Error("cannot removeStream after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSenders()"),D.getTracks().forEach(M=>{this.removeTrack(M,D)})}}_needsNegotiation(){this._debug("_needsNegotiation"),this._batchedNegotiation||(this._batchedNegotiation=!0,_(()=>{this._batchedNegotiation=!1,this.initiator||!this._firstNegotiation?(this._debug("starting batched negotiation"),this.negotiate()):this._debug("non-initiator initial negotiation request discarded"),this._firstNegotiation=!1}))}negotiate(){if(!this.destroying){if(this.destroyed)throw y(new Error("cannot negotiate after peer is destroyed"),"ERR_DESTROYED");this.initiator?this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("start negotiation"),setTimeout(()=>{this._createOffer()},0)):this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("requesting negotiation from initiator"),this.emit("signal",{type:"renegotiate",renegotiate:!0})),this._isNegotiating=!0}}destroy(D){this._destroy(D,()=>{})}_destroy(D,M){this.destroyed||this.destroying||(this.destroying=!0,this._debug("destroying (error: %s)",D&&(D.message||D)),_(()=>{if(this.destroyed=!0,this.destroying=!1,this._debug("destroy (error: %s)",D&&(D.message||D)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this._connected=!1,this._pcReady=!1,this._channelReady=!1,this._remoteTracks=null,this._remoteStreams=null,this._senderMap=null,clearInterval(this._closingInterval),this._closingInterval=null,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._onFinishBound&&this.removeListener("finish",this._onFinishBound),this._onFinishBound=null,this._channel){try{this._channel.close()}catch{}this._channel.onmessage=null,this._channel.onopen=null,this._channel.onclose=null,this._channel.onerror=null}if(this._pc){try{this._pc.close()}catch{}this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ontrack=null,this._pc.ondatachannel=null}this._pc=null,this._channel=null,D&&this.emit("error",D),this.emit("close"),M()}))}_setupData(D){if(!D.channel)return this.destroy(y(new Error("Data channel event is missing `channel` property"),"ERR_DATA_CHANNEL"));this._channel=D.channel,this._channel.binaryType="arraybuffer",typeof this._channel.bufferedAmountLowThreshold=="number"&&(this._channel.bufferedAmountLowThreshold=E),this.channelName=this._channel.label,this._channel.onmessage=I=>{this._onChannelMessage(I)},this._channel.onbufferedamountlow=()=>{this._onChannelBufferedAmountLow()},this._channel.onopen=()=>{this._onChannelOpen()},this._channel.onclose=()=>{this._onChannelClose()},this._channel.onerror=I=>{let F=I.error instanceof Error?I.error:new Error(`Datachannel error: ${I.message} ${I.filename}:${I.lineno}:${I.colno}`);this.destroy(y(F,"ERR_DATA_CHANNEL"))};let M=!1;this._closingInterval=setInterval(()=>{this._channel&&this._channel.readyState==="closing"?(M&&this._onChannelClose(),M=!0):M=!1},5e3)}_read(){}_write(D,M,I){if(this.destroyed)return I(y(new Error("cannot write after peer is destroyed"),"ERR_DATA_CHANNEL"));if(this._connected){try{this.send(D)}catch(F){return this.destroy(y(F,"ERR_DATA_CHANNEL"))}this._channel.bufferedAmount>E?(this._debug("start backpressure: bufferedAmount %d",this._channel.bufferedAmount),this._cb=I):I(null)}else this._debug("write before connect"),this._chunk=D,this._cb=I}_onFinish(){if(!this.destroyed){let D=()=>{setTimeout(()=>this.destroy(),1e3)};this._connected?D():this.once("connect",D)}}_startIceCompleteTimeout(){this.destroyed||this._iceCompleteTimer||(this._debug("started iceComplete timeout"),this._iceCompleteTimer=setTimeout(()=>{this._iceComplete||(this._iceComplete=!0,this._debug("iceComplete timeout completed"),this.emit("iceTimeout"),this.emit("_iceComplete"))},this.iceCompleteTimeout))}_createOffer(){this.destroyed||this._pc.createOffer(this.offerOptions).then(D=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(D.sdp=o(D.sdp)),D.sdp=this.sdpTransform(D.sdp);let M=()=>{if(!this.destroyed){let I=this._pc.localDescription||D;this._debug("signal"),this.emit("signal",{type:I.type,sdp:I.sdp})}};this._pc.setLocalDescription(D).then(()=>{this._debug("createOffer success"),this.destroyed||(this.trickle||this._iceComplete?M():this.once("_iceComplete",M))}).catch(I=>{this.destroy(y(I,"ERR_SET_LOCAL_DESCRIPTION"))})}).catch(D=>{this.destroy(y(D,"ERR_CREATE_OFFER"))})}_requestMissingTransceivers(){this._pc.getTransceivers&&this._pc.getTransceivers().forEach(D=>{D.mid||!D.sender.track||D.requested||(D.requested=!0,this.addTransceiver(D.sender.track.kind))})}_createAnswer(){this.destroyed||this._pc.createAnswer(this.answerOptions).then(D=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(D.sdp=o(D.sdp)),D.sdp=this.sdpTransform(D.sdp);let M=()=>{if(!this.destroyed){let I=this._pc.localDescription||D;this._debug("signal"),this.emit("signal",{type:I.type,sdp:I.sdp}),this.initiator||this._requestMissingTransceivers()}};this._pc.setLocalDescription(D).then(()=>{this.destroyed||(this.trickle||this._iceComplete?M():this.once("_iceComplete",M))}).catch(I=>{this.destroy(y(I,"ERR_SET_LOCAL_DESCRIPTION"))})}).catch(D=>{this.destroy(y(D,"ERR_CREATE_ANSWER"))})}_onConnectionStateChange(){this.destroyed||this._pc.connectionState==="failed"&&this.destroy(y(new Error("Connection failed."),"ERR_CONNECTION_FAILURE"))}_onIceStateChange(){if(this.destroyed)return;let D=this._pc.iceConnectionState,M=this._pc.iceGatheringState;this._debug("iceStateChange (connection: %s) (gathering: %s)",D,M),this.emit("iceStateChange",D,M),(D==="connected"||D==="completed")&&(this._pcReady=!0,this._maybeReady()),D==="failed"&&this.destroy(y(new Error("Ice connection failed."),"ERR_ICE_CONNECTION_FAILURE")),D==="closed"&&this.destroy(y(new Error("Ice connection closed."),"ERR_ICE_CONNECTION_CLOSED"))}getStats(D){let M=I=>(Object.prototype.toString.call(I.values)==="[object Array]"&&I.values.forEach(F=>{Object.assign(I,F)}),I);this._pc.getStats.length===0||this._isReactNativeWebrtc?this._pc.getStats().then(I=>{let F=[];I.forEach(O=>{F.push(M(O))}),D(null,F)},I=>D(I)):0<this._pc.getStats.length?this._pc.getStats(I=>{if(this.destroyed)return;let F=[];I.result().forEach(O=>{let $={};O.names().forEach(J=>{$[J]=O.stat(J)}),$.id=O.id,$.type=O.type,$.timestamp=O.timestamp,F.push(M($))}),D(null,F)},I=>D(I)):D(null,[])}_maybeReady(){if(this._debug("maybeReady pc %s channel %s",this._pcReady,this._channelReady),this._connected||this._connecting||!this._pcReady||!this._channelReady)return;this._connecting=!0;let D=()=>{this.destroyed||this.getStats((M,I)=>{if(this.destroyed)return;M&&(I=[]);let F={},O={},$={},J=!1;I.forEach(B=>{(B.type==="remotecandidate"||B.type==="remote-candidate")&&(F[B.id]=B),(B.type==="localcandidate"||B.type==="local-candidate")&&(O[B.id]=B),(B.type==="candidatepair"||B.type==="candidate-pair")&&($[B.id]=B)});let N=B=>{J=!0;let ne=O[B.localCandidateId];ne&&(ne.ip||ne.address)?(this.localAddress=ne.ip||ne.address,this.localPort=+ne.port):ne&&ne.ipAddress?(this.localAddress=ne.ipAddress,this.localPort=+ne.portNumber):typeof B.googLocalAddress=="string"&&(ne=B.googLocalAddress.split(":"),this.localAddress=ne[0],this.localPort=+ne[1]),this.localAddress&&(this.localFamily=this.localAddress.includes(":")?"IPv6":"IPv4");let oe=F[B.remoteCandidateId];oe&&(oe.ip||oe.address)?(this.remoteAddress=oe.ip||oe.address,this.remotePort=+oe.port):oe&&oe.ipAddress?(this.remoteAddress=oe.ipAddress,this.remotePort=+oe.portNumber):typeof B.googRemoteAddress=="string"&&(oe=B.googRemoteAddress.split(":"),this.remoteAddress=oe[0],this.remotePort=+oe[1]),this.remoteAddress&&(this.remoteFamily=this.remoteAddress.includes(":")?"IPv6":"IPv4"),this._debug("connect local: %s:%s remote: %s:%s",this.localAddress,this.localPort,this.remoteAddress,this.remotePort)};if(I.forEach(B=>{B.type==="transport"&&B.selectedCandidatePairId&&N($[B.selectedCandidatePairId]),(B.type==="googCandidatePair"&&B.googActiveConnection==="true"||(B.type==="candidatepair"||B.type==="candidate-pair")&&B.selected)&&N(B)}),!J&&(!Object.keys($).length||Object.keys(O).length))return void setTimeout(D,100);if(this._connecting=!1,this._connected=!0,this._chunk){try{this.send(this._chunk)}catch(ne){return this.destroy(y(ne,"ERR_DATA_CHANNEL"))}this._chunk=null,this._debug('sent chunk from "write before connect"');let B=this._cb;this._cb=null,B(null)}typeof this._channel.bufferedAmountLowThreshold!="number"&&(this._interval=setInterval(()=>this._onInterval(),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")})};D()}_onInterval(){this._cb&&this._channel&&!(this._channel.bufferedAmount>E)&&this._onChannelBufferedAmountLow()}_onSignalingStateChange(){this.destroyed||(this._pc.signalingState==="stable"&&(this._isNegotiating=!1,this._debug("flushing sender queue",this._sendersAwaitingStable),this._sendersAwaitingStable.forEach(D=>{this._pc.removeTrack(D),this._queuedNegotiation=!0}),this._sendersAwaitingStable=[],this._queuedNegotiation?(this._debug("flushing negotiation queue"),this._queuedNegotiation=!1,this._needsNegotiation()):(this._debug("negotiated"),this.emit("negotiated"))),this._debug("signalingStateChange %s",this._pc.signalingState),this.emit("signalingStateChange",this._pc.signalingState))}_onIceCandidate(D){this.destroyed||(D.candidate&&this.trickle?this.emit("signal",{type:"candidate",candidate:{candidate:D.candidate.candidate,sdpMLineIndex:D.candidate.sdpMLineIndex,sdpMid:D.candidate.sdpMid}}):!D.candidate&&!this._iceComplete&&(this._iceComplete=!0,this.emit("_iceComplete")),D.candidate&&this._startIceCompleteTimeout())}_onChannelMessage(D){if(this.destroyed)return;let M=D.data;M instanceof ArrayBuffer&&(M=C.from(M)),this.push(M)}_onChannelBufferedAmountLow(){if(!this.destroyed&&this._cb){this._debug("ending backpressure: bufferedAmount %d",this._channel.bufferedAmount);let D=this._cb;this._cb=null,D(null)}}_onChannelOpen(){this._connected||this.destroyed||(this._debug("on channel open"),this._channelReady=!0,this._maybeReady())}_onChannelClose(){this.destroyed||(this._debug("on channel close"),this.destroy())}_onTrack(D){this.destroyed||D.streams.forEach(M=>{this._debug("on track"),this.emit("track",D.track,M),this._remoteTracks.push({track:D.track,stream:M}),this._remoteStreams.some(I=>I.id===M.id)||(this._remoteStreams.push(M),_(()=>{this._debug("on stream"),this.emit("stream",M)}))})}_debug(){let D=[].slice.call(arguments);D[0]="["+this._id+"] "+D[0],u.apply(null,D)}}R.WEBRTC_SUPPORT=!!d(),R.config={iceServers:[{urls:["stun:stun.l.google.com:19302","stun:global.stun.twilio.com:3478"]}],sdpSemantics:"unified-plan"},R.channelConfig={},i.exports=R},{buffer:3,debug:4,"err-code":6,"get-browser-rtc":8,"queue-microtask":13,randombytes:14,"readable-stream":29}]},{},[])("/")})});var TC=Sm((Fg,Lg)=>{"use strict";(function(e,t){typeof Fg=="object"&&typeof Lg<"u"?Lg.exports=t():typeof define=="function"&&define.amd?define(t):(e=typeof globalThis<"u"?globalThis:e||self).Dexie=t()})(Fg,function(){"use strict";var e=function(a,c){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,g){p.__proto__=g}||function(p,g){for(var v in g)Object.prototype.hasOwnProperty.call(g,v)&&(p[v]=g[v])})(a,c)},t=function(){return(t=Object.assign||function(a){for(var c,p=1,g=arguments.length;p<g;p++)for(var v in c=arguments[p])Object.prototype.hasOwnProperty.call(c,v)&&(a[v]=c[v]);return a}).apply(this,arguments)};function n(a,c,p){if(p||arguments.length===2)for(var g,v=0,w=c.length;v<w;v++)!g&&v in c||((g=g||Array.prototype.slice.call(c,0,v))[v]=c[v]);return a.concat(g||Array.prototype.slice.call(c))}var r=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,i=Object.keys,o=Array.isArray;function s(a,c){return typeof c!="object"||i(c).forEach(function(p){a[p]=c[p]}),a}typeof Promise>"u"||r.Promise||(r.Promise=Promise);var u=Object.getPrototypeOf,d={}.hasOwnProperty;function h(a,c){return d.call(a,c)}function m(a,c){typeof c=="function"&&(c=c(u(a))),(typeof Reflect>"u"?i:Reflect.ownKeys)(c).forEach(function(p){y(a,p,c[p])})}var _=Object.defineProperty;function y(a,c,p,g){_(a,c,s(p&&h(p,"get")&&typeof p.get=="function"?{get:p.get,set:p.set,configurable:!0}:{value:p,configurable:!0,writable:!0},g))}function C(a){return{from:function(c){return a.prototype=Object.create(c.prototype),y(a.prototype,"constructor",a),{extend:m.bind(null,a.prototype)}}}}var E=Object.getOwnPropertyDescriptor,R=[].slice;function V(a,c,p){return R.call(a,c,p)}function D(a,c){return c(a)}function M(a){if(!a)throw new Error("Assertion Failed")}function I(a){r.setImmediate?setImmediate(a):setTimeout(a,0)}function F(a,c){if(typeof c=="string"&&h(a,c))return a[c];if(!c)return a;if(typeof c!="string"){for(var p=[],g=0,v=c.length;g<v;++g){var w=F(a,c[g]);p.push(w)}return p}var S=c.indexOf(".");if(S!==-1){var T=a[c.substr(0,S)];return T==null?void 0:F(T,c.substr(S+1))}}function O(a,c,p){if(a&&c!==void 0&&!("isFrozen"in Object&&Object.isFrozen(a)))if(typeof c!="string"&&"length"in c){M(typeof p!="string"&&"length"in p);for(var g=0,v=c.length;g<v;++g)O(a,c[g],p[g])}else{var w,S,T=c.indexOf(".");T!==-1?(w=c.substr(0,T),(S=c.substr(T+1))===""?p===void 0?o(a)&&!isNaN(parseInt(w))?a.splice(w,1):delete a[w]:a[w]=p:O(T=!(T=a[w])||!h(a,w)?a[w]={}:T,S,p)):p===void 0?o(a)&&!isNaN(parseInt(c))?a.splice(c,1):delete a[c]:a[c]=p}}function $(a){var c,p={};for(c in a)h(a,c)&&(p[c]=a[c]);return p}var J=[].concat;function N(a){return J.apply([],a)}var Er="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(N([8,16,32,64].map(function(a){return["Int","Uint","Float"].map(function(c){return c+a+"Array"})}))).filter(function(a){return r[a]}),B=new Set(Er.map(function(a){return r[a]})),ne=null;function oe(a){return ne=new WeakMap,a=function c(p){if(!p||typeof p!="object")return p;var g=ne.get(p);if(g)return g;if(o(p)){g=[],ne.set(p,g);for(var v=0,w=p.length;v<w;++v)g.push(c(p[v]))}else if(B.has(p.constructor))g=p;else{var S,T=u(p);for(S in g=T===Object.prototype?{}:Object.create(T),ne.set(p,g),p)h(p,S)&&(g[S]=c(p[S]))}return g}(a),ne=null,a}var ye={}.toString;function xe(a){return ye.call(a).slice(8,-1)}var Ie=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Ke=typeof Ie=="symbol"?function(a){var c;return a!=null&&(c=a[Ie])&&c.apply(a)}:function(){return null};function pt(a,c){return c=a.indexOf(c),0<=c&&a.splice(c,1),0<=c}var Ee={};function It(a){var c,p,g,v;if(arguments.length===1){if(o(a))return a.slice();if(this===Ee&&typeof a=="string")return[a];if(v=Ke(a)){for(p=[];!(g=v.next()).done;)p.push(g.value);return p}if(a==null)return[a];if(typeof(c=a.length)!="number")return[a];for(p=new Array(c);c--;)p[c]=a[c];return p}for(c=arguments.length,p=new Array(c);c--;)p[c]=arguments[c];return p}var Gt=typeof Symbol<"u"?function(a){return a[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Q=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Rn=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Q),Fe={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Oe(a,c){this.name=a,this.message=c}function Ve(a,c){return a+". Errors: "+Object.keys(c).map(function(p){return c[p].toString()}).filter(function(p,g,v){return v.indexOf(p)===g}).join(`
`)}function mt(a,c,p,g){this.failures=c,this.failedKeys=g,this.successCount=p,this.message=Ve(a,c)}function Tt(a,c){this.name="BulkError",this.failures=Object.keys(c).map(function(p){return c[p]}),this.failuresByPos=c,this.message=Ve(a,this.failures)}C(Oe).from(Error).extend({toString:function(){return this.name+": "+this.message}}),C(mt).from(Oe),C(Tt).from(Oe);var en=Rn.reduce(function(a,c){return a[c]=c+"Error",a},{}),wr=Oe,Se=Rn.reduce(function(a,c){var p=c+"Error";function g(v,w){this.name=p,v?typeof v=="string"?(this.message="".concat(v).concat(w?`
 `+w:""),this.inner=w||null):typeof v=="object"&&(this.message="".concat(v.name," ").concat(v.message),this.inner=v):(this.message=Fe[c]||p,this.inner=null)}return C(g).from(wr),a[c]=g,a},{});Se.Syntax=SyntaxError,Se.Type=TypeError,Se.Range=RangeError;var Tn=Q.reduce(function(a,c){return a[c+"Error"]=Se[c],a},{}),Xn=Rn.reduce(function(a,c){return["Syntax","Type","Range"].indexOf(c)===-1&&(a[c+"Error"]=Se[c]),a},{});function at(){}function Pt(a){return a}function hn(a,c){return a==null||a===Pt?c:function(p){return c(a(p))}}function W(a,c){return function(){a.apply(this,arguments),c.apply(this,arguments)}}function X(a,c){return a===at?c:function(){var p=a.apply(this,arguments);p!==void 0&&(arguments[0]=p);var g=this.onsuccess,v=this.onerror;this.onsuccess=null,this.onerror=null;var w=c.apply(this,arguments);return g&&(this.onsuccess=this.onsuccess?W(g,this.onsuccess):g),v&&(this.onerror=this.onerror?W(v,this.onerror):v),w!==void 0?w:p}}function de(a,c){return a===at?c:function(){a.apply(this,arguments);var p=this.onsuccess,g=this.onerror;this.onsuccess=this.onerror=null,c.apply(this,arguments),p&&(this.onsuccess=this.onsuccess?W(p,this.onsuccess):p),g&&(this.onerror=this.onerror?W(g,this.onerror):g)}}function De(a,c){return a===at?c:function(p){var g=a.apply(this,arguments);s(p,g);var v=this.onsuccess,w=this.onerror;return this.onsuccess=null,this.onerror=null,p=c.apply(this,arguments),v&&(this.onsuccess=this.onsuccess?W(v,this.onsuccess):v),w&&(this.onerror=this.onerror?W(w,this.onerror):w),g===void 0?p===void 0?void 0:p:s(g,p)}}function qe(a,c){return a===at?c:function(){return c.apply(this,arguments)!==!1&&a.apply(this,arguments)}}function l(a,c){return a===at?c:function(){var p=a.apply(this,arguments);if(p&&typeof p.then=="function"){for(var g=this,v=arguments.length,w=new Array(v);v--;)w[v]=arguments[v];return p.then(function(){return c.apply(g,w)})}return c.apply(this,arguments)}}Xn.ModifyError=mt,Xn.DexieError=Oe,Xn.BulkError=Tt;var f=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function b(a){f=a}var x={},K=100,Er=typeof Promise>"u"?[]:function(){var a=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[a,u(a),a];var c=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[c,u(c),a]}(),Q=Er[0],Rn=Er[1],Er=Er[2],Rn=Rn&&Rn.then,ue=Q&&Q.constructor,je=!!Er,vt=function(a,c){xn.push([a,c]),Xe&&(queueMicrotask(GC),Xe=!1)},ct=!0,Xe=!0,ze=[],Fn=[],Cr=Pt,tn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:at,pgp:!1,env:{},finalize:at},Ce=tn,xn=[],sn=0,ja=[];function ve(a){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var c=this._PSD=Ce;if(typeof a!="function"){if(a!==x)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&rd(this,this._value))}this._state=null,this._value=null,++c.ref,function p(g,v){try{v(function(w){if(g._state===null){if(w===g)throw new TypeError("A promise cannot be resolved with itself.");var S=g._lib&&eo();w&&typeof w.then=="function"?p(g,function(T,k){w instanceof ve?w._then(T,k):w.then(T,k)}):(g._state=!0,g._value=w,Qg(g)),S&&to()}},rd.bind(null,g))}catch(w){rd(g,w)}}(this,a)}var nd={get:function(){var a=Ce,c=$a;function p(g,v){var w=this,S=!a.global&&(a!==Ce||c!==$a),T=S&&!qr(),k=new ve(function(L,H){id(w,new Kg(Yg(g,a,S,T),Yg(v,a,S,T),L,H,a))});return this._consoleTask&&(k._consoleTask=this._consoleTask),k}return p.prototype=x,p},set:function(a){y(this,"then",a&&a.prototype===x?nd:{get:function(){return a},set:nd.set})}};function Kg(a,c,p,g,v){this.onFulfilled=typeof a=="function"?a:null,this.onRejected=typeof c=="function"?c:null,this.resolve=p,this.reject=g,this.psd=v}function rd(a,c){var p,g;Fn.push(c),a._state===null&&(p=a._lib&&eo(),c=Cr(c),a._state=!1,a._value=c,g=a,ze.some(function(v){return v._value===g._value})||ze.push(g),Qg(a),p&&to())}function Qg(a){var c=a._listeners;a._listeners=[];for(var p=0,g=c.length;p<g;++p)id(a,c[p]);var v=a._PSD;--v.ref||v.finalize(),sn===0&&(++sn,vt(function(){--sn==0&&od()},[]))}function id(a,c){if(a._state!==null){var p=a._state?c.onFulfilled:c.onRejected;if(p===null)return(a._state?c.resolve:c.reject)(a._value);++c.psd.ref,++sn,vt(WC,[p,a,c])}else a._listeners.push(c)}function WC(a,c,p){try{var g,v=c._value;!c._state&&Fn.length&&(Fn=[]),g=f&&c._consoleTask?c._consoleTask.run(function(){return a(v)}):a(v),c._state||Fn.indexOf(v)!==-1||function(w){for(var S=ze.length;S;)if(ze[--S]._value===w._value)return ze.splice(S,1)}(c),p.resolve(g)}catch(w){p.reject(w)}finally{--sn==0&&od(),--p.psd.ref||p.psd.finalize()}}function GC(){wi(tn,function(){eo()&&to()})}function eo(){var a=ct;return Xe=ct=!1,a}function to(){var a,c,p;do for(;0<xn.length;)for(a=xn,xn=[],p=a.length,c=0;c<p;++c){var g=a[c];g[0].apply(null,g[1])}while(0<xn.length);Xe=ct=!0}function od(){var a=ze;ze=[],a.forEach(function(g){g._PSD.onunhandled.call(null,g._value,g)});for(var c=ja.slice(0),p=c.length;p;)c[--p]()}function Ba(a){return new ve(x,!1,a)}function Mt(a,c){var p=Ce;return function(){var g=eo(),v=Ce;try{return zr(p,!0),a.apply(this,arguments)}catch(w){c&&c(w)}finally{zr(v,!1),g&&to()}}}m(ve.prototype,{then:nd,_then:function(a,c){id(this,new Kg(null,null,a,c,Ce))},catch:function(a){if(arguments.length===1)return this.then(null,a);var c=a,p=arguments[1];return typeof c=="function"?this.then(null,function(g){return(g instanceof c?p:Ba)(g)}):this.then(null,function(g){return(g&&g.name===c?p:Ba)(g)})},finally:function(a){return this.then(function(c){return ve.resolve(a()).then(function(){return c})},function(c){return ve.resolve(a()).then(function(){return Ba(c)})})},timeout:function(a,c){var p=this;return a<1/0?new ve(function(g,v){var w=setTimeout(function(){return v(new Se.Timeout(c))},a);p.then(g,v).finally(clearTimeout.bind(null,w))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&y(ve.prototype,Symbol.toStringTag,"Dexie.Promise"),tn.env=Zg(),m(ve,{all:function(){var a=It.apply(null,arguments).map(qa);return new ve(function(c,p){a.length===0&&c([]);var g=a.length;a.forEach(function(v,w){return ve.resolve(v).then(function(S){a[w]=S,--g||c(a)},p)})})},resolve:function(a){return a instanceof ve?a:a&&typeof a.then=="function"?new ve(function(c,p){a.then(c,p)}):new ve(x,!0,a)},reject:Ba,race:function(){var a=It.apply(null,arguments).map(qa);return new ve(function(c,p){a.map(function(g){return ve.resolve(g).then(c,p)})})},PSD:{get:function(){return Ce},set:function(a){return Ce=a}},totalEchoes:{get:function(){return $a}},newPSD:$r,usePSD:wi,scheduler:{get:function(){return vt},set:function(a){vt=a}},rejectionMapper:{get:function(){return Cr},set:function(a){Cr=a}},follow:function(a,c){return new ve(function(p,g){return $r(function(v,w){var S=Ce;S.unhandleds=[],S.onunhandled=w,S.finalize=W(function(){var T,k=this;T=function(){k.unhandleds.length===0?v():w(k.unhandleds[0])},ja.push(function L(){T(),ja.splice(ja.indexOf(L),1)}),++sn,vt(function(){--sn==0&&od()},[])},S.finalize),a()},c,p,g)})}}),ue&&(ue.allSettled&&y(ve,"allSettled",function(){var a=It.apply(null,arguments).map(qa);return new ve(function(c){a.length===0&&c([]);var p=a.length,g=new Array(p);a.forEach(function(v,w){return ve.resolve(v).then(function(S){return g[w]={status:"fulfilled",value:S}},function(S){return g[w]={status:"rejected",reason:S}}).then(function(){return--p||c(g)})})})}),ue.any&&typeof AggregateError<"u"&&y(ve,"any",function(){var a=It.apply(null,arguments).map(qa);return new ve(function(c,p){a.length===0&&p(new AggregateError([]));var g=a.length,v=new Array(g);a.forEach(function(w,S){return ve.resolve(w).then(function(T){return c(T)},function(T){v[S]=T,--g||p(new AggregateError(v))})})})}),ue.withResolvers&&(ve.withResolvers=ue.withResolvers));var Ht={awaits:0,echoes:0,id:0},KC=0,Ua=[],Ha=0,$a=0,QC=0;function $r(a,c,p,g){var v=Ce,w=Object.create(v);return w.parent=v,w.ref=0,w.global=!1,w.id=++QC,tn.env,w.env=je?{Promise:ve,PromiseProp:{value:ve,configurable:!0,writable:!0},all:ve.all,race:ve.race,allSettled:ve.allSettled,any:ve.any,resolve:ve.resolve,reject:ve.reject}:{},c&&s(w,c),++v.ref,w.finalize=function(){--this.parent.ref||this.parent.finalize()},g=wi(w,a,p,g),w.ref===0&&w.finalize(),g}function no(){return Ht.id||(Ht.id=++KC),++Ht.awaits,Ht.echoes+=K,Ht.id}function qr(){return!!Ht.awaits&&(--Ht.awaits==0&&(Ht.id=0),Ht.echoes=Ht.awaits*K,!0)}function qa(a){return Ht.echoes&&a&&a.constructor===ue?(no(),a.then(function(c){return qr(),c},function(c){return qr(),At(c)})):a}function ZC(){var a=Ua[Ua.length-1];Ua.pop(),zr(a,!1)}function zr(a,c){var p,g=Ce;(c?!Ht.echoes||Ha++&&a===Ce:!Ha||--Ha&&a===Ce)||queueMicrotask(c?function(v){++$a,Ht.echoes&&--Ht.echoes!=0||(Ht.echoes=Ht.awaits=Ht.id=0),Ua.push(Ce),zr(v,!0)}.bind(null,a):ZC),a!==Ce&&(Ce=a,g===tn&&(tn.env=Zg()),je&&(p=tn.env.Promise,c=a.env,(g.global||a.global)&&(Object.defineProperty(r,"Promise",c.PromiseProp),p.all=c.all,p.race=c.race,p.resolve=c.resolve,p.reject=c.reject,c.allSettled&&(p.allSettled=c.allSettled),c.any&&(p.any=c.any))))}function Zg(){var a=r.Promise;return je?{Promise:a,PromiseProp:Object.getOwnPropertyDescriptor(r,"Promise"),all:a.all,race:a.race,allSettled:a.allSettled,any:a.any,resolve:a.resolve,reject:a.reject}:{}}function wi(a,c,p,g,v){var w=Ce;try{return zr(a,!0),c(p,g,v)}finally{zr(w,!1)}}function Yg(a,c,p,g){return typeof a!="function"?a:function(){var v=Ce;p&&no(),zr(c,!0);try{return a.apply(this,arguments)}finally{zr(v,!1),g&&queueMicrotask(qr)}}}function sd(a){Promise===ue&&Ht.echoes===0?Ha===0?a():enqueueNativeMicroTask(a):setTimeout(a,0)}(""+Rn).indexOf("[native code]")===-1&&(no=qr=at);var At=ve.reject,Ci="\uFFFF",Dr="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Xg="String expected.",ro=[],za="__dbnames",ad="readonly",cd="readwrite";function Di(a,c){return a?c?function(){return a.apply(this,arguments)&&c.apply(this,arguments)}:a:c}var Jg={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Wa(a){return typeof a!="string"||/\./.test(a)?function(c){return c}:function(c){return c[a]===void 0&&a in c&&delete(c=oe(c))[a],c}}function em(){throw Se.Type()}function nt(a,c){try{var p=tm(a),g=tm(c);if(p!==g)return p==="Array"?1:g==="Array"?-1:p==="binary"?1:g==="binary"?-1:p==="string"?1:g==="string"?-1:p==="Date"?1:g!=="Date"?NaN:-1;switch(p){case"number":case"Date":case"string":return c<a?1:a<c?-1:0;case"binary":return function(v,w){for(var S=v.length,T=w.length,k=S<T?S:T,L=0;L<k;++L)if(v[L]!==w[L])return v[L]<w[L]?-1:1;return S===T?0:S<T?-1:1}(nm(a),nm(c));case"Array":return function(v,w){for(var S=v.length,T=w.length,k=S<T?S:T,L=0;L<k;++L){var H=nt(v[L],w[L]);if(H!==0)return H}return S===T?0:S<T?-1:1}(a,c)}}catch{}return NaN}function tm(a){var c=typeof a;return c!="object"?c:ArrayBuffer.isView(a)?"binary":(a=xe(a),a==="ArrayBuffer"?"binary":a)}function nm(a){return a instanceof Uint8Array?a:ArrayBuffer.isView(a)?new Uint8Array(a.buffer,a.byteOffset,a.byteLength):new Uint8Array(a)}var rm=(Dt.prototype._trans=function(a,c,p){var g=this._tx||Ce.trans,v=this.name,w=f&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(a==="readonly"?"read":"write"," ").concat(this.name));function S(L,H,A){if(!A.schema[v])throw new Se.NotFound("Table "+v+" not part of transaction");return c(A.idbtrans,A)}var T=eo();try{var k=g&&g.db._novip===this.db._novip?g===Ce.trans?g._promise(a,S,p):$r(function(){return g._promise(a,S,p)},{trans:g,transless:Ce.transless||Ce}):function L(H,A,z,P){if(H.idbdb&&(H._state.openComplete||Ce.letThrough||H._vip)){var U=H._createTransaction(A,z,H._dbSchema);try{U.create(),H._state.PR1398_maxLoop=3}catch(q){return q.name===en.InvalidState&&H.isOpen()&&0<--H._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),H.close({disableAutoOpen:!1}),H.open().then(function(){return L(H,A,z,P)})):At(q)}return U._promise(A,function(q,j){return $r(function(){return Ce.trans=U,P(q,j,U)})}).then(function(q){if(A==="readwrite")try{U.idbtrans.commit()}catch{}return A==="readonly"?q:U._completion.then(function(){return q})})}if(H._state.openComplete)return At(new Se.DatabaseClosed(H._state.dbOpenError));if(!H._state.isBeingOpened){if(!H._state.autoOpen)return At(new Se.DatabaseClosed);H.open().catch(at)}return H._state.dbReadyPromise.then(function(){return L(H,A,z,P)})}(this.db,a,[this.name],S);return w&&(k._consoleTask=w,k=k.catch(function(L){return console.trace(L),At(L)})),k}finally{T&&to()}},Dt.prototype.get=function(a,c){var p=this;return a&&a.constructor===Object?this.where(a).first(c):a==null?At(new Se.Type("Invalid argument to Table.get()")):this._trans("readonly",function(g){return p.core.get({trans:g,key:a}).then(function(v){return p.hook.reading.fire(v)})}).then(c)},Dt.prototype.where=function(a){if(typeof a=="string")return new this.db.WhereClause(this,a);if(o(a))return new this.db.WhereClause(this,"[".concat(a.join("+"),"]"));var c=i(a);if(c.length===1)return this.where(c[0]).equals(a[c[0]]);var p=this.schema.indexes.concat(this.schema.primKey).filter(function(T){if(T.compound&&c.every(function(L){return 0<=T.keyPath.indexOf(L)})){for(var k=0;k<c.length;++k)if(c.indexOf(T.keyPath[k])===-1)return!1;return!0}return!1}).sort(function(T,k){return T.keyPath.length-k.keyPath.length})[0];if(p&&this.db._maxKey!==Ci){var w=p.keyPath.slice(0,c.length);return this.where(w).equals(w.map(function(k){return a[k]}))}!p&&f&&console.warn("The query ".concat(JSON.stringify(a)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(c.join("+"),"]"));var g=this.schema.idxByName;function v(T,k){return nt(T,k)===0}var S=c.reduce(function(A,k){var L=A[0],H=A[1],A=g[k],z=a[k];return[L||A,L||!A?Di(H,A&&A.multi?function(P){return P=F(P,k),o(P)&&P.some(function(U){return v(z,U)})}:function(P){return v(z,F(P,k))}):H]},[null,null]),w=S[0],S=S[1];return w?this.where(w.name).equals(a[w.keyPath]).filter(S):p?this.filter(S):this.where(c).equals("")},Dt.prototype.filter=function(a){return this.toCollection().and(a)},Dt.prototype.count=function(a){return this.toCollection().count(a)},Dt.prototype.offset=function(a){return this.toCollection().offset(a)},Dt.prototype.limit=function(a){return this.toCollection().limit(a)},Dt.prototype.each=function(a){return this.toCollection().each(a)},Dt.prototype.toArray=function(a){return this.toCollection().toArray(a)},Dt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Dt.prototype.orderBy=function(a){return new this.db.Collection(new this.db.WhereClause(this,o(a)?"[".concat(a.join("+"),"]"):a))},Dt.prototype.reverse=function(){return this.toCollection().reverse()},Dt.prototype.mapToClass=function(a){var c,p=this.db,g=this.name;function v(){return c!==null&&c.apply(this,arguments)||this}(this.schema.mappedClass=a).prototype instanceof em&&(function(k,L){if(typeof L!="function"&&L!==null)throw new TypeError("Class extends value "+String(L)+" is not a constructor or null");function H(){this.constructor=k}e(k,L),k.prototype=L===null?Object.create(L):(H.prototype=L.prototype,new H)}(v,c=a),Object.defineProperty(v.prototype,"db",{get:function(){return p},enumerable:!1,configurable:!0}),v.prototype.table=function(){return g},a=v);for(var w=new Set,S=a.prototype;S;S=u(S))Object.getOwnPropertyNames(S).forEach(function(k){return w.add(k)});function T(k){if(!k)return k;var L,H=Object.create(a.prototype);for(L in k)if(!w.has(L))try{H[L]=k[L]}catch{}return H}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=T,this.hook("reading",T),a},Dt.prototype.defineClass=function(){return this.mapToClass(function(a){s(this,a)})},Dt.prototype.add=function(a,c){var p=this,g=this.schema.primKey,v=g.auto,w=g.keyPath,S=a;return w&&v&&(S=Wa(w)(a)),this._trans("readwrite",function(T){return p.core.mutate({trans:T,type:"add",keys:c!=null?[c]:null,values:[S]})}).then(function(T){return T.numFailures?ve.reject(T.failures[0]):T.lastResult}).then(function(T){if(w)try{O(a,w,T)}catch{}return T})},Dt.prototype.update=function(a,c){return typeof a!="object"||o(a)?this.where(":id").equals(a).modify(c):(a=F(a,this.schema.primKey.keyPath),a===void 0?At(new Se.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(a).modify(c))},Dt.prototype.put=function(a,c){var p=this,g=this.schema.primKey,v=g.auto,w=g.keyPath,S=a;return w&&v&&(S=Wa(w)(a)),this._trans("readwrite",function(T){return p.core.mutate({trans:T,type:"put",values:[S],keys:c!=null?[c]:null})}).then(function(T){return T.numFailures?ve.reject(T.failures[0]):T.lastResult}).then(function(T){if(w)try{O(a,w,T)}catch{}return T})},Dt.prototype.delete=function(a){var c=this;return this._trans("readwrite",function(p){return c.core.mutate({trans:p,type:"delete",keys:[a]})}).then(function(p){return p.numFailures?ve.reject(p.failures[0]):void 0})},Dt.prototype.clear=function(){var a=this;return this._trans("readwrite",function(c){return a.core.mutate({trans:c,type:"deleteRange",range:Jg})}).then(function(c){return c.numFailures?ve.reject(c.failures[0]):void 0})},Dt.prototype.bulkGet=function(a){var c=this;return this._trans("readonly",function(p){return c.core.getMany({keys:a,trans:p}).then(function(g){return g.map(function(v){return c.hook.reading.fire(v)})})})},Dt.prototype.bulkAdd=function(a,c,p){var g=this,v=Array.isArray(c)?c:void 0,w=(p=p||(v?void 0:c))?p.allKeys:void 0;return this._trans("readwrite",function(S){var L=g.schema.primKey,T=L.auto,L=L.keyPath;if(L&&v)throw new Se.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(v&&v.length!==a.length)throw new Se.InvalidArgument("Arguments objects and keys must have the same length");var k=a.length,L=L&&T?a.map(Wa(L)):a;return g.core.mutate({trans:S,type:"add",keys:v,values:L,wantResults:w}).then(function(U){var A=U.numFailures,z=U.results,P=U.lastResult,U=U.failures;if(A===0)return w?z:P;throw new Tt("".concat(g.name,".bulkAdd(): ").concat(A," of ").concat(k," operations failed"),U)})})},Dt.prototype.bulkPut=function(a,c,p){var g=this,v=Array.isArray(c)?c:void 0,w=(p=p||(v?void 0:c))?p.allKeys:void 0;return this._trans("readwrite",function(S){var L=g.schema.primKey,T=L.auto,L=L.keyPath;if(L&&v)throw new Se.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(v&&v.length!==a.length)throw new Se.InvalidArgument("Arguments objects and keys must have the same length");var k=a.length,L=L&&T?a.map(Wa(L)):a;return g.core.mutate({trans:S,type:"put",keys:v,values:L,wantResults:w}).then(function(U){var A=U.numFailures,z=U.results,P=U.lastResult,U=U.failures;if(A===0)return w?z:P;throw new Tt("".concat(g.name,".bulkPut(): ").concat(A," of ").concat(k," operations failed"),U)})})},Dt.prototype.bulkUpdate=function(a){var c=this,p=this.core,g=a.map(function(S){return S.key}),v=a.map(function(S){return S.changes}),w=[];return this._trans("readwrite",function(S){return p.getMany({trans:S,keys:g,cache:"clone"}).then(function(T){var k=[],L=[];a.forEach(function(A,z){var P=A.key,U=A.changes,q=T[z];if(q){for(var j=0,G=Object.keys(U);j<G.length;j++){var Z=G[j],Y=U[Z];if(Z===c.schema.primKey.keyPath){if(nt(Y,P)!==0)throw new Se.Constraint("Cannot update primary key in bulkUpdate()")}else O(q,Z,Y)}w.push(z),k.push(P),L.push(q)}});var H=k.length;return p.mutate({trans:S,type:"put",keys:k,values:L,updates:{keys:g,changeSpecs:v}}).then(function(A){var z=A.numFailures,P=A.failures;if(z===0)return H;for(var U=0,q=Object.keys(P);U<q.length;U++){var j,G=q[U],Z=w[Number(G)];Z!=null&&(j=P[G],delete P[G],P[Z]=j)}throw new Tt("".concat(c.name,".bulkUpdate(): ").concat(z," of ").concat(H," operations failed"),P)})})})},Dt.prototype.bulkDelete=function(a){var c=this,p=a.length;return this._trans("readwrite",function(g){return c.core.mutate({trans:g,type:"delete",keys:a})}).then(function(S){var v=S.numFailures,w=S.lastResult,S=S.failures;if(v===0)return w;throw new Tt("".concat(c.name,".bulkDelete(): ").concat(v," of ").concat(p," operations failed"),S)})},Dt);function Dt(){}function us(a){function c(S,T){if(T){for(var k=arguments.length,L=new Array(k-1);--k;)L[k-1]=arguments[k];return p[S].subscribe.apply(null,L),a}if(typeof S=="string")return p[S]}var p={};c.addEventType=w;for(var g=1,v=arguments.length;g<v;++g)w(arguments[g]);return c;function w(S,T,k){if(typeof S!="object"){var L;T=T||qe;var H={subscribers:[],fire:k=k||at,subscribe:function(A){H.subscribers.indexOf(A)===-1&&(H.subscribers.push(A),H.fire=T(H.fire,A))},unsubscribe:function(A){H.subscribers=H.subscribers.filter(function(z){return z!==A}),H.fire=H.subscribers.reduce(T,k)}};return p[S]=c[S]=H}i(L=S).forEach(function(A){var z=L[A];if(o(z))w(A,L[A][0],L[A][1]);else{if(z!=="asap")throw new Se.InvalidArgument("Invalid event config");var P=w(A,Pt,function(){for(var U=arguments.length,q=new Array(U);U--;)q[U]=arguments[U];P.subscribers.forEach(function(j){I(function(){j.apply(null,q)})})})}})}}function ls(a,c){return C(c).from({prototype:a}),c}function io(a,c){return!(a.filter||a.algorithm||a.or)&&(c?a.justLimit:!a.replayFilter)}function ud(a,c){a.filter=Di(a.filter,c)}function ld(a,c,p){var g=a.replayFilter;a.replayFilter=g?function(){return Di(g(),c())}:c,a.justLimit=p&&!g}function Ga(a,c){if(a.isPrimKey)return c.primaryKey;var p=c.getIndexByKeyPath(a.index);if(!p)throw new Se.Schema("KeyPath "+a.index+" on object store "+c.name+" is not indexed");return p}function im(a,c,p){var g=Ga(a,c.schema);return c.openCursor({trans:p,values:!a.keysOnly,reverse:a.dir==="prev",unique:!!a.unique,query:{index:g,range:a.range}})}function Ka(a,c,p,g){var v=a.replayFilter?Di(a.filter,a.replayFilter()):a.filter;if(a.or){var w={},S=function(T,k,L){var H,A;v&&!v(k,L,function(z){return k.stop(z)},function(z){return k.fail(z)})||((A=""+(H=k.primaryKey))=="[object ArrayBuffer]"&&(A=""+new Uint8Array(H)),h(w,A)||(w[A]=!0,c(T,k,L)))};return Promise.all([a.or._iterate(S,p),om(im(a,g,p),a.algorithm,S,!a.keysOnly&&a.valueMapper)])}return om(im(a,g,p),Di(a.algorithm,v),c,!a.keysOnly&&a.valueMapper)}function om(a,c,p,g){var v=Mt(g?function(w,S,T){return p(g(w),S,T)}:p);return a.then(function(w){if(w)return w.start(function(){var S=function(){return w.continue()};c&&!c(w,function(T){return S=T},function(T){w.stop(T),S=at},function(T){w.fail(T),S=at})||v(w.value,w,function(T){return S=T}),S()})})}var Er=Symbol(),ds=(sm.prototype.execute=function(a){if(this.add!==void 0){var c=this.add;if(o(c))return n(n([],o(a)?a:[],!0),c,!0).sort();if(typeof c=="number")return(Number(a)||0)+c;if(typeof c=="bigint")try{return BigInt(a)+c}catch{return BigInt(0)+c}throw new TypeError("Invalid term ".concat(c))}if(this.remove!==void 0){var p=this.remove;if(o(p))return o(a)?a.filter(function(g){return!p.includes(g)}).sort():[];if(typeof p=="number")return Number(a)-p;if(typeof p=="bigint")try{return BigInt(a)-p}catch{return BigInt(0)-p}throw new TypeError("Invalid subtrahend ".concat(p))}return c=(c=this.replacePrefix)===null||c===void 0?void 0:c[0],c&&typeof a=="string"&&a.startsWith(c)?this.replacePrefix[1]+a.substring(c.length):a},sm);function sm(a){Object.assign(this,a)}var YC=(lt.prototype._read=function(a,c){var p=this._ctx;return p.error?p.table._trans(null,At.bind(null,p.error)):p.table._trans("readonly",a).then(c)},lt.prototype._write=function(a){var c=this._ctx;return c.error?c.table._trans(null,At.bind(null,c.error)):c.table._trans("readwrite",a,"locked")},lt.prototype._addAlgorithm=function(a){var c=this._ctx;c.algorithm=Di(c.algorithm,a)},lt.prototype._iterate=function(a,c){return Ka(this._ctx,a,c,this._ctx.table.core)},lt.prototype.clone=function(a){var c=Object.create(this.constructor.prototype),p=Object.create(this._ctx);return a&&s(p,a),c._ctx=p,c},lt.prototype.raw=function(){return this._ctx.valueMapper=null,this},lt.prototype.each=function(a){var c=this._ctx;return this._read(function(p){return Ka(c,a,p,c.table.core)})},lt.prototype.count=function(a){var c=this;return this._read(function(p){var g=c._ctx,v=g.table.core;if(io(g,!0))return v.count({trans:p,query:{index:Ga(g,v.schema),range:g.range}}).then(function(S){return Math.min(S,g.limit)});var w=0;return Ka(g,function(){return++w,!1},p,v).then(function(){return w})}).then(a)},lt.prototype.sortBy=function(a,c){var p=a.split(".").reverse(),g=p[0],v=p.length-1;function w(k,L){return L?w(k[p[L]],L-1):k[g]}var S=this._ctx.dir==="next"?1:-1;function T(k,L){return nt(w(k,v),w(L,v))*S}return this.toArray(function(k){return k.sort(T)}).then(c)},lt.prototype.toArray=function(a){var c=this;return this._read(function(p){var g=c._ctx;if(g.dir==="next"&&io(g,!0)&&0<g.limit){var v=g.valueMapper,w=Ga(g,g.table.core.schema);return g.table.core.query({trans:p,limit:g.limit,values:!0,query:{index:w,range:g.range}}).then(function(T){return T=T.result,v?T.map(v):T})}var S=[];return Ka(g,function(T){return S.push(T)},p,g.table.core).then(function(){return S})},a)},lt.prototype.offset=function(a){var c=this._ctx;return a<=0||(c.offset+=a,io(c)?ld(c,function(){var p=a;return function(g,v){return p===0||(p===1?--p:v(function(){g.advance(p),p=0}),!1)}}):ld(c,function(){var p=a;return function(){return--p<0}})),this},lt.prototype.limit=function(a){return this._ctx.limit=Math.min(this._ctx.limit,a),ld(this._ctx,function(){var c=a;return function(p,g,v){return--c<=0&&g(v),0<=c}},!0),this},lt.prototype.until=function(a,c){return ud(this._ctx,function(p,g,v){return!a(p.value)||(g(v),c)}),this},lt.prototype.first=function(a){return this.limit(1).toArray(function(c){return c[0]}).then(a)},lt.prototype.last=function(a){return this.reverse().first(a)},lt.prototype.filter=function(a){var c;return ud(this._ctx,function(p){return a(p.value)}),(c=this._ctx).isMatch=Di(c.isMatch,a),this},lt.prototype.and=function(a){return this.filter(a)},lt.prototype.or=function(a){return new this.db.WhereClause(this._ctx.table,a,this)},lt.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},lt.prototype.desc=function(){return this.reverse()},lt.prototype.eachKey=function(a){var c=this._ctx;return c.keysOnly=!c.isMatch,this.each(function(p,g){a(g.key,g)})},lt.prototype.eachUniqueKey=function(a){return this._ctx.unique="unique",this.eachKey(a)},lt.prototype.eachPrimaryKey=function(a){var c=this._ctx;return c.keysOnly=!c.isMatch,this.each(function(p,g){a(g.primaryKey,g)})},lt.prototype.keys=function(a){var c=this._ctx;c.keysOnly=!c.isMatch;var p=[];return this.each(function(g,v){p.push(v.key)}).then(function(){return p}).then(a)},lt.prototype.primaryKeys=function(a){var c=this._ctx;if(c.dir==="next"&&io(c,!0)&&0<c.limit)return this._read(function(g){var v=Ga(c,c.table.core.schema);return c.table.core.query({trans:g,values:!1,limit:c.limit,query:{index:v,range:c.range}})}).then(function(g){return g.result}).then(a);c.keysOnly=!c.isMatch;var p=[];return this.each(function(g,v){p.push(v.primaryKey)}).then(function(){return p}).then(a)},lt.prototype.uniqueKeys=function(a){return this._ctx.unique="unique",this.keys(a)},lt.prototype.firstKey=function(a){return this.limit(1).keys(function(c){return c[0]}).then(a)},lt.prototype.lastKey=function(a){return this.reverse().firstKey(a)},lt.prototype.distinct=function(){var a=this._ctx,a=a.index&&a.table.schema.idxByName[a.index];if(!a||!a.multi)return this;var c={};return ud(this._ctx,function(v){var g=v.primaryKey.toString(),v=h(c,g);return c[g]=!0,!v}),this},lt.prototype.modify=function(a){var c=this,p=this._ctx;return this._write(function(g){var v,w,S;S=typeof a=="function"?a:(v=i(a),w=v.length,function(j){for(var G=!1,Z=0;Z<w;++Z){var Y=v[Z],te=a[Y],se=F(j,Y);te instanceof ds?(O(j,Y,te.execute(se)),G=!0):se!==te&&(O(j,Y,te),G=!0)}return G});var T=p.table.core,A=T.schema.primaryKey,k=A.outbound,L=A.extractKey,H=200,A=c.db._options.modifyChunkSize;A&&(H=typeof A=="object"?A[T.name]||A["*"]||200:A);function z(j,Y){var Z=Y.failures,Y=Y.numFailures;U+=j-Y;for(var te=0,se=i(Z);te<se.length;te++){var pe=se[te];P.push(Z[pe])}}var P=[],U=0,q=[];return c.clone().primaryKeys().then(function(j){function G(Y){var te=Math.min(H,j.length-Y);return T.getMany({trans:g,keys:j.slice(Y,Y+te),cache:"immutable"}).then(function(se){for(var pe=[],ae=[],le=k?[]:null,me=[],he=0;he<te;++he){var _e=se[he],Be={value:oe(_e),primKey:j[Y+he]};S.call(Be,Be.value,Be)!==!1&&(Be.value==null?me.push(j[Y+he]):k||nt(L(_e),L(Be.value))===0?(ae.push(Be.value),k&&le.push(j[Y+he])):(me.push(j[Y+he]),pe.push(Be.value)))}return Promise.resolve(0<pe.length&&T.mutate({trans:g,type:"add",values:pe}).then(function(Qe){for(var Ze in Qe.failures)me.splice(parseInt(Ze),1);z(pe.length,Qe)})).then(function(){return(0<ae.length||Z&&typeof a=="object")&&T.mutate({trans:g,type:"put",keys:le,values:ae,criteria:Z,changeSpec:typeof a!="function"&&a,isAdditionalChunk:0<Y}).then(function(Qe){return z(ae.length,Qe)})}).then(function(){return(0<me.length||Z&&a===dd)&&T.mutate({trans:g,type:"delete",keys:me,criteria:Z,isAdditionalChunk:0<Y}).then(function(Qe){return z(me.length,Qe)})}).then(function(){return j.length>Y+te&&G(Y+H)})})}var Z=io(p)&&p.limit===1/0&&(typeof a!="function"||a===dd)&&{index:p.index,range:p.range};return G(0).then(function(){if(0<P.length)throw new mt("Error modifying one or more objects",P,U,q);return j.length})})})},lt.prototype.delete=function(){var a=this._ctx,c=a.range;return io(a)&&(a.isPrimKey||c.type===3)?this._write(function(p){var g=a.table.core.schema.primaryKey,v=c;return a.table.core.count({trans:p,query:{index:g,range:v}}).then(function(w){return a.table.core.mutate({trans:p,type:"deleteRange",range:v}).then(function(S){var T=S.failures;if(S.lastResult,S.results,S=S.numFailures,S)throw new mt("Could not delete some values",Object.keys(T).map(function(k){return T[k]}),w-S);return w-S})})}):this.modify(dd)},lt);function lt(){}var dd=function(a,c){return c.value=null};function XC(a,c){return a<c?-1:a===c?0:1}function JC(a,c){return c<a?-1:a===c?0:1}function pn(a,c,p){return a=a instanceof cm?new a.Collection(a):a,a._ctx.error=new(p||TypeError)(c),a}function oo(a){return new a.Collection(a,function(){return am("")}).limit(0)}function Qa(a,c,p,g){var v,w,S,T,k,L,H,A=p.length;if(!p.every(function(U){return typeof U=="string"}))return pn(a,Xg);function z(U){v=U==="next"?function(j){return j.toUpperCase()}:function(j){return j.toLowerCase()},w=U==="next"?function(j){return j.toLowerCase()}:function(j){return j.toUpperCase()},S=U==="next"?XC:JC;var q=p.map(function(j){return{lower:w(j),upper:v(j)}}).sort(function(j,G){return S(j.lower,G.lower)});T=q.map(function(j){return j.upper}),k=q.map(function(j){return j.lower}),H=(L=U)==="next"?"":g}z("next"),a=new a.Collection(a,function(){return Wr(T[0],k[A-1]+g)}),a._ondirectionchange=function(U){z(U)};var P=0;return a._addAlgorithm(function(U,q,j){var G=U.key;if(typeof G!="string")return!1;var Z=w(G);if(c(Z,k,P))return!0;for(var Y=null,te=P;te<A;++te){var se=function(pe,ae,le,me,he,_e){for(var Be=Math.min(pe.length,me.length),Qe=-1,Ze=0;Ze<Be;++Ze){var gn=ae[Ze];if(gn!==me[Ze])return he(pe[Ze],le[Ze])<0?pe.substr(0,Ze)+le[Ze]+le.substr(Ze+1):he(pe[Ze],me[Ze])<0?pe.substr(0,Ze)+me[Ze]+le.substr(Ze+1):0<=Qe?pe.substr(0,Qe)+ae[Qe]+le.substr(Qe+1):null;he(pe[Ze],gn)<0&&(Qe=Ze)}return Be<me.length&&_e==="next"?pe+le.substr(pe.length):Be<pe.length&&_e==="prev"?pe.substr(0,le.length):Qe<0?null:pe.substr(0,Qe)+me[Qe]+le.substr(Qe+1)}(G,Z,T[te],k[te],S,L);se===null&&Y===null?P=te+1:(Y===null||0<S(Y,se))&&(Y=se)}return q(Y!==null?function(){U.continue(Y+H)}:j),!1}),a}function Wr(a,c,p,g){return{type:2,lower:a,upper:c,lowerOpen:p,upperOpen:g}}function am(a){return{type:1,lower:a,upper:a}}var cm=(Object.defineProperty($t.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),$t.prototype.between=function(a,c,p,g){p=p!==!1,g=g===!0;try{return 0<this._cmp(a,c)||this._cmp(a,c)===0&&(p||g)&&(!p||!g)?oo(this):new this.Collection(this,function(){return Wr(a,c,!p,!g)})}catch{return pn(this,Dr)}},$t.prototype.equals=function(a){return a==null?pn(this,Dr):new this.Collection(this,function(){return am(a)})},$t.prototype.above=function(a){return a==null?pn(this,Dr):new this.Collection(this,function(){return Wr(a,void 0,!0)})},$t.prototype.aboveOrEqual=function(a){return a==null?pn(this,Dr):new this.Collection(this,function(){return Wr(a,void 0,!1)})},$t.prototype.below=function(a){return a==null?pn(this,Dr):new this.Collection(this,function(){return Wr(void 0,a,!1,!0)})},$t.prototype.belowOrEqual=function(a){return a==null?pn(this,Dr):new this.Collection(this,function(){return Wr(void 0,a)})},$t.prototype.startsWith=function(a){return typeof a!="string"?pn(this,Xg):this.between(a,a+Ci,!0,!0)},$t.prototype.startsWithIgnoreCase=function(a){return a===""?this.startsWith(a):Qa(this,function(c,p){return c.indexOf(p[0])===0},[a],Ci)},$t.prototype.equalsIgnoreCase=function(a){return Qa(this,function(c,p){return c===p[0]},[a],"")},$t.prototype.anyOfIgnoreCase=function(){var a=It.apply(Ee,arguments);return a.length===0?oo(this):Qa(this,function(c,p){return p.indexOf(c)!==-1},a,"")},$t.prototype.startsWithAnyOfIgnoreCase=function(){var a=It.apply(Ee,arguments);return a.length===0?oo(this):Qa(this,function(c,p){return p.some(function(g){return c.indexOf(g)===0})},a,Ci)},$t.prototype.anyOf=function(){var a=this,c=It.apply(Ee,arguments),p=this._cmp;try{c.sort(p)}catch{return pn(this,Dr)}if(c.length===0)return oo(this);var g=new this.Collection(this,function(){return Wr(c[0],c[c.length-1])});g._ondirectionchange=function(w){p=w==="next"?a._ascending:a._descending,c.sort(p)};var v=0;return g._addAlgorithm(function(w,S,T){for(var k=w.key;0<p(k,c[v]);)if(++v===c.length)return S(T),!1;return p(k,c[v])===0||(S(function(){w.continue(c[v])}),!1)}),g},$t.prototype.notEqual=function(a){return this.inAnyRange([[-1/0,a],[a,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},$t.prototype.noneOf=function(){var a=It.apply(Ee,arguments);if(a.length===0)return new this.Collection(this);try{a.sort(this._ascending)}catch{return pn(this,Dr)}var c=a.reduce(function(p,g){return p?p.concat([[p[p.length-1][1],g]]):[[-1/0,g]]},null);return c.push([a[a.length-1],this.db._maxKey]),this.inAnyRange(c,{includeLowers:!1,includeUppers:!1})},$t.prototype.inAnyRange=function(G,c){var p=this,g=this._cmp,v=this._ascending,w=this._descending,S=this._min,T=this._max;if(G.length===0)return oo(this);if(!G.every(function(Z){return Z[0]!==void 0&&Z[1]!==void 0&&v(Z[0],Z[1])<=0}))return pn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Se.InvalidArgument);var k=!c||c.includeLowers!==!1,L=c&&c.includeUppers===!0,H,A=v;function z(Z,Y){return A(Z[0],Y[0])}try{(H=G.reduce(function(Z,Y){for(var te=0,se=Z.length;te<se;++te){var pe=Z[te];if(g(Y[0],pe[1])<0&&0<g(Y[1],pe[0])){pe[0]=S(pe[0],Y[0]),pe[1]=T(pe[1],Y[1]);break}}return te===se&&Z.push(Y),Z},[])).sort(z)}catch{return pn(this,Dr)}var P=0,U=L?function(Z){return 0<v(Z,H[P][1])}:function(Z){return 0<=v(Z,H[P][1])},q=k?function(Z){return 0<w(Z,H[P][0])}:function(Z){return 0<=w(Z,H[P][0])},j=U,G=new this.Collection(this,function(){return Wr(H[0][0],H[H.length-1][1],!k,!L)});return G._ondirectionchange=function(Z){A=Z==="next"?(j=U,v):(j=q,w),H.sort(z)},G._addAlgorithm(function(Z,Y,te){for(var se,pe=Z.key;j(pe);)if(++P===H.length)return Y(te),!1;return!U(se=pe)&&!q(se)||(p._cmp(pe,H[P][1])===0||p._cmp(pe,H[P][0])===0||Y(function(){A===v?Z.continue(H[P][0]):Z.continue(H[P][1])}),!1)}),G},$t.prototype.startsWithAnyOf=function(){var a=It.apply(Ee,arguments);return a.every(function(c){return typeof c=="string"})?a.length===0?oo(this):this.inAnyRange(a.map(function(c){return[c,c+Ci]})):pn(this,"startsWithAnyOf() only works with strings")},$t);function $t(){}function Jn(a){return Mt(function(c){return fs(c),a(c.target.error),!1})}function fs(a){a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault()}var hs="storagemutated",fd="x-storagemutated-1",Gr=us(null,hs),eD=(er.prototype._lock=function(){return M(!Ce.global),++this._reculock,this._reculock!==1||Ce.global||(Ce.lockOwnerFor=this),this},er.prototype._unlock=function(){if(M(!Ce.global),--this._reculock==0)for(Ce.global||(Ce.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var a=this._blockedFuncs.shift();try{wi(a[1],a[0])}catch{}}return this},er.prototype._locked=function(){return this._reculock&&Ce.lockOwnerFor!==this},er.prototype.create=function(a){var c=this;if(!this.mode)return this;var p=this.db.idbdb,g=this.db._state.dbOpenError;if(M(!this.idbtrans),!a&&!p)switch(g&&g.name){case"DatabaseClosedError":throw new Se.DatabaseClosed(g);case"MissingAPIError":throw new Se.MissingAPI(g.message,g);default:throw new Se.OpenFailed(g)}if(!this.active)throw new Se.TransactionInactive;return M(this._completion._state===null),(a=this.idbtrans=a||(this.db.core||p).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Mt(function(v){fs(v),c._reject(a.error)}),a.onabort=Mt(function(v){fs(v),c.active&&c._reject(new Se.Abort(a.error)),c.active=!1,c.on("abort").fire(v)}),a.oncomplete=Mt(function(){c.active=!1,c._resolve(),"mutatedParts"in a&&Gr.storagemutated.fire(a.mutatedParts)}),this},er.prototype._promise=function(a,c,p){var g=this;if(a==="readwrite"&&this.mode!=="readwrite")return At(new Se.ReadOnly("Transaction is readonly"));if(!this.active)return At(new Se.TransactionInactive);if(this._locked())return new ve(function(w,S){g._blockedFuncs.push([function(){g._promise(a,c,p).then(w,S)},Ce])});if(p)return $r(function(){var w=new ve(function(S,T){g._lock();var k=c(S,T,g);k&&k.then&&k.then(S,T)});return w.finally(function(){return g._unlock()}),w._lib=!0,w});var v=new ve(function(w,S){var T=c(w,S,g);T&&T.then&&T.then(w,S)});return v._lib=!0,v},er.prototype._root=function(){return this.parent?this.parent._root():this},er.prototype.waitFor=function(a){var c,p=this._root(),g=ve.resolve(a);p._waitingFor?p._waitingFor=p._waitingFor.then(function(){return g}):(p._waitingFor=g,p._waitingQueue=[],c=p.idbtrans.objectStore(p.storeNames[0]),function w(){for(++p._spinCount;p._waitingQueue.length;)p._waitingQueue.shift()();p._waitingFor&&(c.get(-1/0).onsuccess=w)}());var v=p._waitingFor;return new ve(function(w,S){g.then(function(T){return p._waitingQueue.push(Mt(w.bind(null,T)))},function(T){return p._waitingQueue.push(Mt(S.bind(null,T)))}).finally(function(){p._waitingFor===v&&(p._waitingFor=null)})})},er.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Se.Abort))},er.prototype.table=function(a){var c=this._memoizedTables||(this._memoizedTables={});if(h(c,a))return c[a];var p=this.schema[a];if(!p)throw new Se.NotFound("Table "+a+" not part of transaction");return p=new this.db.Table(a,p,this),p.core=this.db.core.table(a),c[a]=p},er);function er(){}function hd(a,c,p,g,v,w,S){return{name:a,keyPath:c,unique:p,multi:g,auto:v,compound:w,src:(p&&!S?"&":"")+(g?"*":"")+(v?"++":"")+um(c)}}function um(a){return typeof a=="string"?a:a?"["+[].join.call(a,"+")+"]":""}function pd(a,c,p){return{name:a,primKey:c,indexes:p,mappedClass:null,idxByName:(g=function(v){return[v.name,v]},p.reduce(function(v,w,S){return S=g(w,S),S&&(v[S[0]]=S[1]),v},{}))};var g}var ps=function(a){try{return a.only([[]]),ps=function(){return[[]]},[[]]}catch{return ps=function(){return Ci},Ci}};function gd(a){return a==null?function(){}:typeof a=="string"?(c=a).split(".").length===1?function(p){return p[c]}:function(p){return F(p,c)}:function(p){return F(p,a)};var c}function lm(a){return[].slice.call(a)}var tD=0;function gs(a){return a==null?":id":typeof a=="string"?a:"[".concat(a.join("+"),"]")}function nD(a,c,k){function g(j){if(j.type===3)return null;if(j.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var P=j.lower,U=j.upper,q=j.lowerOpen,j=j.upperOpen;return P===void 0?U===void 0?null:c.upperBound(U,!!j):U===void 0?c.lowerBound(P,!!q):c.bound(P,U,!!q,!!j)}function v(z){var P,U=z.name;return{name:U,schema:z,mutate:function(q){var j=q.trans,G=q.type,Z=q.keys,Y=q.values,te=q.range;return new Promise(function(se,pe){se=Mt(se);var ae=j.objectStore(U),le=ae.keyPath==null,me=G==="put"||G==="add";if(!me&&G!=="delete"&&G!=="deleteRange")throw new Error("Invalid operation type: "+G);var he,_e=(Z||Y||{length:1}).length;if(Z&&Y&&Z.length!==Y.length)throw new Error("Given keys array must have same length as given values array.");if(_e===0)return se({numFailures:0,failures:{},results:[],lastResult:void 0});function Be(nn){++gn,fs(nn)}var Qe=[],Ze=[],gn=0;if(G==="deleteRange"){if(te.type===4)return se({numFailures:gn,failures:Ze,results:[],lastResult:void 0});te.type===3?Qe.push(he=ae.clear()):Qe.push(he=ae.delete(g(te)))}else{var le=me?le?[Y,Z]:[Y,null]:[Z,null],Le=le[0],Qt=le[1];if(me)for(var Zt=0;Zt<_e;++Zt)Qe.push(he=Qt&&Qt[Zt]!==void 0?ae[G](Le[Zt],Qt[Zt]):ae[G](Le[Zt])),he.onerror=Be;else for(Zt=0;Zt<_e;++Zt)Qe.push(he=ae[G](Le[Zt])),he.onerror=Be}function cc(nn){nn=nn.target.result,Qe.forEach(function(Mi,Nd){return Mi.error!=null&&(Ze[Nd]=Mi.error)}),se({numFailures:gn,failures:Ze,results:G==="delete"?Z:Qe.map(function(Mi){return Mi.result}),lastResult:nn})}he.onerror=function(nn){Be(nn),cc(nn)},he.onsuccess=cc})},getMany:function(q){var j=q.trans,G=q.keys;return new Promise(function(Z,Y){Z=Mt(Z);for(var te,se=j.objectStore(U),pe=G.length,ae=new Array(pe),le=0,me=0,he=function(Qe){Qe=Qe.target,ae[Qe._pos]=Qe.result,++me===le&&Z(ae)},_e=Jn(Y),Be=0;Be<pe;++Be)G[Be]!=null&&((te=se.get(G[Be]))._pos=Be,te.onsuccess=he,te.onerror=_e,++le);le===0&&Z(ae)})},get:function(q){var j=q.trans,G=q.key;return new Promise(function(Z,Y){Z=Mt(Z);var te=j.objectStore(U).get(G);te.onsuccess=function(se){return Z(se.target.result)},te.onerror=Jn(Y)})},query:(P=L,function(q){return new Promise(function(j,G){j=Mt(j);var Z,Y,te,le=q.trans,se=q.values,pe=q.limit,he=q.query,ae=pe===1/0?void 0:pe,me=he.index,he=he.range,le=le.objectStore(U),me=me.isPrimaryKey?le:le.index(me.name),he=g(he);if(pe===0)return j({result:[]});P?((ae=se?me.getAll(he,ae):me.getAllKeys(he,ae)).onsuccess=function(_e){return j({result:_e.target.result})},ae.onerror=Jn(G)):(Z=0,Y=!se&&"openKeyCursor"in me?me.openKeyCursor(he):me.openCursor(he),te=[],Y.onsuccess=function(_e){var Be=Y.result;return Be?(te.push(se?Be.value:Be.primaryKey),++Z===pe?j({result:te}):void Be.continue()):j({result:te})},Y.onerror=Jn(G))})}),openCursor:function(q){var j=q.trans,G=q.values,Z=q.query,Y=q.reverse,te=q.unique;return new Promise(function(se,pe){se=Mt(se);var me=Z.index,ae=Z.range,le=j.objectStore(U),le=me.isPrimaryKey?le:le.index(me.name),me=Y?te?"prevunique":"prev":te?"nextunique":"next",he=!G&&"openKeyCursor"in le?le.openKeyCursor(g(ae),me):le.openCursor(g(ae),me);he.onerror=Jn(pe),he.onsuccess=Mt(function(_e){var Be,Qe,Ze,gn,Le=he.result;Le?(Le.___id=++tD,Le.done=!1,Be=Le.continue.bind(Le),Qe=(Qe=Le.continuePrimaryKey)&&Qe.bind(Le),Ze=Le.advance.bind(Le),gn=function(){throw new Error("Cursor not stopped")},Le.trans=j,Le.stop=Le.continue=Le.continuePrimaryKey=Le.advance=function(){throw new Error("Cursor not started")},Le.fail=Mt(pe),Le.next=function(){var Qt=this,Zt=1;return this.start(function(){return Zt--?Qt.continue():Qt.stop()}).then(function(){return Qt})},Le.start=function(Qt){function Zt(){if(he.result)try{Qt()}catch(nn){Le.fail(nn)}else Le.done=!0,Le.start=function(){throw new Error("Cursor behind last entry")},Le.stop()}var cc=new Promise(function(nn,Mi){nn=Mt(nn),he.onerror=Jn(Mi),Le.fail=Mi,Le.stop=function(Nd){Le.stop=Le.continue=Le.continuePrimaryKey=Le.advance=gn,nn(Nd)}});return he.onsuccess=Mt(function(nn){he.onsuccess=Zt,Zt()}),Le.continue=Be,Le.continuePrimaryKey=Qe,Le.advance=Ze,Zt(),cc},se(Le)):se(null)},pe)})},count:function(q){var j=q.query,G=q.trans,Z=j.index,Y=j.range;return new Promise(function(te,se){var pe=G.objectStore(U),ae=Z.isPrimaryKey?pe:pe.index(Z.name),pe=g(Y),ae=pe?ae.count(pe):ae.count();ae.onsuccess=Mt(function(le){return te(le.target.result)}),ae.onerror=Jn(se)})}}}var w,S,T,H=(S=k,T=lm((w=a).objectStoreNames),{schema:{name:w.name,tables:T.map(function(z){return S.objectStore(z)}).map(function(z){var P=z.keyPath,j=z.autoIncrement,U=o(P),q={},j={name:z.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:P==null,compound:U,keyPath:P,autoIncrement:j,unique:!0,extractKey:gd(P)},indexes:lm(z.indexNames).map(function(G){return z.index(G)}).map(function(te){var Z=te.name,Y=te.unique,se=te.multiEntry,te=te.keyPath,se={name:Z,compound:o(te),keyPath:te,unique:Y,multiEntry:se,extractKey:gd(te)};return q[gs(te)]=se}),getIndexByKeyPath:function(G){return q[gs(G)]}};return q[":id"]=j.primaryKey,P!=null&&(q[gs(P)]=j.primaryKey),j})},hasGetAll:0<T.length&&"getAll"in S.objectStore(T[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),k=H.schema,L=H.hasGetAll,H=k.tables.map(v),A={};return H.forEach(function(z){return A[z.name]=z}),{stack:"dbcore",transaction:a.transaction.bind(a),table:function(z){if(!A[z])throw new Error("Table '".concat(z,"' not found"));return A[z]},MIN_KEY:-1/0,MAX_KEY:ps(c),schema:k}}function rD(a,c,p,g){var v=p.IDBKeyRange;return p.indexedDB,{dbcore:(g=nD(c,v,g),a.dbcore.reduce(function(w,S){return S=S.create,t(t({},w),S(w))},g))}}function Za(a,g){var p=g.db,g=rD(a._middlewares,p,a._deps,g);a.core=g.dbcore,a.tables.forEach(function(v){var w=v.name;a.core.schema.tables.some(function(S){return S.name===w})&&(v.core=a.core.table(w),a[w]instanceof a.Table&&(a[w].core=v.core))})}function Ya(a,c,p,g){p.forEach(function(v){var w=g[v];c.forEach(function(S){var T=function k(L,H){return E(L,H)||(L=u(L))&&k(L,H)}(S,v);(!T||"value"in T&&T.value===void 0)&&(S===a.Transaction.prototype||S instanceof a.Transaction?y(S,v,{get:function(){return this.table(v)},set:function(k){_(this,v,{value:k,writable:!0,configurable:!0,enumerable:!0})}}):S[v]=new a.Table(v,w))})})}function md(a,c){c.forEach(function(p){for(var g in p)p[g]instanceof a.Table&&delete p[g]})}function iD(a,c){return a._cfg.version-c._cfg.version}function oD(a,c,p,g){var v=a._dbSchema;p.objectStoreNames.contains("$meta")&&!v.$meta&&(v.$meta=pd("$meta",fm("")[0],[]),a._storeNames.push("$meta"));var w=a._createTransaction("readwrite",a._storeNames,v);w.create(p),w._completion.catch(g);var S=w._reject.bind(w),T=Ce.transless||Ce;$r(function(){return Ce.trans=w,Ce.transless=T,c!==0?(Za(a,p),L=c,((k=w).storeNames.includes("$meta")?k.table("$meta").get("version").then(function(H){return H??L}):ve.resolve(L)).then(function(H){return z=H,P=w,U=p,q=[],H=(A=a)._versions,j=A._dbSchema=Ja(0,A.idbdb,U),(H=H.filter(function(G){return G._cfg.version>=z})).length!==0?(H.forEach(function(G){q.push(function(){var Z=j,Y=G._cfg.dbschema;ec(A,Z,U),ec(A,Y,U),j=A._dbSchema=Y;var te=vd(Z,Y);te.add.forEach(function(me){yd(U,me[0],me[1].primKey,me[1].indexes)}),te.change.forEach(function(me){if(me.recreate)throw new Se.Upgrade("Not yet support for changing primary key");var he=U.objectStore(me.name);me.add.forEach(function(_e){return Xa(he,_e)}),me.change.forEach(function(_e){he.deleteIndex(_e.name),Xa(he,_e)}),me.del.forEach(function(_e){return he.deleteIndex(_e)})});var se=G._cfg.contentUpgrade;if(se&&G._cfg.version>z){Za(A,U),P._memoizedTables={};var pe=$(Y);te.del.forEach(function(me){pe[me]=Z[me]}),md(A,[A.Transaction.prototype]),Ya(A,[A.Transaction.prototype],i(pe),pe),P.schema=pe;var ae,le=Gt(se);return le&&no(),te=ve.follow(function(){var me;(ae=se(P))&&le&&(me=qr.bind(null,null),ae.then(me,me))}),ae&&typeof ae.then=="function"?ve.resolve(ae):te.then(function(){return ae})}}),q.push(function(Z){var Y,te,se=G._cfg.dbschema;Y=se,te=Z,[].slice.call(te.db.objectStoreNames).forEach(function(pe){return Y[pe]==null&&te.db.deleteObjectStore(pe)}),md(A,[A.Transaction.prototype]),Ya(A,[A.Transaction.prototype],A._storeNames,A._dbSchema),P.schema=A._dbSchema}),q.push(function(Z){A.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(A.idbdb.version/10)===G._cfg.version?(A.idbdb.deleteObjectStore("$meta"),delete A._dbSchema.$meta,A._storeNames=A._storeNames.filter(function(Y){return Y!=="$meta"})):Z.objectStore("$meta").put(G._cfg.version,"version"))})}),function G(){return q.length?ve.resolve(q.shift()(P.idbtrans)).then(G):ve.resolve()}().then(function(){dm(j,U)})):ve.resolve();var A,z,P,U,q,j}).catch(S)):(i(v).forEach(function(H){yd(p,H,v[H].primKey,v[H].indexes)}),Za(a,p),void ve.follow(function(){return a.on.populate.fire(w)}).catch(S));var k,L})}function sD(a,c){dm(a._dbSchema,c),c.db.version%10!=0||c.objectStoreNames.contains("$meta")||c.db.createObjectStore("$meta").add(Math.ceil(c.db.version/10-1),"version");var p=Ja(0,a.idbdb,c);ec(a,a._dbSchema,c);for(var g=0,v=vd(p,a._dbSchema).change;g<v.length;g++){var w=function(S){if(S.change.length||S.recreate)return console.warn("Unable to patch indexes of table ".concat(S.name," because it has changes on the type of index or primary key.")),{value:void 0};var T=c.objectStore(S.name);S.add.forEach(function(k){f&&console.debug("Dexie upgrade patch: Creating missing index ".concat(S.name,".").concat(k.src)),Xa(T,k)})}(v[g]);if(typeof w=="object")return w.value}}function vd(a,c){var p,g={del:[],add:[],change:[]};for(p in a)c[p]||g.del.push(p);for(p in c){var v=a[p],w=c[p];if(v){var S={name:p,def:w,recreate:!1,del:[],add:[],change:[]};if(""+(v.primKey.keyPath||"")!=""+(w.primKey.keyPath||"")||v.primKey.auto!==w.primKey.auto)S.recreate=!0,g.change.push(S);else{var T=v.idxByName,k=w.idxByName,L=void 0;for(L in T)k[L]||S.del.push(L);for(L in k){var H=T[L],A=k[L];H?H.src!==A.src&&S.change.push(A):S.add.push(A)}(0<S.del.length||0<S.add.length||0<S.change.length)&&g.change.push(S)}}else g.add.push([p,w])}return g}function yd(a,c,p,g){var v=a.db.createObjectStore(c,p.keyPath?{keyPath:p.keyPath,autoIncrement:p.auto}:{autoIncrement:p.auto});return g.forEach(function(w){return Xa(v,w)}),v}function dm(a,c){i(a).forEach(function(p){c.db.objectStoreNames.contains(p)||(f&&console.debug("Dexie: Creating missing table",p),yd(c,p,a[p].primKey,a[p].indexes))})}function Xa(a,c){a.createIndex(c.name,c.keyPath,{unique:c.unique,multiEntry:c.multi})}function Ja(a,c,p){var g={};return V(c.objectStoreNames,0).forEach(function(v){for(var w=p.objectStore(v),S=hd(um(L=w.keyPath),L||"",!0,!1,!!w.autoIncrement,L&&typeof L!="string",!0),T=[],k=0;k<w.indexNames.length;++k){var H=w.index(w.indexNames[k]),L=H.keyPath,H=hd(H.name,L,!!H.unique,!!H.multiEntry,!1,L&&typeof L!="string",!1);T.push(H)}g[v]=pd(v,S,T)}),g}function ec(a,c,p){for(var g=p.db.objectStoreNames,v=0;v<g.length;++v){var w=g[v],S=p.objectStore(w);a._hasGetAll="getAll"in S;for(var T=0;T<S.indexNames.length;++T){var k=S.indexNames[T],L=S.index(k).keyPath,H=typeof L=="string"?L:"["+V(L).join("+")+"]";!c[w]||(L=c[w].idxByName[H])&&(L.name=k,delete c[w].idxByName[H],c[w].idxByName[k]=L)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&r.WorkerGlobalScope&&r instanceof r.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(a._hasGetAll=!1)}function fm(a){return a.split(",").map(function(c,p){var g=(c=c.trim()).replace(/([&*]|\+\+)/g,""),v=/^\[/.test(g)?g.match(/^\[(.*)\]$/)[1].split("+"):g;return hd(g,v||null,/\&/.test(c),/\*/.test(c),/\+\+/.test(c),o(v),p===0)})}var aD=(tc.prototype._parseStoresSpec=function(a,c){i(a).forEach(function(p){if(a[p]!==null){var g=fm(a[p]),v=g.shift();if(v.unique=!0,v.multi)throw new Se.Schema("Primary key cannot be multi-valued");g.forEach(function(w){if(w.auto)throw new Se.Schema("Only primary key can be marked as autoIncrement (++)");if(!w.keyPath)throw new Se.Schema("Index must have a name and cannot be an empty string")}),c[p]=pd(p,v,g)}})},tc.prototype.stores=function(p){var c=this.db;this._cfg.storesSource=this._cfg.storesSource?s(this._cfg.storesSource,p):p;var p=c._versions,g={},v={};return p.forEach(function(w){s(g,w._cfg.storesSource),v=w._cfg.dbschema={},w._parseStoresSpec(g,v)}),c._dbSchema=v,md(c,[c._allTables,c,c.Transaction.prototype]),Ya(c,[c._allTables,c,c.Transaction.prototype,this._cfg.tables],i(v),v),c._storeNames=i(v),this},tc.prototype.upgrade=function(a){return this._cfg.contentUpgrade=l(this._cfg.contentUpgrade||at,a),this},tc);function tc(){}function bd(a,c){var p=a._dbNamesDB;return p||(p=a._dbNamesDB=new Sr(za,{addons:[],indexedDB:a,IDBKeyRange:c})).version(1).stores({dbnames:"name"}),p.table("dbnames")}function _d(a){return a&&typeof a.databases=="function"}function wd(a){return $r(function(){return Ce.letThrough=!0,a()})}function Cd(a){return!("from"in a)}var Kt=function(a,c){if(!this){var p=new Kt;return a&&"d"in a&&s(p,a),p}s(this,arguments.length?{d:1,from:a,to:1<arguments.length?c:a}:{d:0})};function ms(a,c,p){var g=nt(c,p);if(!isNaN(g)){if(0<g)throw RangeError();if(Cd(a))return s(a,{from:c,to:p,d:1});var v=a.l,g=a.r;if(nt(p,a.from)<0)return v?ms(v,c,p):a.l={from:c,to:p,d:1,l:null,r:null},pm(a);if(0<nt(c,a.to))return g?ms(g,c,p):a.r={from:c,to:p,d:1,l:null,r:null},pm(a);nt(c,a.from)<0&&(a.from=c,a.l=null,a.d=g?g.d+1:1),0<nt(p,a.to)&&(a.to=p,a.r=null,a.d=a.l?a.l.d+1:1),p=!a.r,v&&!a.l&&vs(a,v),g&&p&&vs(a,g)}}function vs(a,c){Cd(c)||function p(g,k){var w=k.from,S=k.to,T=k.l,k=k.r;ms(g,w,S),T&&p(g,T),k&&p(g,k)}(a,c)}function hm(a,c){var p=nc(c),g=p.next();if(g.done)return!1;for(var v=g.value,w=nc(a),S=w.next(v.from),T=S.value;!g.done&&!S.done;){if(nt(T.from,v.to)<=0&&0<=nt(T.to,v.from))return!0;nt(v.from,T.from)<0?v=(g=p.next(T.from)).value:T=(S=w.next(v.from)).value}return!1}function nc(a){var c=Cd(a)?null:{s:0,n:a};return{next:function(p){for(var g=0<arguments.length;c;)switch(c.s){case 0:if(c.s=1,g)for(;c.n.l&&nt(p,c.n.from)<0;)c={up:c,n:c.n.l,s:1};else for(;c.n.l;)c={up:c,n:c.n.l,s:1};case 1:if(c.s=2,!g||nt(p,c.n.to)<=0)return{value:c.n,done:!1};case 2:if(c.n.r){c.s=3,c={up:c,n:c.n.r,s:0};continue}case 3:c=c.up}return{done:!0}}}}function pm(a){var c,p,g=(((c=a.r)===null||c===void 0?void 0:c.d)||0)-(((p=a.l)===null||p===void 0?void 0:p.d)||0),v=1<g?"r":g<-1?"l":"";v&&(c=v=="r"?"l":"r",p=t({},a),g=a[v],a.from=g.from,a.to=g.to,a[v]=g[v],p[v]=g[c],(a[c]=p).d=gm(p)),a.d=gm(a)}function gm(p){var c=p.r,p=p.l;return(c?p?Math.max(c.d,p.d):c.d:p?p.d:0)+1}function rc(a,c){return i(c).forEach(function(p){a[p]?vs(a[p],c[p]):a[p]=function g(v){var w,S,T={};for(w in v)h(v,w)&&(S=v[w],T[w]=!S||typeof S!="object"||B.has(S.constructor)?S:g(S));return T}(c[p])}),a}function Dd(a,c){return a.all||c.all||Object.keys(a).some(function(p){return c[p]&&hm(c[p],a[p])})}m(Kt.prototype,((Rn={add:function(a){return vs(this,a),this},addKey:function(a){return ms(this,a,a),this},addKeys:function(a){var c=this;return a.forEach(function(p){return ms(c,p,p)}),this},hasKey:function(a){var c=nc(this).next(a).value;return c&&nt(c.from,a)<=0&&0<=nt(c.to,a)}})[Ie]=function(){return nc(this)},Rn));var Ei={},Ed={},Sd=!1;function ic(a){rc(Ed,a),Sd||(Sd=!0,setTimeout(function(){Sd=!1,Md(Ed,!(Ed={}))},0))}function Md(a,c){c===void 0&&(c=!1);var p=new Set;if(a.all)for(var g=0,v=Object.values(Ei);g<v.length;g++)mm(S=v[g],a,p,c);else for(var w in a){var S,T=/^idb\:\/\/(.*)\/(.*)\//.exec(w);T&&(w=T[1],T=T[2],(S=Ei["idb://".concat(w,"/").concat(T)])&&mm(S,a,p,c))}p.forEach(function(k){return k()})}function mm(a,c,p,g){for(var v=[],w=0,S=Object.entries(a.queries.query);w<S.length;w++){for(var T=S[w],k=T[0],L=[],H=0,A=T[1];H<A.length;H++){var z=A[H];Dd(c,z.obsSet)?z.subscribers.forEach(function(j){return p.add(j)}):g&&L.push(z)}g&&v.push([k,L])}if(g)for(var P=0,U=v;P<U.length;P++){var q=U[P],k=q[0],L=q[1];a.queries.query[k]=L}}function cD(a){var c=a._state,p=a._deps.indexedDB;if(c.isBeingOpened||a.idbdb)return c.dbReadyPromise.then(function(){return c.dbOpenError?At(c.dbOpenError):a});c.isBeingOpened=!0,c.dbOpenError=null,c.openComplete=!1;var g=c.openCanceller,v=Math.round(10*a.verno),w=!1;function S(){if(c.openCanceller!==g)throw new Se.DatabaseClosed("db.open() was cancelled")}function T(){return new ve(function(z,P){if(S(),!p)throw new Se.MissingAPI;var U=a.name,q=c.autoSchema||!v?p.open(U):p.open(U,v);if(!q)throw new Se.MissingAPI;q.onerror=Jn(P),q.onblocked=Mt(a._fireOnBlocked),q.onupgradeneeded=Mt(function(j){var G;H=q.transaction,c.autoSchema&&!a._options.allowEmptyDB?(q.onerror=fs,H.abort(),q.result.close(),(G=p.deleteDatabase(U)).onsuccess=G.onerror=Mt(function(){P(new Se.NoSuchDatabase("Database ".concat(U," doesnt exist")))})):(H.onerror=Jn(P),j=j.oldVersion>Math.pow(2,62)?0:j.oldVersion,A=j<1,a.idbdb=q.result,w&&sD(a,H),oD(a,j/10,H,P))},P),q.onsuccess=Mt(function(){H=null;var j,G,Z,Y,te,se=a.idbdb=q.result,pe=V(se.objectStoreNames);if(0<pe.length)try{var ae=se.transaction((Y=pe).length===1?Y[0]:Y,"readonly");if(c.autoSchema)G=se,Z=ae,(j=a).verno=G.version/10,Z=j._dbSchema=Ja(0,G,Z),j._storeNames=V(G.objectStoreNames,0),Ya(j,[j._allTables],i(Z),Z);else if(ec(a,a._dbSchema,ae),((te=vd(Ja(0,(te=a).idbdb,ae),te._dbSchema)).add.length||te.change.some(function(le){return le.add.length||le.change.length}))&&!w)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),se.close(),v=se.version+1,w=!0,z(T());Za(a,ae)}catch{}ro.push(a),se.onversionchange=Mt(function(le){c.vcFired=!0,a.on("versionchange").fire(le)}),se.onclose=Mt(function(le){a.on("close").fire(le)}),A&&(te=a._deps,ae=U,se=te.indexedDB,te=te.IDBKeyRange,_d(se)||ae===za||bd(se,te).put({name:ae}).catch(at)),z()},P)}).catch(function(z){switch(z?.name){case"UnknownError":if(0<c.PR1398_maxLoop)return c.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),T();break;case"VersionError":if(0<v)return v=0,T()}return ve.reject(z)})}var k,L=c.dbReadyResolve,H=null,A=!1;return ve.race([g,(typeof navigator>"u"?ve.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(z){function P(){return indexedDB.databases().finally(z)}k=setInterval(P,100),P()}).finally(function(){return clearInterval(k)}):Promise.resolve()).then(T)]).then(function(){return S(),c.onReadyBeingFired=[],ve.resolve(wd(function(){return a.on.ready.fire(a.vip)})).then(function z(){if(0<c.onReadyBeingFired.length){var P=c.onReadyBeingFired.reduce(l,at);return c.onReadyBeingFired=[],ve.resolve(wd(function(){return P(a.vip)})).then(z)}})}).finally(function(){c.openCanceller===g&&(c.onReadyBeingFired=null,c.isBeingOpened=!1)}).catch(function(z){c.dbOpenError=z;try{H&&H.abort()}catch{}return g===c.openCanceller&&a._close(),At(z)}).finally(function(){c.openComplete=!0,L()}).then(function(){var z;return A&&(z={},a.tables.forEach(function(P){P.schema.indexes.forEach(function(U){U.name&&(z["idb://".concat(a.name,"/").concat(P.name,"/").concat(U.name)]=new Kt(-1/0,[[[]]]))}),z["idb://".concat(a.name,"/").concat(P.name,"/")]=z["idb://".concat(a.name,"/").concat(P.name,"/:dels")]=new Kt(-1/0,[[[]]])}),Gr(hs).fire(z),Md(z,!0)),a})}function Id(a){function c(w){return a.next(w)}var p=v(c),g=v(function(w){return a.throw(w)});function v(w){return function(k){var T=w(k),k=T.value;return T.done?k:k&&typeof k.then=="function"?k.then(p,g):o(k)?Promise.all(k).then(p,g):p(k)}}return v(c)()}function oc(a,c,p){for(var g=o(a)?a.slice():[a],v=0;v<p;++v)g.push(c);return g}var uD={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(a){return t(t({},a),{table:function(c){var p=a.table(c),g=p.schema,v={},w=[];function S(A,z,P){var U=gs(A),q=v[U]=v[U]||[],j=A==null?0:typeof A=="string"?1:A.length,G=0<z,G=t(t({},P),{name:G?"".concat(U,"(virtual-from:").concat(P.name,")"):P.name,lowLevelIndex:P,isVirtual:G,keyTail:z,keyLength:j,extractKey:gd(A),unique:!G&&P.unique});return q.push(G),G.isPrimaryKey||w.push(G),1<j&&S(j===2?A[0]:A.slice(0,j-1),z+1,P),q.sort(function(Z,Y){return Z.keyTail-Y.keyTail}),G}c=S(g.primaryKey.keyPath,0,g.primaryKey),v[":id"]=[c];for(var T=0,k=g.indexes;T<k.length;T++){var L=k[T];S(L.keyPath,0,L)}function H(A){var z,P=A.query.index;return P.isVirtual?t(t({},A),{query:{index:P.lowLevelIndex,range:(z=A.query.range,P=P.keyTail,{type:z.type===1?2:z.type,lower:oc(z.lower,z.lowerOpen?a.MAX_KEY:a.MIN_KEY,P),lowerOpen:!0,upper:oc(z.upper,z.upperOpen?a.MIN_KEY:a.MAX_KEY,P),upperOpen:!0})}}):A}return t(t({},p),{schema:t(t({},g),{primaryKey:c,indexes:w,getIndexByKeyPath:function(A){return(A=v[gs(A)])&&A[0]}}),count:function(A){return p.count(H(A))},query:function(A){return p.query(H(A))},openCursor:function(A){var z=A.query.index,P=z.keyTail,U=z.isVirtual,q=z.keyLength;return U?p.openCursor(H(A)).then(function(G){return G&&j(G)}):p.openCursor(A);function j(G){return Object.create(G,{continue:{value:function(Z){Z!=null?G.continue(oc(Z,A.reverse?a.MAX_KEY:a.MIN_KEY,P)):A.unique?G.continue(G.key.slice(0,q).concat(A.reverse?a.MIN_KEY:a.MAX_KEY,P)):G.continue()}},continuePrimaryKey:{value:function(Z,Y){G.continuePrimaryKey(oc(Z,a.MAX_KEY,P),Y)}},primaryKey:{get:function(){return G.primaryKey}},key:{get:function(){var Z=G.key;return q===1?Z[0]:Z.slice(0,q)}},value:{get:function(){return G.value}}})}}})}})}};function Td(a,c,p,g){return p=p||{},g=g||"",i(a).forEach(function(v){var w,S,T;h(c,v)?(w=a[v],S=c[v],typeof w=="object"&&typeof S=="object"&&w&&S?(T=xe(w))!==xe(S)?p[g+v]=c[v]:T==="Object"?Td(w,S,p,g+v+"."):w!==S&&(p[g+v]=c[v]):w!==S&&(p[g+v]=c[v])):p[g+v]=void 0}),i(c).forEach(function(v){h(a,v)||(p[g+v]=c[v])}),p}function xd(a,c){return c.type==="delete"?c.keys:c.keys||c.values.map(a.extractKey)}var lD={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(a){return t(t({},a),{table:function(c){var p=a.table(c),g=p.schema.primaryKey;return t(t({},p),{mutate:function(v){var w=Ce.trans,S=w.table(c).hook,T=S.deleting,k=S.creating,L=S.updating;switch(v.type){case"add":if(k.fire===at)break;return w._promise("readwrite",function(){return H(v)},!0);case"put":if(k.fire===at&&L.fire===at)break;return w._promise("readwrite",function(){return H(v)},!0);case"delete":if(T.fire===at)break;return w._promise("readwrite",function(){return H(v)},!0);case"deleteRange":if(T.fire===at)break;return w._promise("readwrite",function(){return function A(z,P,U){return p.query({trans:z,values:!1,query:{index:g,range:P},limit:U}).then(function(q){var j=q.result;return H({type:"delete",keys:j,trans:z}).then(function(G){return 0<G.numFailures?Promise.reject(G.failures[0]):j.length<U?{failures:[],numFailures:0,lastResult:void 0}:A(z,t(t({},P),{lower:j[j.length-1],lowerOpen:!0}),U)})})}(v.trans,v.range,1e4)},!0)}return p.mutate(v);function H(A){var z,P,U,q=Ce.trans,j=A.keys||xd(g,A);if(!j)throw new Error("Keys missing");return(A=A.type==="add"||A.type==="put"?t(t({},A),{keys:j}):t({},A)).type!=="delete"&&(A.values=n([],A.values,!0)),A.keys&&(A.keys=n([],A.keys,!0)),z=p,U=j,((P=A).type==="add"?Promise.resolve([]):z.getMany({trans:P.trans,keys:U,cache:"immutable"})).then(function(G){var Z=j.map(function(Y,te){var se,pe,ae,le=G[te],me={onerror:null,onsuccess:null};return A.type==="delete"?T.fire.call(me,Y,le,q):A.type==="add"||le===void 0?(se=k.fire.call(me,Y,A.values[te],q),Y==null&&se!=null&&(A.keys[te]=Y=se,g.outbound||O(A.values[te],g.keyPath,Y))):(se=Td(le,A.values[te]),(pe=L.fire.call(me,se,Y,le,q))&&(ae=A.values[te],Object.keys(pe).forEach(function(he){h(ae,he)?ae[he]=pe[he]:O(ae,he,pe[he])}))),me});return p.mutate(A).then(function(Y){for(var te=Y.failures,se=Y.results,pe=Y.numFailures,Y=Y.lastResult,ae=0;ae<j.length;++ae){var le=(se||j)[ae],me=Z[ae];le==null?me.onerror&&me.onerror(te[ae]):me.onsuccess&&me.onsuccess(A.type==="put"&&G[ae]?A.values[ae]:le)}return{failures:te,results:se,numFailures:pe,lastResult:Y}}).catch(function(Y){return Z.forEach(function(te){return te.onerror&&te.onerror(Y)}),Promise.reject(Y)})})}}})}})}};function vm(a,c,p){try{if(!c||c.keys.length<a.length)return null;for(var g=[],v=0,w=0;v<c.keys.length&&w<a.length;++v)nt(c.keys[v],a[w])===0&&(g.push(p?oe(c.values[v]):c.values[v]),++w);return g.length===a.length?g:null}catch{return null}}var dD={stack:"dbcore",level:-1,create:function(a){return{table:function(c){var p=a.table(c);return t(t({},p),{getMany:function(g){if(!g.cache)return p.getMany(g);var v=vm(g.keys,g.trans._cache,g.cache==="clone");return v?ve.resolve(v):p.getMany(g).then(function(w){return g.trans._cache={keys:g.keys,values:g.cache==="clone"?oe(w):w},w})},mutate:function(g){return g.type!=="add"&&(g.trans._cache=null),p.mutate(g)}})}}}};function ym(a,c){return a.trans.mode==="readonly"&&!!a.subscr&&!a.trans.explicit&&a.trans.db._options.cache!=="disabled"&&!c.schema.primaryKey.outbound}function bm(a,c){switch(a){case"query":return c.values&&!c.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var fD={stack:"dbcore",level:0,name:"Observability",create:function(a){var c=a.schema.name,p=new Kt(a.MIN_KEY,a.MAX_KEY);return t(t({},a),{transaction:function(g,v,w){if(Ce.subscr&&v!=="readonly")throw new Se.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Ce.querier));return a.transaction(g,v,w)},table:function(g){var v=a.table(g),w=v.schema,S=w.primaryKey,A=w.indexes,T=S.extractKey,k=S.outbound,L=S.autoIncrement&&A.filter(function(P){return P.compound&&P.keyPath.includes(S.keyPath)}),H=t(t({},v),{mutate:function(P){function U(he){return he="idb://".concat(c,"/").concat(g,"/").concat(he),Y[he]||(Y[he]=new Kt)}var q,j,G,Z=P.trans,Y=P.mutatedParts||(P.mutatedParts={}),te=U(""),se=U(":dels"),pe=P.type,me=P.type==="deleteRange"?[P.range]:P.type==="delete"?[P.keys]:P.values.length<50?[xd(S,P).filter(function(he){return he}),P.values]:[],ae=me[0],le=me[1],me=P.trans._cache;return o(ae)?(te.addKeys(ae),(me=pe==="delete"||ae.length===le.length?vm(ae,me):null)||se.addKeys(ae),(me||le)&&(q=U,j=me,G=le,w.indexes.forEach(function(he){var _e=q(he.name||"");function Be(Ze){return Ze!=null?he.extractKey(Ze):null}function Qe(Ze){return he.multiEntry&&o(Ze)?Ze.forEach(function(gn){return _e.addKey(gn)}):_e.addKey(Ze)}(j||G).forEach(function(Ze,Qt){var Le=j&&Be(j[Qt]),Qt=G&&Be(G[Qt]);nt(Le,Qt)!==0&&(Le!=null&&Qe(Le),Qt!=null&&Qe(Qt))})}))):ae?(le={from:(le=ae.lower)!==null&&le!==void 0?le:a.MIN_KEY,to:(le=ae.upper)!==null&&le!==void 0?le:a.MAX_KEY},se.add(le),te.add(le)):(te.add(p),se.add(p),w.indexes.forEach(function(he){return U(he.name).add(p)})),v.mutate(P).then(function(he){return!ae||P.type!=="add"&&P.type!=="put"||(te.addKeys(he.results),L&&L.forEach(function(_e){for(var Be=P.values.map(function(Le){return _e.extractKey(Le)}),Qe=_e.keyPath.findIndex(function(Le){return Le===S.keyPath}),Ze=0,gn=he.results.length;Ze<gn;++Ze)Be[Ze][Qe]=he.results[Ze];U(_e.name).addKeys(Be)})),Z.mutatedParts=rc(Z.mutatedParts||{},Y),he})}}),A=function(U){var q=U.query,U=q.index,q=q.range;return[U,new Kt((U=q.lower)!==null&&U!==void 0?U:a.MIN_KEY,(q=q.upper)!==null&&q!==void 0?q:a.MAX_KEY)]},z={get:function(P){return[S,new Kt(P.key)]},getMany:function(P){return[S,new Kt().addKeys(P.keys)]},count:A,query:A,openCursor:A};return i(z).forEach(function(P){H[P]=function(U){var q=Ce.subscr,j=!!q,G=ym(Ce,v)&&bm(P,U)?U.obsSet={}:q;if(j){var Z=function(le){return le="idb://".concat(c,"/").concat(g,"/").concat(le),G[le]||(G[le]=new Kt)},Y=Z(""),te=Z(":dels"),q=z[P](U),j=q[0],q=q[1];if((P==="query"&&j.isPrimaryKey&&!U.values?te:Z(j.name||"")).add(q),!j.isPrimaryKey){if(P!=="count"){var se=P==="query"&&k&&U.values&&v.query(t(t({},U),{values:!1}));return v[P].apply(this,arguments).then(function(le){if(P==="query"){if(k&&U.values)return se.then(function(Be){return Be=Be.result,Y.addKeys(Be),le});var me=U.values?le.result.map(T):le.result;(U.values?Y:te).addKeys(me)}else if(P==="openCursor"){var he=le,_e=U.values;return he&&Object.create(he,{key:{get:function(){return te.addKey(he.primaryKey),he.key}},primaryKey:{get:function(){var Be=he.primaryKey;return te.addKey(Be),Be}},value:{get:function(){return _e&&Y.addKey(he.primaryKey),he.value}}})}return le})}te.add(p)}}return v[P].apply(this,arguments)}}),H}})}};function _m(a,c,p){if(p.numFailures===0)return c;if(c.type==="deleteRange")return null;var g=c.keys?c.keys.length:"values"in c&&c.values?c.values.length:1;return p.numFailures===g?null:(c=t({},c),o(c.keys)&&(c.keys=c.keys.filter(function(v,w){return!(w in p.failures)})),"values"in c&&o(c.values)&&(c.values=c.values.filter(function(v,w){return!(w in p.failures)})),c)}function Rd(a,c){return p=a,((g=c).lower===void 0||(g.lowerOpen?0<nt(p,g.lower):0<=nt(p,g.lower)))&&(a=a,(c=c).upper===void 0||(c.upperOpen?nt(a,c.upper)<0:nt(a,c.upper)<=0));var p,g}function wm(a,c,z,g,v,w){if(!z||z.length===0)return a;var S=c.query.index,T=S.multiEntry,k=c.query.range,L=g.schema.primaryKey.extractKey,H=S.extractKey,A=(S.lowLevelIndex||S).extractKey,z=z.reduce(function(P,U){var q=P,j=[];if(U.type==="add"||U.type==="put")for(var G=new Kt,Z=U.values.length-1;0<=Z;--Z){var Y,te=U.values[Z],se=L(te);G.hasKey(se)||(Y=H(te),(T&&o(Y)?Y.some(function(he){return Rd(he,k)}):Rd(Y,k))&&(G.addKey(se),j.push(te)))}switch(U.type){case"add":var pe=new Kt().addKeys(c.values?P.map(function(_e){return L(_e)}):P),q=P.concat(c.values?j.filter(function(_e){return _e=L(_e),!pe.hasKey(_e)&&(pe.addKey(_e),!0)}):j.map(function(_e){return L(_e)}).filter(function(_e){return!pe.hasKey(_e)&&(pe.addKey(_e),!0)}));break;case"put":var ae=new Kt().addKeys(U.values.map(function(_e){return L(_e)}));q=P.filter(function(_e){return!ae.hasKey(c.values?L(_e):_e)}).concat(c.values?j:j.map(function(_e){return L(_e)}));break;case"delete":var le=new Kt().addKeys(U.keys);q=P.filter(function(_e){return!le.hasKey(c.values?L(_e):_e)});break;case"deleteRange":var me=U.range;q=P.filter(function(_e){return!Rd(L(_e),me)})}return q},a);return z===a?a:(z.sort(function(P,U){return nt(A(P),A(U))||nt(L(P),L(U))}),c.limit&&c.limit<1/0&&(z.length>c.limit?z.length=c.limit:a.length===c.limit&&z.length<c.limit&&(v.dirty=!0)),w?Object.freeze(z):z)}function Cm(a,c){return nt(a.lower,c.lower)===0&&nt(a.upper,c.upper)===0&&!!a.lowerOpen==!!c.lowerOpen&&!!a.upperOpen==!!c.upperOpen}function hD(a,c){return function(p,g,v,w){if(p===void 0)return g!==void 0?-1:0;if(g===void 0)return 1;if((g=nt(p,g))===0){if(v&&w)return 0;if(v)return 1;if(w)return-1}return g}(a.lower,c.lower,a.lowerOpen,c.lowerOpen)<=0&&0<=function(p,g,v,w){if(p===void 0)return g!==void 0?1:0;if(g===void 0)return-1;if((g=nt(p,g))===0){if(v&&w)return 0;if(v)return-1;if(w)return 1}return g}(a.upper,c.upper,a.upperOpen,c.upperOpen)}function pD(a,c,p,g){a.subscribers.add(p),g.addEventListener("abort",function(){var v,w;a.subscribers.delete(p),a.subscribers.size===0&&(v=a,w=c,setTimeout(function(){v.subscribers.size===0&&pt(w,v)},3e3))})}var gD={stack:"dbcore",level:0,name:"Cache",create:function(a){var c=a.schema.name;return t(t({},a),{transaction:function(p,g,v){var w,S,T=a.transaction(p,g,v);return g==="readwrite"&&(S=(w=new AbortController).signal,v=function(k){return function(){if(w.abort(),g==="readwrite"){for(var L=new Set,H=0,A=p;H<A.length;H++){var z=A[H],P=Ei["idb://".concat(c,"/").concat(z)];if(P){var U=a.table(z),q=P.optimisticOps.filter(function(_e){return _e.trans===T});if(T._explicit&&k&&T.mutatedParts)for(var j=0,G=Object.values(P.queries.query);j<G.length;j++)for(var Z=0,Y=(pe=G[j]).slice();Z<Y.length;Z++)Dd((ae=Y[Z]).obsSet,T.mutatedParts)&&(pt(pe,ae),ae.subscribers.forEach(function(_e){return L.add(_e)}));else if(0<q.length){P.optimisticOps=P.optimisticOps.filter(function(_e){return _e.trans!==T});for(var te=0,se=Object.values(P.queries.query);te<se.length;te++)for(var pe,ae,le,me=0,he=(pe=se[te]).slice();me<he.length;me++)(ae=he[me]).res!=null&&T.mutatedParts&&(k&&!ae.dirty?(le=Object.isFrozen(ae.res),le=wm(ae.res,ae.req,q,U,ae,le),ae.dirty?(pt(pe,ae),ae.subscribers.forEach(function(_e){return L.add(_e)})):le!==ae.res&&(ae.res=le,ae.promise=ve.resolve({result:le}))):(ae.dirty&&pt(pe,ae),ae.subscribers.forEach(function(_e){return L.add(_e)})))}}}L.forEach(function(_e){return _e()})}}},T.addEventListener("abort",v(!1),{signal:S}),T.addEventListener("error",v(!1),{signal:S}),T.addEventListener("complete",v(!0),{signal:S})),T},table:function(p){var g=a.table(p),v=g.schema.primaryKey;return t(t({},g),{mutate:function(w){var S=Ce.trans;if(v.outbound||S.db._options.cache==="disabled"||S.explicit||S.idbtrans.mode!=="readwrite")return g.mutate(w);var T=Ei["idb://".concat(c,"/").concat(p)];return T?(S=g.mutate(w),w.type!=="add"&&w.type!=="put"||!(50<=w.values.length||xd(v,w).some(function(k){return k==null}))?(T.optimisticOps.push(w),w.mutatedParts&&ic(w.mutatedParts),S.then(function(k){0<k.numFailures&&(pt(T.optimisticOps,w),(k=_m(0,w,k))&&T.optimisticOps.push(k),w.mutatedParts&&ic(w.mutatedParts))}),S.catch(function(){pt(T.optimisticOps,w),w.mutatedParts&&ic(w.mutatedParts)})):S.then(function(k){var L=_m(0,t(t({},w),{values:w.values.map(function(H,A){var z;return k.failures[A]?H:(H=(z=v.keyPath)!==null&&z!==void 0&&z.includes(".")?oe(H):t({},H),O(H,v.keyPath,k.results[A]),H)})}),k);T.optimisticOps.push(L),queueMicrotask(function(){return w.mutatedParts&&ic(w.mutatedParts)})}),S):g.mutate(w)},query:function(w){if(!ym(Ce,g)||!bm("query",w))return g.query(w);var S=((L=Ce.trans)===null||L===void 0?void 0:L.db._options.cache)==="immutable",A=Ce,T=A.requery,k=A.signal,L=function(U,q,j,G){var Z=Ei["idb://".concat(U,"/").concat(q)];if(!Z)return[];if(!(q=Z.queries[j]))return[null,!1,Z,null];var Y=q[(G.query?G.query.index.name:null)||""];if(!Y)return[null,!1,Z,null];switch(j){case"query":var te=Y.find(function(se){return se.req.limit===G.limit&&se.req.values===G.values&&Cm(se.req.query.range,G.query.range)});return te?[te,!0,Z,Y]:[Y.find(function(se){return("limit"in se.req?se.req.limit:1/0)>=G.limit&&(!G.values||se.req.values)&&hD(se.req.query.range,G.query.range)}),!1,Z,Y];case"count":return te=Y.find(function(se){return Cm(se.req.query.range,G.query.range)}),[te,!!te,Z,Y]}}(c,p,"query",w),H=L[0],A=L[1],z=L[2],P=L[3];return H&&A?H.obsSet=w.obsSet:(A=g.query(w).then(function(U){var q=U.result;if(H&&(H.res=q),S){for(var j=0,G=q.length;j<G;++j)Object.freeze(q[j]);Object.freeze(q)}else U.result=oe(q);return U}).catch(function(U){return P&&H&&pt(P,H),Promise.reject(U)}),H={obsSet:w.obsSet,promise:A,subscribers:new Set,type:"query",req:w,dirty:!1},P?P.push(H):(P=[H],(z=z||(Ei["idb://".concat(c,"/").concat(p)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[w.query.index.name||""]=P)),pD(H,P,T,k),H.promise.then(function(U){return{result:wm(U.result,w,z?.optimisticOps,g,H,S)}})}})}})}};function sc(a,c){return new Proxy(a,{get:function(p,g,v){return g==="db"?c:Reflect.get(p,g,v)}})}var Sr=(Nt.prototype.version=function(a){if(isNaN(a)||a<.1)throw new Se.Type("Given version is not a positive number");if(a=Math.round(10*a)/10,this.idbdb||this._state.isBeingOpened)throw new Se.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,a);var c=this._versions,p=c.filter(function(g){return g._cfg.version===a})[0];return p||(p=new this.Version(a),c.push(p),c.sort(iD),p.stores({}),this._state.autoSchema=!1,p)},Nt.prototype._whenReady=function(a){var c=this;return this.idbdb&&(this._state.openComplete||Ce.letThrough||this._vip)?a():new ve(function(p,g){if(c._state.openComplete)return g(new Se.DatabaseClosed(c._state.dbOpenError));if(!c._state.isBeingOpened){if(!c._state.autoOpen)return void g(new Se.DatabaseClosed);c.open().catch(at)}c._state.dbReadyPromise.then(p,g)}).then(a)},Nt.prototype.use=function(a){var c=a.stack,p=a.create,g=a.level,v=a.name;return v&&this.unuse({stack:c,name:v}),a=this._middlewares[c]||(this._middlewares[c]=[]),a.push({stack:c,create:p,level:g??10,name:v}),a.sort(function(w,S){return w.level-S.level}),this},Nt.prototype.unuse=function(a){var c=a.stack,p=a.name,g=a.create;return c&&this._middlewares[c]&&(this._middlewares[c]=this._middlewares[c].filter(function(v){return g?v.create!==g:!!p&&v.name!==p})),this},Nt.prototype.open=function(){var a=this;return wi(tn,function(){return cD(a)})},Nt.prototype._close=function(){var a=this._state,c=ro.indexOf(this);if(0<=c&&ro.splice(c,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}a.isBeingOpened||(a.dbReadyPromise=new ve(function(p){a.dbReadyResolve=p}),a.openCanceller=new ve(function(p,g){a.cancelOpen=g}))},Nt.prototype.close=function(p){var c=(p===void 0?{disableAutoOpen:!0}:p).disableAutoOpen,p=this._state;c?(p.isBeingOpened&&p.cancelOpen(new Se.DatabaseClosed),this._close(),p.autoOpen=!1,p.dbOpenError=new Se.DatabaseClosed):(this._close(),p.autoOpen=this._options.autoOpen||p.isBeingOpened,p.openComplete=!1,p.dbOpenError=null)},Nt.prototype.delete=function(a){var c=this;a===void 0&&(a={disableAutoOpen:!0});var p=0<arguments.length&&typeof arguments[0]!="object",g=this._state;return new ve(function(v,w){function S(){c.close(a);var T=c._deps.indexedDB.deleteDatabase(c.name);T.onsuccess=Mt(function(){var k,L,H;k=c._deps,L=c.name,H=k.indexedDB,k=k.IDBKeyRange,_d(H)||L===za||bd(H,k).delete(L).catch(at),v()}),T.onerror=Jn(w),T.onblocked=c._fireOnBlocked}if(p)throw new Se.InvalidArgument("Invalid closeOptions argument to db.delete()");g.isBeingOpened?g.dbReadyPromise.then(S):S()})},Nt.prototype.backendDB=function(){return this.idbdb},Nt.prototype.isOpen=function(){return this.idbdb!==null},Nt.prototype.hasBeenClosed=function(){var a=this._state.dbOpenError;return a&&a.name==="DatabaseClosed"},Nt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Nt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Nt.prototype,"tables",{get:function(){var a=this;return i(this._allTables).map(function(c){return a._allTables[c]})},enumerable:!1,configurable:!0}),Nt.prototype.transaction=function(){var a=function(c,p,g){var v=arguments.length;if(v<2)throw new Se.InvalidArgument("Too few arguments");for(var w=new Array(v-1);--v;)w[v-1]=arguments[v];return g=w.pop(),[c,N(w),g]}.apply(this,arguments);return this._transaction.apply(this,a)},Nt.prototype._transaction=function(a,c,p){var g=this,v=Ce.trans;v&&v.db===this&&a.indexOf("!")===-1||(v=null);var w,S,T=a.indexOf("?")!==-1;a=a.replace("!","").replace("?","");try{if(S=c.map(function(L){if(L=L instanceof g.Table?L.name:L,typeof L!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return L}),a=="r"||a===ad)w=ad;else{if(a!="rw"&&a!=cd)throw new Se.InvalidArgument("Invalid transaction mode: "+a);w=cd}if(v){if(v.mode===ad&&w===cd){if(!T)throw new Se.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");v=null}v&&S.forEach(function(L){if(v&&v.storeNames.indexOf(L)===-1){if(!T)throw new Se.SubTransaction("Table "+L+" not included in parent transaction.");v=null}}),T&&v&&!v.active&&(v=null)}}catch(L){return v?v._promise(null,function(H,A){A(L)}):At(L)}var k=function L(H,A,z,P,U){return ve.resolve().then(function(){var q=Ce.transless||Ce,j=H._createTransaction(A,z,H._dbSchema,P);if(j.explicit=!0,q={trans:j,transless:q},P)j.idbtrans=P.idbtrans;else try{j.create(),j.idbtrans._explicit=!0,H._state.PR1398_maxLoop=3}catch(Y){return Y.name===en.InvalidState&&H.isOpen()&&0<--H._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),H.close({disableAutoOpen:!1}),H.open().then(function(){return L(H,A,z,null,U)})):At(Y)}var G,Z=Gt(U);return Z&&no(),q=ve.follow(function(){var Y;(G=U.call(j,j))&&(Z?(Y=qr.bind(null,null),G.then(Y,Y)):typeof G.next=="function"&&typeof G.throw=="function"&&(G=Id(G)))},q),(G&&typeof G.then=="function"?ve.resolve(G).then(function(Y){return j.active?Y:At(new Se.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):q.then(function(){return G})).then(function(Y){return P&&j._resolve(),j._completion.then(function(){return Y})}).catch(function(Y){return j._reject(Y),At(Y)})})}.bind(null,this,w,S,v,p);return v?v._promise(w,k,"lock"):Ce.trans?wi(Ce.transless,function(){return g._whenReady(k)}):this._whenReady(k)},Nt.prototype.table=function(a){if(!h(this._allTables,a))throw new Se.InvalidTable("Table ".concat(a," does not exist"));return this._allTables[a]},Nt);function Nt(a,c){var p=this;this._middlewares={},this.verno=0;var g=Nt.dependencies;this._options=c=t({addons:Nt.addons,autoOpen:!0,indexedDB:g.indexedDB,IDBKeyRange:g.IDBKeyRange,cache:"cloned"},c),this._deps={indexedDB:c.indexedDB,IDBKeyRange:c.IDBKeyRange},g=c.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var v,w,S,T,k,L={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:at,dbReadyPromise:null,cancelOpen:at,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:c.autoOpen};L.dbReadyPromise=new ve(function(A){L.dbReadyResolve=A}),L.openCanceller=new ve(function(A,z){L.cancelOpen=z}),this._state=L,this.name=a,this.on=us(this,"populate","blocked","versionchange","close",{ready:[l,at]}),this.on.ready.subscribe=D(this.on.ready.subscribe,function(A){return function(z,P){Nt.vip(function(){var U,q=p._state;q.openComplete?(q.dbOpenError||ve.resolve().then(z),P&&A(z)):q.onReadyBeingFired?(q.onReadyBeingFired.push(z),P&&A(z)):(A(z),U=p,P||A(function j(){U.on.ready.unsubscribe(z),U.on.ready.unsubscribe(j)}))})}}),this.Collection=(v=this,ls(YC.prototype,function(G,j){this.db=v;var P=Jg,U=null;if(j)try{P=j()}catch(Z){U=Z}var q=G._ctx,j=q.table,G=j.hook.reading.fire;this._ctx={table:j,index:q.index,isPrimKey:!q.index||j.schema.primKey.keyPath&&q.index===j.schema.primKey.name,range:P,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:U,or:q.or,valueMapper:G!==Pt?G:null}})),this.Table=(w=this,ls(rm.prototype,function(A,z,P){this.db=w,this._tx=P,this.name=A,this.schema=z,this.hook=w._allTables[A]?w._allTables[A].hook:us(null,{creating:[X,at],reading:[hn,Pt],updating:[De,at],deleting:[de,at]})})),this.Transaction=(S=this,ls(eD.prototype,function(A,z,P,U,q){var j=this;this.db=S,this.mode=A,this.storeNames=z,this.schema=P,this.chromeTransactionDurability=U,this.idbtrans=null,this.on=us(this,"complete","error","abort"),this.parent=q||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new ve(function(G,Z){j._resolve=G,j._reject=Z}),this._completion.then(function(){j.active=!1,j.on.complete.fire()},function(G){var Z=j.active;return j.active=!1,j.on.error.fire(G),j.parent?j.parent._reject(G):Z&&j.idbtrans&&j.idbtrans.abort(),At(G)})})),this.Version=(T=this,ls(aD.prototype,function(A){this.db=T,this._cfg={version:A,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(k=this,ls(cm.prototype,function(A,z,P){if(this.db=k,this._ctx={table:A,index:z===":id"?null:z,or:P},this._cmp=this._ascending=nt,this._descending=function(U,q){return nt(q,U)},this._max=function(U,q){return 0<nt(U,q)?U:q},this._min=function(U,q){return nt(U,q)<0?U:q},this._IDBKeyRange=k._deps.IDBKeyRange,!this._IDBKeyRange)throw new Se.MissingAPI})),this.on("versionchange",function(A){0<A.newVersion?console.warn("Another connection wants to upgrade database '".concat(p.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(p.name,"'. Closing db now to resume the delete request.")),p.close({disableAutoOpen:!1})}),this.on("blocked",function(A){!A.newVersion||A.newVersion<A.oldVersion?console.warn("Dexie.delete('".concat(p.name,"') was blocked")):console.warn("Upgrade '".concat(p.name,"' blocked by other connection holding version ").concat(A.oldVersion/10))}),this._maxKey=ps(c.IDBKeyRange),this._createTransaction=function(A,z,P,U){return new p.Transaction(A,z,P,p._options.chromeTransactionDurability,U)},this._fireOnBlocked=function(A){p.on("blocked").fire(A),ro.filter(function(z){return z.name===p.name&&z!==p&&!z._state.vcFired}).map(function(z){return z.on("versionchange").fire(A)})},this.use(dD),this.use(gD),this.use(fD),this.use(uD),this.use(lD);var H=new Proxy(this,{get:function(A,z,P){if(z==="_vip")return!0;if(z==="table")return function(q){return sc(p.table(q),H)};var U=Reflect.get(A,z,P);return U instanceof rm?sc(U,H):z==="tables"?U.map(function(q){return sc(q,H)}):z==="_createTransaction"?function(){return sc(U.apply(this,arguments),H)}:U}});this.vip=H,g.forEach(function(A){return A(p)})}var ac,Rn=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",mD=(Od.prototype.subscribe=function(a,c,p){return this._subscribe(a&&typeof a!="function"?a:{next:a,error:c,complete:p})},Od.prototype[Rn]=function(){return this},Od);function Od(a){this._subscribe=a}try{ac={indexedDB:r.indexedDB||r.mozIndexedDB||r.webkitIndexedDB||r.msIndexedDB,IDBKeyRange:r.IDBKeyRange||r.webkitIDBKeyRange}}catch{ac={indexedDB:null,IDBKeyRange:null}}function Dm(a){var c,p=!1,g=new mD(function(v){var w=Gt(a),S,T=!1,k={},L={},H={get closed(){return T},unsubscribe:function(){T||(T=!0,S&&S.abort(),A&&Gr.storagemutated.unsubscribe(P))}};v.start&&v.start(H);var A=!1,z=function(){return sd(U)},P=function(q){rc(k,q),Dd(L,k)&&z()},U=function(){var q,j,G;!T&&ac.indexedDB&&(k={},q={},S&&S.abort(),S=new AbortController,G=function(Z){var Y=eo();try{w&&no();var te=$r(a,Z);return te=w?te.finally(qr):te}finally{Y&&to()}}(j={subscr:q,signal:S.signal,requery:z,querier:a,trans:null}),Promise.resolve(G).then(function(Z){p=!0,c=Z,T||j.signal.aborted||(k={},function(Y){for(var te in Y)if(h(Y,te))return;return 1}(L=q)||A||(Gr(hs,P),A=!0),sd(function(){return!T&&v.next&&v.next(Z)}))},function(Z){p=!1,["DatabaseClosedError","AbortError"].includes(Z?.name)||T||sd(function(){T||v.error&&v.error(Z)})}))};return setTimeout(z,0),H});return g.hasValue=function(){return p},g.getValue=function(){return c},g}var Si=Sr;function Ad(a){var c=Kr;try{Kr=!0,Gr.storagemutated.fire(a),Md(a,!0)}finally{Kr=c}}m(Si,t(t({},Xn),{delete:function(a){return new Si(a,{addons:[]}).delete()},exists:function(a){return new Si(a,{addons:[]}).open().then(function(c){return c.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(a){try{return c=Si.dependencies,p=c.indexedDB,c=c.IDBKeyRange,(_d(p)?Promise.resolve(p.databases()).then(function(g){return g.map(function(v){return v.name}).filter(function(v){return v!==za})}):bd(p,c).toCollection().primaryKeys()).then(a)}catch{return At(new Se.MissingAPI)}var c,p},defineClass:function(){return function(a){s(this,a)}},ignoreTransaction:function(a){return Ce.trans?wi(Ce.transless,a):a()},vip:wd,async:function(a){return function(){try{var c=Id(a.apply(this,arguments));return c&&typeof c.then=="function"?c:ve.resolve(c)}catch(p){return At(p)}}},spawn:function(a,c,p){try{var g=Id(a.apply(p,c||[]));return g&&typeof g.then=="function"?g:ve.resolve(g)}catch(v){return At(v)}},currentTransaction:{get:function(){return Ce.trans||null}},waitFor:function(a,c){return c=ve.resolve(typeof a=="function"?Si.ignoreTransaction(a):a).timeout(c||6e4),Ce.trans?Ce.trans.waitFor(c):c},Promise:ve,debug:{get:function(){return f},set:function(a){b(a)}},derive:C,extend:s,props:m,override:D,Events:us,on:Gr,liveQuery:Dm,extendObservabilitySet:rc,getByKeyPath:F,setByKeyPath:O,delByKeyPath:function(a,c){typeof c=="string"?O(a,c,void 0):"length"in c&&[].map.call(c,function(p){O(a,p,void 0)})},shallowClone:$,deepClone:oe,getObjectDiff:Td,cmp:nt,asap:I,minKey:-1/0,addons:[],connections:ro,errnames:en,dependencies:ac,cache:Ei,semVer:"4.0.10",version:"4.0.10".split(".").map(function(a){return parseInt(a)}).reduce(function(a,c,p){return a+c/Math.pow(10,2*p)})})),Si.maxKey=ps(Si.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Gr(hs,function(a){Kr||(a=new CustomEvent(fd,{detail:a}),Kr=!0,dispatchEvent(a),Kr=!1)}),addEventListener(fd,function(a){a=a.detail,Kr||Ad(a)}));var so,Kr=!1,Em=function(){};return typeof BroadcastChannel<"u"&&((Em=function(){(so=new BroadcastChannel(fd)).onmessage=function(a){return a.data&&Ad(a.data)}})(),typeof so.unref=="function"&&so.unref(),Gr(hs,function(a){Kr||so.postMessage(a)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(a){if(!Sr.disableBfCache&&a.persisted){f&&console.debug("Dexie: handling persisted pagehide"),so?.close();for(var c=0,p=ro;c<p.length;c++)p[c].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(a){!Sr.disableBfCache&&a.persisted&&(f&&console.debug("Dexie: handling persisted pageshow"),Em(),Ad({all:new Kt(-1/0,[[]])}))})),ve.rejectionMapper=function(a,c){return!a||a instanceof Oe||a instanceof TypeError||a instanceof SyntaxError||!a.name||!Tn[a.name]?a:(c=new Tn[a.name](c||a.message,a),"stack"in a&&y(c,"stack",{get:function(){return this.inner.stack}}),c)},b(f),t(Sr,Object.freeze({__proto__:null,Dexie:Sr,liveQuery:Dm,Entity:em,cmp:nt,PropModSymbol:Er,PropModification:ds,replacePrefix:function(a,c){return new ds({replacePrefix:[a,c]})},add:function(a){return new ds({add:a})},remove:function(a){return new ds({remove:a})},default:Sr,RangeSet:Kt,mergeRanges:vs,rangesOverlap:hm}),{default:Sr}),Sr})});function Kd(e,t){return Object.is(e,t)}var Vt=null,_c=!1,Qd=1,On=Symbol("SIGNAL");function tt(e){let t=Vt;return Vt=e,t}function Zd(){return Vt}var Cs={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Ds(e){if(_c)throw new Error("");if(Vt===null)return;Vt.consumerOnSignalRead(e);let t=Vt.nextProducerIndex++;if(Ec(Vt),t<Vt.producerNode.length&&Vt.producerNode[t]!==e&&ws(Vt)){let n=Vt.producerNode[t];Dc(n,Vt.producerIndexOfThis[t])}Vt.producerNode[t]!==e&&(Vt.producerNode[t]=e,Vt.producerIndexOfThis[t]=ws(Vt)?gv(e,Vt,t):0),Vt.producerLastReadVersion[t]=e.version}function pv(){Qd++}function Yd(e){if(!(ws(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Qd)){if(!e.producerMustRecompute(e)&&!tf(e)){Gd(e);return}e.producerRecomputeValue(e),Gd(e)}}function Xd(e){if(e.liveConsumerNode===void 0)return;let t=_c;_c=!0;try{for(let n of e.liveConsumerNode)n.dirty||vD(n)}finally{_c=t}}function Jd(){return Vt?.consumerAllowSignalWrites!==!1}function vD(e){e.dirty=!0,Xd(e),e.consumerMarkedDirty?.(e)}function Gd(e){e.dirty=!1,e.lastCleanEpoch=Qd}function Cc(e){return e&&(e.nextProducerIndex=0),tt(e)}function ef(e,t){if(tt(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(ws(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)Dc(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function tf(e){Ec(e);for(let t=0;t<e.producerNode.length;t++){let n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(Yd(n),r!==n.version))return!0}return!1}function nf(e){if(Ec(e),ws(e))for(let t=0;t<e.producerNode.length;t++)Dc(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function gv(e,t,n){if(mv(e),e.liveConsumerNode.length===0&&vv(e))for(let r=0;r<e.producerNode.length;r++)e.producerIndexOfThis[r]=gv(e.producerNode[r],e,r);return e.liveConsumerIndexOfThis.push(n),e.liveConsumerNode.push(t)-1}function Dc(e,t){if(mv(e),e.liveConsumerNode.length===1&&vv(e))for(let r=0;r<e.producerNode.length;r++)Dc(e.producerNode[r],e.producerIndexOfThis[r]);let n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let r=e.liveConsumerIndexOfThis[t],i=e.liveConsumerNode[t];Ec(i),i.producerIndexOfThis[r]=t}}function ws(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Ec(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function mv(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function vv(e){return e.producerNode!==void 0}function rf(e,t){let n=Object.create(yD);n.computation=e,t!==void 0&&(n.equal=t);let r=()=>{if(Yd(n),Ds(n),n.value===wc)throw n.error;return n.value};return r[On]=n,r}var zd=Symbol("UNSET"),Wd=Symbol("COMPUTING"),wc=Symbol("ERRORED"),yD=Je(ge({},Cs),{value:zd,dirty:!0,error:null,equal:Kd,kind:"computed",producerMustRecompute(e){return e.value===zd||e.value===Wd},producerRecomputeValue(e){if(e.value===Wd)throw new Error("Detected cycle in computations.");let t=e.value;e.value=Wd;let n=Cc(e),r,i=!1;try{r=e.computation(),tt(null),i=t!==zd&&t!==wc&&r!==wc&&e.equal(t,r)}catch(o){r=wc,e.error=o}finally{ef(e,n)}if(i){e.value=t;return}e.value=r,e.version++}});function bD(){throw new Error}var yv=bD;function bv(e){yv(e)}function of(e){yv=e}var _D=null;function sf(e,t){let n=Object.create(Sc);n.value=e,t!==void 0&&(n.equal=t);let r=()=>(Ds(n),n.value);return r[On]=n,r}function Es(e,t){Jd()||bv(e),e.equal(e.value,t)||(e.value=t,wD(e))}function af(e,t){Jd()||bv(e),Es(e,t(e.value))}var Sc=Je(ge({},Cs),{equal:Kd,value:void 0,kind:"signal"});function wD(e){e.version++,pv(),Xd(e),_D?.()}function cf(e){let t=tt(null);try{return e()}finally{tt(t)}}var uf;function Ss(){return uf}function Ir(e){let t=uf;return uf=e,t}var Mc=Symbol("NotFound");var hy="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",we=class extends Error{code;constructor(t,n){super(py(t,n)),this.code=t}};function SD(e){return`NG0${Math.abs(e)}`}function py(e,t){return`${SD(e)}${t?": "+t:""}`}var gy=Symbol("InputSignalNode#UNSET"),MD=Je(ge({},Sc),{transformFn:void 0,applyValueToInputSignal(e,t){Es(e,t)}});function my(e,t){let n=Object.create(MD);n.value=e,n.transformFn=t?.transform;function r(){if(Ds(n),n.value===gy){let i=null;throw new we(-950,i)}return n.value}return r[On]=n,r}function Ls(e){return{toString:e}.toString()}var Ic="__parameters__";function ID(e){return function(...n){if(e){let r=e(...n);for(let i in r)this[i]=r[i]}}}function vy(e,t,n){return Ls(()=>{let r=ID(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return u.annotation=s,u;function u(d,h,m){let _=d.hasOwnProperty(Ic)?d[Ic]:Object.defineProperty(d,Ic,{value:[]})[Ic];for(;_.length<=m;)_.push(null);return(_[m]=_[m]||[]).push(s),d}}return i.prototype.ngMetadataName=e,i.annotationCls=i,i})}var bn=globalThis;function yt(e){for(let t in e)if(e[t]===yt)return t;throw Error("Could not find renamed property on target object.")}function TD(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function cn(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(cn).join(", ")}]`;if(e==null)return""+e;let t=e.overriddenName||e.name;if(t)return`${t}`;let n=e.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function _v(e,t){return e?t?`${e} ${t}`:e:t||""}var xD=yt({__forward_ref__:yt});function cr(e){return e.__forward_ref__=cr,e.toString=function(){return cn(this())},e}function rn(e){return yy(e)?e():e}function yy(e){return typeof e=="function"&&e.hasOwnProperty(xD)&&e.__forward_ref__===cr}function be(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function bt(e){return{providers:e.providers||[],imports:e.imports||[]}}function hu(e){return wv(e,_y)||wv(e,wy)}function by(e){return hu(e)!==null}function wv(e,t){return e.hasOwnProperty(t)?e[t]:null}function RD(e){let t=e&&(e[_y]||e[wy]);return t||null}function Cv(e){return e&&(e.hasOwnProperty(Dv)||e.hasOwnProperty(OD))?e[Dv]:null}var _y=yt({\u0275prov:yt}),Dv=yt({\u0275inj:yt}),wy=yt({ngInjectableDef:yt}),OD=yt({ngInjectorDef:yt}),Me=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=be({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Cy(e){return e&&!!e.\u0275providers}var AD=yt({\u0275cmp:yt}),ND=yt({\u0275dir:yt}),kD=yt({\u0275pipe:yt}),PD=yt({\u0275mod:yt}),Vc=yt({\u0275fac:yt}),xs=yt({__NG_ELEMENT_ID__:yt}),Ev=yt({__NG_ENV_ID__:yt});function yo(e){return typeof e=="string"?e:e==null?"":String(e)}function FD(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():yo(e)}function Dy(e,t){throw new we(-200,e)}function vh(e,t){throw new we(-201,!1)}var He=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(He||{}),Df;function Ey(){return Df}function an(e){let t=Df;return Df=e,t}function Sy(e,t,n){let r=hu(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&He.Optional)return null;if(t!==void 0)return t;vh(e,"Injector")}var LD={},Oi=LD,Ef="__NG_DI_FLAG__",jc=class{injector;constructor(t){this.injector=t}retrieve(t,n){let r=n;return this.injector.get(t,r.optional?Mc:Oi,r)}},Bc="ngTempTokenPath",VD="ngTokenPath",jD=/\n/gm,BD="\u0275",Sv="__source";function UD(e,t=He.Default){if(Ss()===void 0)throw new we(-203,!1);if(Ss()===null)return Sy(e,void 0,t);{let n=Ss(),r;return n instanceof jc?r=n.injector:r=n,r.get(e,t&He.Optional?null:void 0,t)}}function Re(e,t=He.Default){return(Ey()||UD)(rn(e),t)}function ce(e,t=He.Default){return Re(e,pu(t))}function pu(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Sf(e){let t=[];for(let n=0;n<e.length;n++){let r=rn(e[n]);if(Array.isArray(r)){if(r.length===0)throw new we(900,!1);let i,o=He.Default;for(let s=0;s<r.length;s++){let u=r[s],d=HD(u);typeof d=="number"?d===-1?i=u.token:o|=d:i=u}t.push(Re(i,o))}else t.push(Re(r))}return t}function My(e,t){return e[Ef]=t,e.prototype[Ef]=t,e}function HD(e){return e[Ef]}function $D(e,t,n,r){let i=e[Bc];throw t[Sv]&&i.unshift(t[Sv]),e.message=qD(`
`+e.message,i,n,r),e[VD]=i,e[Bc]=null,e}function qD(e,t,n,r=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==BD?e.slice(2):e;let i=cn(t);if(Array.isArray(t))i=t.map(cn).join(" -> ");else if(typeof t=="object"){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let u=t[s];o.push(s+":"+(typeof u=="string"?JSON.stringify(u):cn(u)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(jD,`
  `)}`}var zD=My(vy("Optional"),8);var WD=My(vy("SkipSelf"),4);function Ni(e,t){let n=e.hasOwnProperty(Vc);return n?e[Vc]:null}function GD(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=t[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function KD(e){return e.flat(Number.POSITIVE_INFINITY)}function yh(e,t){e.forEach(n=>Array.isArray(n)?yh(n,t):t(n))}function Iy(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Uc(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function QD(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(i===1)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;){let o=i-2;e[i]=e[o],i--}e[t]=n,e[t+1]=r}}function ZD(e,t,n){let r=Vs(e,t);return r>=0?e[r|1]=n:(r=~r,QD(e,r,t,n)),r}function lf(e,t){let n=Vs(e,t);if(n>=0)return e[n|1]}function Vs(e,t){return YD(e,t,1)}function YD(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=e[o<<n];if(t===s)return o<<n;s>t?i=o:r=o+1}return~(i<<n)}var ki={},An=[],Rs=new Me(""),Ty=new Me("",-1),xy=new Me(""),Hc=class{get(t,n=Oi){if(n===Oi){let r=new Error(`NullInjectorError: No provider for ${cn(t)}!`);throw r.name="NullInjectorError",r}return n}};function Ry(e,t){let n=e[PD]||null;if(!n&&t===!0)throw new Error(`Type ${cn(e)} does not have '\u0275mod' property.`);return n}function Pi(e){return e[AD]||null}function XD(e){return e[ND]||null}function JD(e){return e[kD]||null}function Oy(e){return{\u0275providers:e}}function eE(...e){return{\u0275providers:Ay(!0,e),\u0275fromNgModule:!0}}function Ay(e,...t){let n=[],r=new Set,i,o=s=>{n.push(s)};return yh(t,s=>{let u=s;Mf(u,o,[],r)&&(i||=[],i.push(u))}),i!==void 0&&Ny(i,o),n}function Ny(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:i}=e[n];bh(i,o=>{t(o,r)})}}function Mf(e,t,n,r){if(e=rn(e),!e)return!1;let i=null,o=Cv(e),s=!o&&Pi(e);if(!o&&!s){let d=e.ngModule;if(o=Cv(d),o)i=d;else return!1}else{if(s&&!s.standalone)return!1;i=e}let u=r.has(i);if(s){if(u)return!1;if(r.add(i),s.dependencies){let d=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let h of d)Mf(h,t,n,r)}}else if(o){if(o.imports!=null&&!u){r.add(i);let h;try{yh(o.imports,m=>{Mf(m,t,n,r)&&(h||=[],h.push(m))})}finally{}h!==void 0&&Ny(h,t)}if(!u){let h=Ni(i)||(()=>new i);t({provide:i,useFactory:h,deps:An},i),t({provide:xy,useValue:i,multi:!0},i),t({provide:Rs,useValue:()=>Re(i),multi:!0},i)}let d=o.providers;if(d!=null&&!u){let h=e;bh(d,m=>{t(m,h)})}}else return!1;return i!==e&&e.providers!==void 0}function bh(e,t){for(let n of e)Cy(n)&&(n=n.\u0275providers),Array.isArray(n)?bh(n,t):t(n)}var tE=yt({provide:String,useValue:yt});function ky(e){return e!==null&&typeof e=="object"&&tE in e}function nE(e){return!!(e&&e.useExisting)}function rE(e){return!!(e&&e.useFactory)}function bo(e){return typeof e=="function"}function iE(e){return!!e.useClass}var gu=new Me(""),Nc={},Mv={},df;function _h(){return df===void 0&&(df=new Hc),df}var un=class{},Os=class extends un{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,Tf(t,s=>this.processProvider(s)),this.records.set(Ty,fo(void 0,this)),i.has("environment")&&this.records.set(un,fo(void 0,this));let o=this.records.get(gu);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(xy,An,He.Self))}retrieve(t,n){let r=n;return this.get(t,r.optional?Mc:Oi,r)}destroy(){Is(this),this._destroyed=!0;let t=tt(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),tt(t)}}onDestroy(t){return Is(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){Is(this);let n=Ir(this),r=an(void 0),i;try{return t()}finally{Ir(n),an(r)}}get(t,n=Oi,r=He.Default){if(Is(this),t.hasOwnProperty(Ev))return t[Ev](this);r=pu(r);let i,o=Ir(this),s=an(void 0);try{if(!(r&He.SkipSelf)){let d=this.records.get(t);if(d===void 0){let h=uE(t)&&hu(t);h&&this.injectableDefInScope(h)?d=fo(If(t),Nc):d=null,this.records.set(t,d)}if(d!=null)return this.hydrate(t,d,r)}let u=r&He.Self?_h():this.parent;return n=r&He.Optional&&n===Oi?null:n,u.get(t,n)}catch(u){if(u.name==="NullInjectorError"){if((u[Bc]=u[Bc]||[]).unshift(cn(t)),o)throw u;return $D(u,t,"R3InjectorError",this.source)}else throw u}finally{an(s),Ir(o)}}resolveInjectorInitializers(){let t=tt(null),n=Ir(this),r=an(void 0),i;try{let o=this.get(Rs,An,He.Self);for(let s of o)s()}finally{Ir(n),an(r),tt(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push(cn(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=rn(t);let n=bo(t)?t:rn(t&&t.provide),r=sE(t);if(!bo(t)&&t.multi===!0){let i=this.records.get(n);i||(i=fo(void 0,Nc,!0),i.factory=()=>Sf(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n,r){let i=tt(null);try{return n.value===Mv?Dy(cn(t)):n.value===Nc&&(n.value=Mv,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&cE(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{tt(i)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=rn(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function If(e){let t=hu(e),n=t!==null?t.factory:Ni(e);if(n!==null)return n;if(e instanceof Me)throw new we(204,!1);if(e instanceof Function)return oE(e);throw new we(204,!1)}function oE(e){if(e.length>0)throw new we(204,!1);let n=RD(e);return n!==null?()=>n.factory(e):()=>new e}function sE(e){if(ky(e))return fo(void 0,e.useValue);{let t=Py(e);return fo(t,Nc)}}function Py(e,t,n){let r;if(bo(e)){let i=rn(e);return Ni(i)||If(i)}else if(ky(e))r=()=>rn(e.useValue);else if(rE(e))r=()=>e.useFactory(...Sf(e.deps||[]));else if(nE(e))r=(i,o)=>Re(rn(e.useExisting),o!==void 0&&o&He.Optional?He.Optional:void 0);else{let i=rn(e&&(e.useClass||e.provide));if(aE(e))r=()=>new i(...Sf(e.deps));else return Ni(i)||If(i)}return r}function Is(e){if(e.destroyed)throw new we(205,!1)}function fo(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function aE(e){return!!e.deps}function cE(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function uE(e){return typeof e=="function"||typeof e=="object"&&e instanceof Me}function Tf(e,t){for(let n of e)Array.isArray(n)?Tf(n,t):n&&Cy(n)?Tf(n.\u0275providers,t):t(n)}function kn(e,t){let n;e instanceof Os?(Is(e),n=e):n=new jc(e);let r,i=Ir(n),o=an(void 0);try{return t()}finally{Ir(i),an(o)}}function wh(){return Ey()!==void 0||Ss()!=null}function lE(e){if(!wh())throw new we(-203,!1)}function dE(e){let t=bn.ng;if(t&&t.\u0275compilerFacade)return t.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function fE(e){return typeof e=="function"}var Or=0,Ge=1,ke=2,Xt=3,Hn=4,qn=5,$c=6,qc=7,ln=8,_o=9,Tr=10,jt=11,As=12,Iv=13,Io=14,nr=15,Fi=16,ho=17,xr=18,mu=19,Fy=20,ti=21,ff=22,zc=23,Nn=24,mo=25,$n=26,Ly=1;var Li=7,Wc=8,wo=9,yn=10;function ni(e){return Array.isArray(e)&&typeof e[Ly]=="object"}function Ar(e){return Array.isArray(e)&&e[Ly]===!0}function Vy(e){return(e.flags&4)!==0}function To(e){return e.componentOffset>-1}function Ch(e){return(e.flags&1)===1}function rr(e){return!!e.template}function Gc(e){return(e[ke]&512)!==0}function xo(e){return(e[ke]&256)===256}var xf=class{previousValue;currentValue;firstChange;constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function jy(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}var $i=(()=>{let e=()=>By;return e.ngInherit=!0,e})();function By(e){return e.type.prototype.ngOnChanges&&(e.setInput=pE),hE}function hE(){let e=Hy(this),t=e?.current;if(t){let n=e.previous;if(n===ki)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function pE(e,t,n,r,i){let o=this.declaredInputs[r],s=Hy(e)||gE(e,{previous:ki,current:null}),u=s.current||(s.current={}),d=s.previous,h=d[o];u[o]=new xf(h&&h.currentValue,n,d===ki),jy(e,t,i,n)}var Uy="__ngSimpleChanges__";function Hy(e){return e[Uy]||null}function gE(e,t){return e[Uy]=t}var Tv=null;var wt=function(e,t=null,n){Tv?.(e,t,n)},$y="svg",mE="math";function ir(e){for(;Array.isArray(e);)e=e[Or];return e}function qy(e,t){return ir(t[e])}function ur(e,t){return ir(t[e.index])}function zy(e,t){return e.data[t]}function vE(e,t){return e[t]}function yE(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}function or(e,t){let n=t[e];return ni(n)?n:n[Or]}function bE(e){return(e[ke]&4)===4}function Dh(e){return(e[ke]&128)===128}function _E(e){return Ar(e[Xt])}function Kc(e,t){return t==null?null:e[t]}function Wy(e){e[ho]=0}function Gy(e){e[ke]&1024||(e[ke]|=1024,Dh(e)&&js(e))}function wE(e,t){for(;e>0;)t=t[Io],e--;return t}function vu(e){return!!(e[ke]&9216||e[Nn]?.dirty)}function Rf(e){e[Tr].changeDetectionScheduler?.notify(8),e[ke]&64&&(e[ke]|=1024),vu(e)&&js(e)}function js(e){e[Tr].changeDetectionScheduler?.notify(0);let t=Vi(e);for(;t!==null&&!(t[ke]&8192||(t[ke]|=8192,!Dh(t)));)t=Vi(t)}function Ky(e,t){if(xo(e))throw new we(911,!1);e[ti]===null&&(e[ti]=[]),e[ti].push(t)}function CE(e,t){if(e[ti]===null)return;let n=e[ti].indexOf(t);n!==-1&&e[ti].splice(n,1)}function Vi(e){let t=e[Xt];return Ar(t)?t[Xt]:t}function Eh(e){return e[qc]??=[]}function Sh(e){return e.cleanup??=[]}function DE(e,t,n,r){let i=Eh(t);i.push(n),e.firstCreatePass&&Sh(e).push(r,i.length-1)}var $e={lFrame:ib(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Of=!1;function EE(){return $e.lFrame.elementDepthCount}function SE(){$e.lFrame.elementDepthCount++}function ME(){$e.lFrame.elementDepthCount--}function Qy(){return $e.bindingsEnabled}function IE(){return $e.skipHydrationRootTNode!==null}function TE(e){return $e.skipHydrationRootTNode===e}function xE(){$e.skipHydrationRootTNode=null}function dt(){return $e.lFrame.lView}function Jt(){return $e.lFrame.tView}function ot(e){return $e.lFrame.contextLView=e,e[ln]}function st(e){return $e.lFrame.contextLView=null,e}function _n(){let e=Zy();for(;e!==null&&e.type===64;)e=e.parent;return e}function Zy(){return $e.lFrame.currentTNode}function RE(){let e=$e.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function Bs(e,t){let n=$e.lFrame;n.currentTNode=e,n.isParent=t}function Yy(){return $e.lFrame.isParent}function OE(){$e.lFrame.isParent=!1}function Xy(){return Of}function xv(e){let t=Of;return Of=e,t}function Jy(){let e=$e.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function AE(){return $e.lFrame.bindingIndex}function NE(e){return $e.lFrame.bindingIndex=e}function yu(){return $e.lFrame.bindingIndex++}function eb(e){let t=$e.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function kE(){return $e.lFrame.inI18n}function PE(e,t){let n=$e.lFrame;n.bindingIndex=n.bindingRootIndex=e,Af(t)}function FE(){return $e.lFrame.currentDirectiveIndex}function Af(e){$e.lFrame.currentDirectiveIndex=e}function LE(e){let t=$e.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function tb(){return $e.lFrame.currentQueryIndex}function Mh(e){$e.lFrame.currentQueryIndex=e}function VE(e){let t=e[Ge];return t.type===2?t.declTNode:t.type===1?e[qn]:null}function nb(e,t,n){if(n&He.SkipSelf){let i=t,o=e;for(;i=i.parent,i===null&&!(n&He.Host);)if(i=VE(o),i===null||(o=o[Io],i.type&10))break;if(i===null)return!1;t=i,e=o}let r=$e.lFrame=rb();return r.currentTNode=t,r.lView=e,!0}function Ih(e){let t=rb(),n=e[Ge];$e.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function rb(){let e=$e.lFrame,t=e===null?null:e.child;return t===null?ib(e):t}function ib(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function ob(){let e=$e.lFrame;return $e.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var sb=ob;function Th(){let e=ob();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function jE(e){return($e.lFrame.contextLView=wE(e,$e.lFrame.contextLView))[ln]}function qi(){return $e.lFrame.selectedIndex}function ji(e){$e.lFrame.selectedIndex=e}function xh(){let e=$e.lFrame;return zy(e.tView,e.selectedIndex)}function Ro(){$e.lFrame.currentNamespace=$y}function Rh(){BE()}function BE(){$e.lFrame.currentNamespace=null}function UE(){return $e.lFrame.currentNamespace}var ab=!0;function Oh(){return ab}function Ah(e){ab=e}function HE(e,t,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){let s=By(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}i&&(n.preOrderHooks??=[]).push(0-e,i),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}function cb(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:u,ngAfterViewInit:d,ngAfterViewChecked:h,ngOnDestroy:m}=o;s&&(e.contentHooks??=[]).push(-n,s),u&&((e.contentHooks??=[]).push(n,u),(e.contentCheckHooks??=[]).push(n,u)),d&&(e.viewHooks??=[]).push(-n,d),h&&((e.viewHooks??=[]).push(n,h),(e.viewCheckHooks??=[]).push(n,h)),m!=null&&(e.destroyHooks??=[]).push(n,m)}}function kc(e,t,n){ub(e,t,3,n)}function Pc(e,t,n,r){(e[ke]&3)===n&&ub(e,t,n,r)}function hf(e,t){let n=e[ke];(n&3)===t&&(n&=16383,n+=1,e[ke]=n)}function ub(e,t,n,r){let i=r!==void 0?e[ho]&65535:0,o=r??-1,s=t.length-1,u=0;for(let d=i;d<s;d++)if(typeof t[d+1]=="number"){if(u=t[d],r!=null&&u>=r)break}else t[d]<0&&(e[ho]+=65536),(u<o||o==-1)&&($E(e,n,t,d),e[ho]=(e[ho]&4294901760)+d+2),d++}function Rv(e,t){wt(4,e,t);let n=tt(null);try{t.call(e)}finally{tt(n),wt(5,e,t)}}function $E(e,t,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],u=e[s];i?e[ke]>>14<e[ho]>>16&&(e[ke]&3)===t&&(e[ke]+=16384,Rv(u,o)):Rv(u,o)}var vo=-1,Bi=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,r){this.factory=t,this.canSeeViewProviders=n,this.injectImpl=r}};function qE(e){return(e.flags&8)!==0}function zE(e){return(e.flags&16)!==0}function WE(e,t,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],u=n[r++];e.setAttribute(t,s,u,o)}else{let o=i,s=n[++r];KE(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),r++}}return r}function GE(e){return e===3||e===4||e===6}function KE(e){return e.charCodeAt(0)===64}function Ns(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let i=t[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Ov(e,n,i,null,t[++r]):Ov(e,n,i,null,null))}}return e}function Ov(e,t,n,r,i){let o=0,s=e.length;if(t===-1)s=-1;else for(;o<e.length;){let u=e[o++];if(typeof u=="number"){if(u===t){s=-1;break}else if(u>t){s=o-1;break}}}for(;o<e.length;){let u=e[o];if(typeof u=="number")break;if(u===n){i!==null&&(e[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),i!==null&&e.splice(o++,0,i)}function lb(e){return e!==vo}function Qc(e){return e&32767}function QE(e){return e>>16}function Zc(e,t){let n=QE(e),r=t;for(;n>0;)r=r[Io],n--;return r}var Nf=!0;function Yc(e){let t=Nf;return Nf=e,t}var ZE=256,db=ZE-1,fb=5,YE=0,tr={};function XE(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(xs)&&(r=n[xs]),r==null&&(r=n[xs]=YE++);let i=r&db,o=1<<i;t.data[e+(i>>fb)]|=o}function Xc(e,t){let n=hb(e,t);if(n!==-1)return n;let r=t[Ge];r.firstCreatePass&&(e.injectorIndex=t.length,pf(r.data,e),pf(t,null),pf(r.blueprint,null));let i=Nh(e,t),o=e.injectorIndex;if(lb(i)){let s=Qc(i),u=Zc(i,t),d=u[Ge].data;for(let h=0;h<8;h++)t[o+h]=u[s+h]|d[s+h]}return t[o+8]=i,o}function pf(e,t){e.push(0,0,0,0,0,0,0,0,t)}function hb(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function Nh(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;i!==null;){if(r=yb(i),r===null)return vo;if(n++,i=i[Io],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return vo}function kf(e,t,n){XE(e,t,n)}function pb(e,t,n){if(n&He.Optional||e!==void 0)return e;vh(t,"NodeInjector")}function gb(e,t,n,r){if(n&He.Optional&&r===void 0&&(r=null),(n&(He.Self|He.Host))===0){let i=e[_o],o=an(void 0);try{return i?i.get(t,r,n&He.Optional):Sy(t,r,n&He.Optional)}finally{an(o)}}return pb(r,t,n)}function mb(e,t,n,r=He.Default,i){if(e!==null){if(t[ke]&2048&&!(r&He.Self)){let s=nS(e,t,n,r,tr);if(s!==tr)return s}let o=vb(e,t,n,r,tr);if(o!==tr)return o}return gb(t,n,r,i)}function vb(e,t,n,r,i){let o=eS(n);if(typeof o=="function"){if(!nb(t,e,r))return r&He.Host?pb(i,n,r):gb(t,n,r,i);try{let s;if(s=o(r),s==null&&!(r&He.Optional))vh(n);else return s}finally{sb()}}else if(typeof o=="number"){let s=null,u=hb(e,t),d=vo,h=r&He.Host?t[nr][qn]:null;for((u===-1||r&He.SkipSelf)&&(d=u===-1?Nh(e,t):t[u+8],d===vo||!Nv(r,!1)?u=-1:(s=t[Ge],u=Qc(d),t=Zc(d,t)));u!==-1;){let m=t[Ge];if(Av(o,u,m.data)){let _=JE(u,t,n,s,r,h);if(_!==tr)return _}d=t[u+8],d!==vo&&Nv(r,t[Ge].data[u+8]===h)&&Av(o,u,t)?(s=m,u=Qc(d),t=Zc(d,t)):u=-1}}return i}function JE(e,t,n,r,i,o){let s=t[Ge],u=s.data[e+8],d=r==null?To(u)&&Nf:r!=s&&(u.type&3)!==0,h=i&He.Host&&o===u,m=Fc(u,s,n,d,h);return m!==null?ks(t,s,m,u,i):tr}function Fc(e,t,n,r,i){let o=e.providerIndexes,s=t.data,u=o&1048575,d=e.directiveStart,h=e.directiveEnd,m=o>>20,_=r?u:u+m,y=i?u+m:h;for(let C=_;C<y;C++){let E=s[C];if(C<d&&n===E||C>=d&&E.type===n)return C}if(i){let C=s[d];if(C&&rr(C)&&C.type===n)return d}return null}function ks(e,t,n,r,i){let o=e[n],s=t.data;if(o instanceof Bi){let u=o;u.resolving&&Dy(FD(s[n]));let d=Yc(u.canSeeViewProviders);u.resolving=!0;let h,m=u.injectImpl?an(u.injectImpl):null,_=nb(e,r,He.Default);try{o=e[n]=u.factory(void 0,i,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&HE(n,s[n],t)}finally{m!==null&&an(m),Yc(d),u.resolving=!1,sb()}}return o}function eS(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(xs)?e[xs]:void 0;return typeof t=="number"?t>=0?t&db:tS:t}function Av(e,t,n){let r=1<<e;return!!(n[t+(e>>fb)]&r)}function Nv(e,t){return!(e&He.Self)&&!(e&He.Host&&t)}var Ai=class{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return mb(this._tNode,this._lView,t,pu(r),n)}};function tS(){return new Ai(_n(),dt())}function Nr(e){return Ls(()=>{let t=e.prototype.constructor,n=t[Vc]||Pf(t),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){let o=i[Vc]||Pf(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Pf(e){return yy(e)?()=>{let t=Pf(rn(e));return t&&t()}:Ni(e)}function nS(e,t,n,r,i){let o=e,s=t;for(;o!==null&&s!==null&&s[ke]&2048&&!Gc(s);){let u=vb(o,s,n,r|He.Self,tr);if(u!==tr)return u;let d=o.parent;if(!d){let h=s[Fy];if(h){let m=h.get(n,tr,r);if(m!==tr)return m}d=yb(s),s=s[Io]}o=d}return i}function yb(e){let t=e[Ge],n=t.type;return n===2?t.declTNode:n===1?e[qn]:null}function kv(e,t=null,n=null,r){let i=bb(e,t,n,r);return i.resolveInjectorInitializers(),i}function bb(e,t=null,n=null,r,i=new Set){let o=[n||An,eE(e)];return r=r||(typeof e=="object"?void 0:cn(e)),new Os(o,t||_h(),r||null,i)}var dn=class e{static THROW_IF_NOT_FOUND=Oi;static NULL=new Hc;static create(t,n){if(Array.isArray(t))return kv({name:""},n,t,"");{let r=t.name??"";return kv({name:r},t.parent,t.providers,r)}}static \u0275prov=be({token:e,providedIn:"any",factory:()=>Re(Ty)});static __NG_ELEMENT_ID__=-1};var rS=new Me("");rS.__NG_ELEMENT_ID__=e=>{let t=_n();if(t===null)throw new we(204,!1);if(t.type&2)return t.value;if(e&He.Optional)return null;throw new we(204,!1)};var _b=!1,Oo=(()=>{class e{static __NG_ELEMENT_ID__=iS;static __NG_ENV_ID__=n=>n}return e})(),Ff=class extends Oo{_lView;constructor(t){super(),this._lView=t}onDestroy(t){let n=this._lView;return xo(n)?(t(),()=>{}):(Ky(n,t),()=>CE(n,t))}};function iS(){return new Ff(dt())}var Co=class{},wb=new Me("",{providedIn:"root",factory:()=>!1});var Cb=new Me(""),Db=new Me(""),Ao=(()=>{class e{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new rt(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=be({token:e,providedIn:"root",factory:()=>new e})}return e})();var Lf=class extends We{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,wh()&&(this.destroyRef=ce(Oo,{optional:!0})??void 0,this.pendingTasks=ce(Ao,{optional:!0})??void 0)}emit(t){let n=tt(null);try{super.next(t)}finally{tt(n)}}subscribe(t,n,r){let i=t,o=n||(()=>null),s=r;if(t&&typeof t=="object"){let d=t;i=d.next?.bind(d),o=d.error?.bind(d),s=d.complete?.bind(d)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let u=super.subscribe({next:i,error:o,complete:s});return t instanceof Qr&&t.add(u),u}wrapInTimeout(t){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{t(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Ct=Lf;function Jc(...e){}function Eb(e){let t,n;function r(){e=Jc;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function Pv(e){return queueMicrotask(()=>e()),()=>{e=Jc}}var kh="isAngularZone",eu=kh+"_ID",oS=0,Et=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ct(!1);onMicrotaskEmpty=new Ct(!1);onStable=new Ct(!1);onError=new Ct(!1);constructor(t){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=_b}=t;if(typeof Zone>"u")throw new we(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,cS(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(kh)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new we(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new we(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,sS,Jc,Jc);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},sS={};function Ph(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function aS(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){Eb(()=>{e.callbackScheduled=!1,Vf(e),e.isCheckStableRunning=!0,Ph(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),Vf(e)}function cS(e){let t=()=>{aS(e)},n=oS++;e._inner=e._inner.fork({name:"angular",properties:{[kh]:!0,[eu]:n,[eu+n]:!0},onInvokeTask:(r,i,o,s,u,d)=>{if(uS(d))return r.invokeTask(o,s,u,d);try{return Fv(e),r.invokeTask(o,s,u,d)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),Lv(e)}},onInvoke:(r,i,o,s,u,d,h)=>{try{return Fv(e),r.invoke(o,s,u,d,h)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!lS(d)&&t(),Lv(e)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,Vf(e),Ph(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function Vf(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function Fv(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Lv(e){e._nesting--,Ph(e)}var tu=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ct;onMicrotaskEmpty=new Ct;onStable=new Ct;onError=new Ct;run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}};function uS(e){return Sb(e,"__ignore_ng_zone__")}function lS(e){return Sb(e,"__scheduler_tick__")}function Sb(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}function dS(e="zone.js",t){return e==="noop"?new tu:e==="zone.js"?new Et(t):e}var sr=class{_console=console;handleError(t){this._console.error("ERROR",t)}},fS=new Me("",{providedIn:"root",factory:()=>{let e=ce(Et),t=ce(sr);return n=>e.runOutsideAngular(()=>t.handleError(n))}});function Vv(e,t){return my(e,t)}function hS(e){return my(gy,e)}var Mb=(Vv.required=hS,Vv);function pS(){return No(_n(),dt())}function No(e,t){return new wn(ur(e,t))}var wn=(()=>{class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=pS}return e})();function gS(e){return e instanceof wn?e.nativeElement:e}function mS(e){return typeof e=="function"&&e[On]!==void 0}function Us(e,t){let n=sf(e,t?.equal),r=n[On];return n.set=i=>Es(r,i),n.update=i=>af(r,i),n.asReadonly=vS.bind(n),n}function vS(){let e=this[On];if(e.readonlyFn===void 0){let t=()=>this();t[On]=e,e.readonlyFn=t}return e.readonlyFn}function Ib(e){return mS(e)&&typeof e.set=="function"}function yS(){return this._results[Symbol.iterator]()}var jf=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new We}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;let r=KD(t);(this._changesDetected=!GD(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=yS};function Tb(e){return(e.flags&128)===128}var xb=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(xb||{}),Rb=new Map,bS=0;function _S(){return bS++}function wS(e){Rb.set(e[mu],e)}function Bf(e){Rb.delete(e[mu])}var jv="__ngContext__";function Hs(e,t){ni(t)?(e[jv]=t[mu],wS(t)):e[jv]=t}function Ob(e){return Nb(e[As])}function Ab(e){return Nb(e[Hn])}function Nb(e){for(;e!==null&&!Ar(e);)e=e[Hn];return e}var Uf;function kb(e){Uf=e}function Pb(){if(Uf!==void 0)return Uf;if(typeof document<"u")return document;throw new we(210,!1)}var Fh=new Me("",{providedIn:"root",factory:()=>CS}),CS="ng",Lh=new Me(""),ko=new Me("",{providedIn:"platform",factory:()=>"unknown"});var Vh=new Me("",{providedIn:"root",factory:()=>Pb().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var DS="h",ES="b";var Fb=!1,SS=new Me("",{providedIn:"root",factory:()=>Fb});var jh=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(jh||{}),Po=new Me(""),Bv=new Set;function $s(e){Bv.has(e)||(Bv.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var Lb=(()=>{class e{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=MS}return e})();function MS(){return new Lb(dt(),_n())}var po=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(po||{}),Vb=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=be({token:e,providedIn:"root",factory:()=>new e})}return e})(),IS=[po.EarlyRead,po.Write,po.MixedReadWrite,po.Read],TS=(()=>{class e{ngZone=ce(Et);scheduler=ce(Co);errorHandler=ce(sr,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){ce(Po,{optional:!0})}execute(){let n=this.sequences.size>0;n&&wt(16),this.executing=!0;for(let r of IS)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&wt(17)}register(n){let{view:r}=n;r!==void 0?((r[mo]??=[]).push(n),js(r),r[ke]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(jh.AFTER_NEXT_RENDER,n):n()}static \u0275prov=be({token:e,providedIn:"root",factory:()=>new e})}return e})(),Hf=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,n,r,i,o,s=null){this.impl=t,this.hooks=n,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let t=this.view?.[mo];t&&(this.view[mo]=t.filter(n=>n!==this))}};function Bh(e,t){!t?.injector&&lE(Bh);let n=t?.injector??ce(dn);return $s("NgAfterNextRender"),RS(e,n,t,!0)}function xS(e,t){if(e instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[t]=e,n}else return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function RS(e,t,n,r){let i=t.get(Vb);i.impl??=t.get(TS);let o=t.get(Po,null,{optional:!0}),s=n?.phase??po.MixedReadWrite,u=n?.manualCleanup!==!0?t.get(Oo):null,d=t.get(Lb,null,{optional:!0}),h=new Hf(i.impl,xS(e,s),d?.view,r,u,o?.snapshot(null));return i.impl.register(h),h}var OS=(e,t,n,r)=>{};function AS(e,t,n,r){OS(e,t,n,r)}var NS=()=>null;function jb(e,t,n=!1){return NS(e,t,n)}function Bb(e,t){let n=e.contentQueries;if(n!==null){let r=tt(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let u=e.data[s];Mh(o),u.contentQueries(2,t[s],s)}}}finally{tt(r)}}}function $f(e,t,n){Mh(0);let r=tt(null);try{t(e,n)}finally{tt(r)}}function Ub(e,t,n){if(Vy(t)){let r=tt(null);try{let i=t.directiveStart,o=t.directiveEnd;for(let s=i;s<o;s++){let u=e.data[s];if(u.contentQueries){let d=n[s];u.contentQueries(1,d,s)}}}finally{tt(r)}}}var ar=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(ar||{}),Tc;function kS(){if(Tc===void 0&&(Tc=null,bn.trustedTypes))try{Tc=bn.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Tc}function bu(e){return kS()?.createHTML(e)||e}var xc;function PS(){if(xc===void 0&&(xc=null,bn.trustedTypes))try{xc=bn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return xc}function Uv(e){return PS()?.createHTML(e)||e}var nu=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${hy})`}};function Uh(e){return e instanceof nu?e.changingThisBreaksApplicationSecurity:e}function FS(e,t){let n=LS(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${hy})`)}return n===t}function LS(e){return e instanceof nu&&e.getTypeName()||null}function VS(e){let t=new zf(e);return jS()?new qf(t):t}var qf=class{inertDocumentHelper;constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{let n=new window.DOMParser().parseFromString(bu(t),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(t):(n.firstChild?.remove(),n)}catch{return null}}},zf=class{defaultDoc;inertDocument;constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){let n=this.inertDocument.createElement("template");return n.innerHTML=bu(t),n}};function jS(){try{return!!new window.DOMParser().parseFromString(bu(""),"text/html")}catch{return!1}}var BS=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function US(e){return e=String(e),e.match(BS)?e:"unsafe:"+e}function kr(e){let t={};for(let n of e.split(","))t[n]=!0;return t}function qs(...e){let t={};for(let n of e)for(let r in n)n.hasOwnProperty(r)&&(t[r]=!0);return t}var Hb=kr("area,br,col,hr,img,wbr"),$b=kr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),qb=kr("rp,rt"),HS=qs(qb,$b),$S=qs($b,kr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),qS=qs(qb,kr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Hv=qs(Hb,$S,qS,HS),zb=kr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),zS=kr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),WS=kr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),GS=qs(zb,zS,WS),KS=kr("script,style,template"),Wf=class{sanitizedSomething=!1;buf=[];sanitizeChildren(t){let n=t.firstChild,r=!0,i=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){i.push(n),n=YS(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let o=ZS(n);if(o){n=o;break}n=i.pop()}}return this.buf.join("")}startElement(t){let n=$v(t).toLowerCase();if(!Hv.hasOwnProperty(n))return this.sanitizedSomething=!0,!KS.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=t.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,u=s.toLowerCase();if(!GS.hasOwnProperty(u)){this.sanitizedSomething=!0;continue}let d=o.value;zb[u]&&(d=US(d)),this.buf.push(" ",s,'="',qv(d),'"')}return this.buf.push(">"),!0}endElement(t){let n=$v(t).toLowerCase();Hv.hasOwnProperty(n)&&!Hb.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(t){this.buf.push(qv(t))}};function QS(e,t){return(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function ZS(e){let t=e.nextSibling;if(t&&e!==t.previousSibling)throw Wb(t);return t}function YS(e){let t=e.firstChild;if(t&&QS(e,t))throw Wb(t);return t}function $v(e){let t=e.nodeName;return typeof t=="string"?t:"FORM"}function Wb(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}var XS=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,JS=/([^\#-~ |!])/g;function qv(e){return e.replace(/&/g,"&amp;").replace(XS,function(t){let n=t.charCodeAt(0),r=t.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(JS,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Rc;function eM(e,t){let n=null;try{Rc=Rc||VS(e);let r=t?String(t):"";n=Rc.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Rc.getInertBodyElement(r)}while(r!==o);let u=new Wf().sanitizeChildren(zv(n)||n);return bu(u)}finally{if(n){let r=zv(n)||n;for(;r.firstChild;)r.firstChild.remove()}}}function zv(e){return"content"in e&&tM(e)?e.content:null}function tM(e){return e.nodeType===Node.ELEMENT_NODE&&e.nodeName==="TEMPLATE"}var Gb=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Gb||{});function Kb(e){let t=nM();return t?Uv(t.sanitize(Gb.HTML,e)||""):FS(e,"HTML")?Uv(Uh(e)):eM(Pb(),yo(e))}function nM(){let e=dt();return e&&e[Tr].sanitizer}function Qb(e){return e instanceof Function?e():e}function rM(e,t,n){let r=e.length;for(;;){let i=e.indexOf(t,n);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}var Zb="ng-template";function iM(e,t,n,r){let i=0;if(r){for(;i<t.length&&typeof t[i]=="string";i+=2)if(t[i]==="class"&&rM(t[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Hh(e))return!1;if(i=t.indexOf(1,i),i>-1){let o;for(;++i<t.length&&typeof(o=t[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Hh(e){return e.type===4&&e.value!==Zb}function oM(e,t,n){let r=e.type===4&&!n?Zb:e.value;return t===r}function sM(e,t,n){let r=4,i=e.attrs,o=i!==null?uM(i):0,s=!1;for(let u=0;u<t.length;u++){let d=t[u];if(typeof d=="number"){if(!s&&!Un(r)&&!Un(d))return!1;if(s&&Un(d))continue;s=!1,r=d|r&1;continue}if(!s)if(r&4){if(r=2|r&1,d!==""&&!oM(e,d,n)||d===""&&t.length===1){if(Un(r))return!1;s=!0}}else if(r&8){if(i===null||!iM(e,i,d,n)){if(Un(r))return!1;s=!0}}else{let h=t[++u],m=aM(d,i,Hh(e),n);if(m===-1){if(Un(r))return!1;s=!0;continue}if(h!==""){let _;if(m>o?_="":_=i[m+1].toLowerCase(),r&2&&h!==_){if(Un(r))return!1;s=!0}}}}return Un(r)||s}function Un(e){return(e&1)===0}function aM(e,t,n,r){if(t===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){let s=t[i];if(s===e)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let u=t[++i];for(;typeof u=="string";)u=t[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return lM(t,e)}function cM(e,t,n=!1){for(let r=0;r<t.length;r++)if(sM(e,t[r],n))return!0;return!1}function uM(e){for(let t=0;t<e.length;t++){let n=e[t];if(GE(n))return t}return e.length}function lM(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function Wv(e,t){return e?":not("+t.trim()+")":t}function dM(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(r&2){let u=e[++n];i+="["+s+(u.length>0?'="'+u+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Un(s)&&(t+=Wv(o,i),i=""),r=s,o=o||!Un(r);n++}return i!==""&&(t+=Wv(o,i)),t}function fM(e){return e.map(dM).join(",")}function hM(e){let t=[],n=[],r=1,i=2;for(;r<e.length;){let o=e[r];if(typeof o=="string")i===2?o!==""&&t.push(o,e[++r]):i===8&&n.push(o);else{if(!Un(i))break;i=o}r++}return n.length&&t.push(1,...n),t}var lr={};function pM(e,t){return e.createText(t)}function gM(e,t,n){e.setValue(t,n)}function Yb(e,t,n){return e.createElement(t,n)}function ru(e,t,n,r,i){e.insertBefore(t,n,r,i)}function Xb(e,t,n){e.appendChild(t,n)}function Gv(e,t,n,r,i){r!==null?ru(e,t,n,r,i):Xb(e,t,n)}function mM(e,t,n){e.removeChild(null,t,n)}function vM(e,t,n){e.setAttribute(t,"style",n)}function yM(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Jb(e,t,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&WE(e,t,r),i!==null&&yM(e,t,i),o!==null&&vM(e,t,o)}function $h(e,t,n,r,i,o,s,u,d,h,m){let _=$n+r,y=_+i,C=bM(_,y),E=typeof h=="function"?h():h;return C[Ge]={type:e,blueprint:C,template:n,queries:null,viewQuery:u,declTNode:t,data:C.slice().fill(null,_),bindingStartIndex:_,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:d,consts:E,incompleteFirstPass:!1,ssrId:m}}function bM(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:lr);return n}function _M(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=$h(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function qh(e,t,n,r,i,o,s,u,d,h,m){let _=t.blueprint.slice();return _[Or]=i,_[ke]=r|4|128|8|64|1024,(h!==null||e&&e[ke]&2048)&&(_[ke]|=2048),Wy(_),_[Xt]=_[Io]=e,_[ln]=n,_[Tr]=s||e&&e[Tr],_[jt]=u||e&&e[jt],_[_o]=d||e&&e[_o]||null,_[qn]=o,_[mu]=_S(),_[$c]=m,_[Fy]=h,_[nr]=t.type==2?e[nr]:_,_}function wM(e,t,n){let r=ur(t,e),i=_M(n),o=e[Tr].rendererFactory,s=zh(e,qh(e,i,null,e_(n),r,t,null,o.createRenderer(r,n),null,null,null));return e[t.index]=s}function e_(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function t_(e,t,n,r){if(n===0)return-1;let i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function zh(e,t){return e[As]?e[Iv][Hn]=t:e[As]=t,e[Iv]=t,t}function Te(e=1){n_(Jt(),dt(),qi()+e,!1)}function n_(e,t,n,r){if(!r)if((t[ke]&3)===3){let o=e.preOrderCheckHooks;o!==null&&kc(t,o,n)}else{let o=e.preOrderHooks;o!==null&&Pc(t,o,0,n)}ji(n)}var _u=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(_u||{});function Gf(e,t,n,r){let i=tt(null);try{let[o,s,u]=e.inputs[n],d=null;(s&_u.SignalBased)!==0&&(d=t[o][On]),d!==null&&d.transformFn!==void 0?r=d.transformFn(r):u!==null&&(r=u.call(t,r)),e.setInput!==null?e.setInput(t,d,r,n,o):jy(t,d,o,r)}finally{tt(i)}}function r_(e,t,n,r,i){let o=qi(),s=r&2;try{ji(-1),s&&t.length>$n&&n_(e,t,$n,!1),wt(s?2:0,i),n(r,i)}finally{ji(o),wt(s?3:1,i)}}function Wh(e,t,n){IM(e,t,n),(n.flags&64)===64&&TM(e,t,n)}function i_(e,t,n=ur){let r=t.localNames;if(r!==null){let i=t.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],u=s===-1?n(t,e):e[s];e[i++]=u}}}function CM(e,t,n,r){let o=r.get(SS,Fb)||n===ar.ShadowDom,s=e.selectRootElement(t,o);return DM(s),s}function DM(e){EM(e)}var EM=()=>null;function SM(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function o_(e,t,n,r,i,o,s,u){if(!u&&Gh(t,e,n,r,i)){To(t)&&MM(n,t.index);return}if(t.type&3){let d=ur(t,n);r=SM(r),i=s!=null?s(i,t.value||"",r):i,o.setProperty(d,r,i)}else t.type&12}function MM(e,t){let n=or(t,e);n[ke]&16||(n[ke]|=64)}function IM(e,t,n){let r=n.directiveStart,i=n.directiveEnd;To(n)&&wM(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||Xc(n,t);let o=n.initialInputs;for(let s=r;s<i;s++){let u=e.data[s],d=ks(t,e,s,n);if(Hs(d,t),o!==null&&AM(t,s-r,d,u,n,o),rr(u)){let h=or(n.index,t);h[ln]=ks(t,e,s,n)}}}function TM(e,t,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=FE();try{ji(o);for(let u=r;u<i;u++){let d=e.data[u],h=t[u];Af(u),(d.hostBindings!==null||d.hostVars!==0||d.hostAttrs!==null)&&xM(d,h)}}finally{ji(-1),Af(s)}}function xM(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function s_(e,t){let n=e.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];cM(t,o.selectors,!1)&&(r??=[],rr(o)?r.unshift(o):r.push(o))}return r}function RM(e,t,n,r,i,o){let s=ur(e,t);OM(t[jt],s,o,e.value,n,r,i)}function OM(e,t,n,r,i,o,s){if(o==null)e.removeAttribute(t,i,n);else{let u=s==null?yo(o):s(o,r||"",i);e.setAttribute(t,i,u,n)}}function AM(e,t,n,r,i,o){let s=o[t];if(s!==null)for(let u=0;u<s.length;u+=2){let d=s[u],h=s[u+1];Gf(r,n,d,h)}}function NM(e,t){let n=e[_o],r=n?n.get(sr,null):null;r&&r.handleError(t)}function Gh(e,t,n,r,i){let o=e.inputs?.[r],s=e.hostDirectiveInputs?.[r],u=!1;if(s)for(let d=0;d<s.length;d+=2){let h=s[d],m=s[d+1],_=t.data[h];Gf(_,n[h],m,i),u=!0}if(o)for(let d of o){let h=n[d],m=t.data[d];Gf(m,h,r,i),u=!0}return u}function kM(e,t){let n=or(t,e),r=n[Ge];PM(r,n);let i=n[Or];i!==null&&n[$c]===null&&(n[$c]=jb(i,n[_o])),wt(18),Kh(r,n,n[ln]),wt(19,n[ln])}function PM(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function Kh(e,t,n){Ih(t);try{let r=e.viewQuery;r!==null&&$f(1,r,n);let i=e.template;i!==null&&r_(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[xr]?.finishViewCreation(e),e.staticContentQueries&&Bb(e,t),e.staticViewQueries&&$f(2,e.viewQuery,n);let o=e.components;o!==null&&FM(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[ke]&=-5,Th()}}function FM(e,t){for(let n=0;n<t.length;n++)kM(e,t[n])}function LM(e,t,n,r){let i=tt(null);try{let o=t.tView,u=e[ke]&4096?4096:16,d=qh(e,o,n,u,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),h=e[t.index];d[Fi]=h;let m=e[xr];return m!==null&&(d[xr]=m.createEmbeddedView(o)),Kh(o,d,n),d}finally{tt(i)}}function Kv(e,t){return!t||t.firstChild===null||Tb(e)}var VM;function Qh(e,t){return VM(e,t)}var Rr=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Rr||{});function a_(e){return(e.flags&32)===32}function go(e,t,n,r,i){if(r!=null){let o,s=!1;Ar(r)?o=r:ni(r)&&(s=!0,r=r[Or]);let u=ir(r);e===0&&n!==null?i==null?Xb(t,n,u):ru(t,n,u,i||null,!0):e===1&&n!==null?ru(t,n,u,i||null,!0):e===2?mM(t,u,s):e===3&&t.destroyNode(u),o!=null&&ZM(t,e,o,n,i)}}function jM(e,t){c_(e,t),t[Or]=null,t[qn]=null}function BM(e,t,n,r,i,o){r[Or]=i,r[qn]=t,wu(e,r,n,1,i,o)}function c_(e,t){t[Tr].changeDetectionScheduler?.notify(9),wu(e,t,t[jt],2,null,null)}function UM(e){let t=e[As];if(!t)return gf(e[Ge],e);for(;t;){let n=null;if(ni(t))n=t[As];else{let r=t[yn];r&&(n=r)}if(!n){for(;t&&!t[Hn]&&t!==e;)ni(t)&&gf(t[Ge],t),t=t[Xt];t===null&&(t=e),ni(t)&&gf(t[Ge],t),n=t&&t[Hn]}t=n}}function Zh(e,t){let n=e[wo],r=n.indexOf(t);n.splice(r,1)}function u_(e,t){if(xo(t))return;let n=t[jt];n.destroyNode&&wu(e,t,n,3,null,null),UM(t)}function gf(e,t){if(xo(t))return;let n=tt(null);try{t[ke]&=-129,t[ke]|=256,t[Nn]&&nf(t[Nn]),$M(e,t),HM(e,t),t[Ge].type===1&&t[jt].destroy();let r=t[Fi];if(r!==null&&Ar(t[Xt])){r!==t[Xt]&&Zh(r,t);let i=t[xr];i!==null&&i.detachView(e)}Bf(t)}finally{tt(n)}}function HM(e,t){let n=e.cleanup,r=t[qc];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let u=n[s+3];u>=0?r[u]():r[-u].unsubscribe(),s+=2}else{let u=r[n[s+1]];n[s].call(u)}r!==null&&(t[qc]=null);let i=t[ti];if(i!==null){t[ti]=null;for(let s=0;s<i.length;s++){let u=i[s];u()}}let o=t[zc];if(o!==null){t[zc]=null;for(let s of o)s.destroy()}}function $M(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=t[n[r]];if(!(i instanceof Bi)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let u=i[o[s]],d=o[s+1];wt(4,u,d);try{d.call(u)}finally{wt(5,u,d)}}else{wt(4,i,o);try{o.call(i)}finally{wt(5,i,o)}}}}}function qM(e,t,n){return zM(e,t.parent,n)}function zM(e,t,n){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return n[Or];if(To(r)){let{encapsulation:i}=e.data[r.directiveStart+r.componentOffset];if(i===ar.None||i===ar.Emulated)return null}return ur(r,n)}function WM(e,t,n){return KM(e,t,n)}function GM(e,t,n){return e.type&40?ur(e,n):null}var KM=GM,Qv;function Yh(e,t,n,r){let i=qM(e,r,t),o=t[jt],s=r.parent||t[qn],u=WM(s,r,t);if(i!=null)if(Array.isArray(n))for(let d=0;d<n.length;d++)Gv(o,i,n[d],u,!1);else Gv(o,i,n,u,!1);Qv!==void 0&&Qv(o,r,t,n,i)}function Ts(e,t){if(t!==null){let n=t.type;if(n&3)return ur(t,e);if(n&4)return Kf(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return Ts(e,r);{let i=e[t.index];return Ar(i)?Kf(-1,i):ir(i)}}else{if(n&128)return Ts(e,t.next);if(n&32)return Qh(t,e)()||ir(e[t.index]);{let r=l_(e,t);if(r!==null){if(Array.isArray(r))return r[0];let i=Vi(e[nr]);return Ts(i,r)}else return Ts(e,t.next)}}}return null}function l_(e,t){if(t!==null){let r=e[nr][qn],i=t.projection;return r.projection[i]}return null}function Kf(e,t){let n=yn+e+1;if(n<t.length){let r=t[n],i=r[Ge].firstChild;if(i!==null)return Ts(r,i)}return t[Li]}function Xh(e,t,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let u=r[n.index],d=n.type;if(s&&t===0&&(u&&Hs(ir(u),r),n.flags|=2),!a_(n))if(d&8)Xh(e,t,n.child,r,i,o,!1),go(t,e,i,u,o);else if(d&32){let h=Qh(n,r),m;for(;m=h();)go(t,e,i,m,o);go(t,e,i,u,o)}else d&16?QM(e,t,r,n,i,o):go(t,e,i,u,o);n=s?n.projectionNext:n.next}}function wu(e,t,n,r,i,o){Xh(n,r,e.firstChild,t,i,o,!1)}function QM(e,t,n,r,i,o){let s=n[nr],d=s[qn].projection[r.projection];if(Array.isArray(d))for(let h=0;h<d.length;h++){let m=d[h];go(t,e,i,m,o)}else{let h=d,m=s[Xt];Tb(r)&&(h.flags|=128),Xh(e,t,h,m,i,o,!0)}}function ZM(e,t,n,r,i){let o=n[Li],s=ir(n);o!==s&&go(t,e,r,o,i);for(let u=yn;u<n.length;u++){let d=n[u];wu(d[Ge],d,e,t,r,o)}}function YM(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Rr.DashCase;i==null?e.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Rr.Important),e.setStyle(n,r,i,o))}}function iu(e,t,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=t[n.index];o!==null&&r.push(ir(o)),Ar(o)&&XM(o,r);let s=n.type;if(s&8)iu(e,t,n.child,r);else if(s&32){let u=Qh(n,t),d;for(;d=u();)r.push(d)}else if(s&16){let u=l_(t,n);if(Array.isArray(u))r.push(...u);else{let d=Vi(t[nr]);iu(d[Ge],d,u,r,!0)}}n=i?n.projectionNext:n.next}return r}function XM(e,t){for(let n=yn;n<e.length;n++){let r=e[n],i=r[Ge].firstChild;i!==null&&iu(r[Ge],r,i,t)}e[Li]!==e[Or]&&t.push(e[Li])}function d_(e){if(e[mo]!==null){for(let t of e[mo])t.impl.addSequence(t);e[mo].length=0}}var f_=[];function JM(e){return e[Nn]??eI(e)}function eI(e){let t=f_.pop()??Object.create(nI);return t.lView=e,t}function tI(e){e.lView[Nn]!==e&&(e.lView=null,f_.push(e))}var nI=Je(ge({},Cs),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{js(e.lView)},consumerOnSignalRead(){this.lView[Nn]=this}});function rI(e){let t=e[Nn]??Object.create(iI);return t.lView=e,t}var iI=Je(ge({},Cs),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=Vi(e.lView);for(;t&&!h_(t[Ge]);)t=Vi(t);t&&Gy(t)},consumerOnSignalRead(){this.lView[Nn]=this}});function h_(e){return e.type!==2}function p_(e){if(e[zc]===null)return;let t=!0;for(;t;){let n=!1;for(let r of e[zc])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=n&&!!(e[ke]&8192)}}var oI=100;function g_(e,t=!0,n=0){let i=e[Tr].rendererFactory,o=!1;o||i.begin?.();try{sI(e,n)}catch(s){throw t&&NM(e,s),s}finally{o||i.end?.()}}function sI(e,t){let n=Xy();try{xv(!0),Qf(e,t);let r=0;for(;vu(e);){if(r===oI)throw new we(103,!1);r++,Qf(e,1)}}finally{xv(n)}}function aI(e,t,n,r){if(xo(t))return;let i=t[ke],o=!1,s=!1;Ih(t);let u=!0,d=null,h=null;o||(h_(e)?(h=JM(t),d=Cc(h)):Zd()===null?(u=!1,h=rI(t),d=Cc(h)):t[Nn]&&(nf(t[Nn]),t[Nn]=null));try{Wy(t),NE(e.bindingStartIndex),n!==null&&r_(e,t,n,2,r);let m=(i&3)===3;if(!o)if(m){let C=e.preOrderCheckHooks;C!==null&&kc(t,C,null)}else{let C=e.preOrderHooks;C!==null&&Pc(t,C,0,null),hf(t,0)}if(s||cI(t),p_(t),m_(t,0),e.contentQueries!==null&&Bb(e,t),!o)if(m){let C=e.contentCheckHooks;C!==null&&kc(t,C)}else{let C=e.contentHooks;C!==null&&Pc(t,C,1),hf(t,1)}lI(e,t);let _=e.components;_!==null&&y_(t,_,0);let y=e.viewQuery;if(y!==null&&$f(2,y,r),!o)if(m){let C=e.viewCheckHooks;C!==null&&kc(t,C)}else{let C=e.viewHooks;C!==null&&Pc(t,C,2),hf(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[ff]){for(let C of t[ff])C();t[ff]=null}o||(d_(t),t[ke]&=-73)}catch(m){throw o||js(t),m}finally{h!==null&&(ef(h,d),u&&tI(h)),Th()}}function m_(e,t){for(let n=Ob(e);n!==null;n=Ab(n))for(let r=yn;r<n.length;r++){let i=n[r];v_(i,t)}}function cI(e){for(let t=Ob(e);t!==null;t=Ab(t)){if(!(t[ke]&2))continue;let n=t[wo];for(let r=0;r<n.length;r++){let i=n[r];Gy(i)}}}function uI(e,t,n){wt(18);let r=or(t,e);v_(r,n),wt(19,r[ln])}function v_(e,t){Dh(e)&&Qf(e,t)}function Qf(e,t){let r=e[Ge],i=e[ke],o=e[Nn],s=!!(t===0&&i&16);if(s||=!!(i&64&&t===0),s||=!!(i&1024),s||=!!(o?.dirty&&tf(o)),s||=!1,o&&(o.dirty=!1),e[ke]&=-9217,s)aI(r,e,r.template,e[ln]);else if(i&8192){p_(e),m_(e,1);let u=r.components;u!==null&&y_(e,u,1),d_(e)}}function y_(e,t,n){for(let r=0;r<t.length;r++)uI(e,t[r],n)}function lI(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)ji(~i);else{let o=i,s=n[++r],u=n[++r];PE(s,o);let d=t[o];wt(24,d),u(2,d),wt(25,d)}}}finally{ji(-1)}}function Jh(e,t){let n=Xy()?64:1088;for(e[Tr].changeDetectionScheduler?.notify(t);e;){e[ke]|=n;let r=Vi(e);if(Gc(e)&&!r)return e;e=r}return null}function b_(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function dI(e,t,n,r=!0){let i=t[Ge];if(fI(i,t,e,n),r){let s=Kf(n,e),u=t[jt],d=u.parentNode(e[Li]);d!==null&&BM(i,e[qn],u,t,d,s)}let o=t[$c];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Zf(e,t){if(e.length<=yn)return;let n=yn+t,r=e[n];if(r){let i=r[Fi];i!==null&&i!==e&&Zh(i,r),t>0&&(e[n-1][Hn]=r[Hn]);let o=Uc(e,yn+t);jM(r[Ge],r);let s=o[xr];s!==null&&s.detachView(o[Ge]),r[Xt]=null,r[Hn]=null,r[ke]&=-129}return r}function fI(e,t,n,r){let i=yn+r,o=n.length;r>0&&(n[i-1][Hn]=t),r<o-yn?(t[Hn]=n[i],Iy(n,yn+r,t)):(n.push(t),t[Hn]=null),t[Xt]=n;let s=t[Fi];s!==null&&n!==s&&__(s,t);let u=t[xr];u!==null&&u.insertView(e),Rf(t),t[ke]|=128}function __(e,t){let n=e[wo],r=t[Xt];if(ni(r))e[ke]|=2;else{let i=r[Xt][nr];t[nr]!==i&&(e[ke]|=2)}n===null?e[wo]=[t]:n.push(t)}var Ps=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let t=this._lView,n=t[Ge];return iu(n,t,n.firstChild,[])}constructor(t,n,r=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=r}get context(){return this._lView[ln]}set context(t){this._lView[ln]=t}get destroyed(){return xo(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[Xt];if(Ar(t)){let n=t[Wc],r=n?n.indexOf(this):-1;r>-1&&(Zf(t,r),Uc(n,r))}this._attachedToViewContainer=!1}u_(this._lView[Ge],this._lView)}onDestroy(t){Ky(this._lView,t)}markForCheck(){Jh(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ke]&=-129}reattach(){Rf(this._lView),this._lView[ke]|=128}detectChanges(){this._lView[ke]|=1024,g_(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new we(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=Gc(this._lView),n=this._lView[Fi];n!==null&&!t&&Zh(n,this._lView),c_(this._lView[Ge],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new we(902,!1);this._appRef=t;let n=Gc(this._lView),r=this._lView[Fi];r!==null&&!n&&__(r,this._lView),Rf(this._lView)}};var Ui=(()=>{class e{static __NG_ELEMENT_ID__=gI}return e})(),hI=Ui,pI=class extends hI{_declarationLView;_declarationTContainer;elementRef;constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){let i=LM(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:r});return new Ps(i)}};function gI(){return ep(_n(),dt())}function ep(e,t){return e.type&4?new pI(t,e,No(e,t)):null}function tp(e,t,n,r,i){let o=e.data[t];if(o===null)o=mI(e,t,n,r,i),kE()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=RE();o.injectorIndex=s===null?-1:s.injectorIndex}return Bs(o,!0),o}function mI(e,t,n,r,i){let o=Zy(),s=Yy(),u=s?o:o&&o.parent,d=e.data[t]=yI(e,u,n,t,r,i);return vI(e,d,o,s),d}function vI(e,t,n,r){e.firstChild===null&&(e.firstChild=t),n!==null&&(r?n.child==null&&t.parent!==null&&(n.child=t):n.next===null&&(n.next=t,t.prev=n))}function yI(e,t,n,r,i,o){let s=t?t.injectorIndex:-1,u=0;return IE()&&(u|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:u,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var qN=new RegExp(`^(\\d+)*(${ES}|${DS})*(.*)`);var bI=()=>null;function Zv(e,t){return bI(e,t)}var _I=class{},w_=class{},Yf=class{resolveComponentFactory(t){throw Error(`No component factory found for ${cn(t)}.`)}},Cu=class{static NULL=new Yf},Do=class{},Pr=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>wI()}return e})();function wI(){let e=dt(),t=_n(),n=or(t.index,e);return(ni(n)?n:e)[jt]}var CI=(()=>{class e{static \u0275prov=be({token:e,providedIn:"root",factory:()=>null})}return e})();var mf={},Xf=class{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=pu(r);let i=this.injector.get(t,mf,r);return i!==mf||n===mf?i:this.parentInjector.get(t,n,r)}};function Yv(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let u=t[s];if(typeof u=="number")o=u;else if(o==1)i=_v(i,u);else if(o==2){let d=u,h=t[++s];r=_v(r,d+": "+h+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function Ae(e,t=He.Default){let n=dt();if(n===null)return Re(e,t);let r=_n();return mb(r,n,rn(e),t)}function C_(){let e="invalid";throw new Error(e)}function D_(e,t,n,r,i){let o=r===null?null:{"":-1},s=i(e,n);if(s!==null){let u,d=null,h=null,m=EI(s);m===null?u=s:[u,d,h]=m,II(e,t,n,u,o,d,h)}o!==null&&r!==null&&DI(n,r,o)}function DI(e,t,n){let r=e.localNames=[];for(let i=0;i<t.length;i+=2){let o=n[t[i+1]];if(o==null)throw new we(-301,!1);r.push(t[i],o)}}function EI(e){let t=null,n=!1;for(let s=0;s<e.length;s++){let u=e[s];if(s===0&&rr(u)&&(t=u),u.findHostDirectiveDefs!==null){n=!0;break}}if(!n)return null;let r=null,i=null,o=null;for(let s of e)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,SI(s,r,o,i)),s===t&&(r??=[],r.push(s));return r!==null?(r.push(...t===null?e:e.slice(1)),[r,i,o]):null}function SI(e,t,n,r){let i=t.length;e.findHostDirectiveDefs(e,t,r),n.set(e,[i,t.length-1])}function MI(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function II(e,t,n,r,i,o,s){let u=r.length,d=!1;for(let y=0;y<u;y++){let C=r[y];!d&&rr(C)&&(d=!0,MI(e,n,y)),kf(Xc(n,t),e,C.type)}NI(n,e.data.length,u);for(let y=0;y<u;y++){let C=r[y];C.providersResolver&&C.providersResolver(C)}let h=!1,m=!1,_=t_(e,t,u,null);u>0&&(n.directiveToIndex=new Map);for(let y=0;y<u;y++){let C=r[y];if(n.mergedAttrs=Ns(n.mergedAttrs,C.hostAttrs),xI(e,n,t,_,C),AI(_,C,i),s!==null&&s.has(C)){let[R,V]=s.get(C);n.directiveToIndex.set(C.type,[_,R+n.directiveStart,V+n.directiveStart])}else(o===null||!o.has(C))&&n.directiveToIndex.set(C.type,_);C.contentQueries!==null&&(n.flags|=4),(C.hostBindings!==null||C.hostAttrs!==null||C.hostVars!==0)&&(n.flags|=64);let E=C.type.prototype;!h&&(E.ngOnChanges||E.ngOnInit||E.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),h=!0),!m&&(E.ngOnChanges||E.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),m=!0),_++}TI(e,n,o)}function TI(e,t,n){for(let r=t.directiveStart;r<t.directiveEnd;r++){let i=e.data[r];if(n===null||!n.has(i))Xv(0,t,i,r),Xv(1,t,i,r),ey(t,r,!1);else{let o=n.get(i);Jv(0,t,o,r),Jv(1,t,o,r),ey(t,r,!0)}}}function Xv(e,t,n,r){let i=e===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;e===0?s=t.inputs??={}:s=t.outputs??={},s[o]??=[],s[o].push(r),E_(t,o)}}function Jv(e,t,n,r){let i=e===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],u;e===0?u=t.hostDirectiveInputs??={}:u=t.hostDirectiveOutputs??={},u[s]??=[],u[s].push(r,o),E_(t,s)}}function E_(e,t){t==="class"?e.flags|=8:t==="style"&&(e.flags|=16)}function ey(e,t,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=e;if(r===null||!n&&i===null||n&&o===null||Hh(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,u=0;for(;u<r.length;){let d=r[u];if(d===0){u+=4;continue}else if(d===5){u+=2;continue}else if(typeof d=="number")break;if(!n&&i.hasOwnProperty(d)){let h=i[d];for(let m of h)if(m===t){s??=[],s.push(d,r[u+1]);break}}else if(n&&o.hasOwnProperty(d)){let h=o[d];for(let m=0;m<h.length;m+=2)if(h[m]===t){s??=[],s.push(h[m+1],r[u+1]);break}}u+=2}e.initialInputs??=[],e.initialInputs.push(s)}function xI(e,t,n,r,i){e.data[r]=i;let o=i.factory||(i.factory=Ni(i.type,!0)),s=new Bi(o,rr(i),Ae);e.blueprint[r]=s,n[r]=s,RI(e,t,r,t_(e,n,i.hostVars,lr),i)}function RI(e,t,n,r,i){let o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let u=~t.index;OI(s)!=u&&s.push(u),s.push(n,r,o)}}function OI(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function AI(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;rr(t)&&(n[""]=e)}}function NI(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function S_(e,t,n,r,i,o,s,u){let d=t.consts,h=Kc(d,s),m=tp(t,e,2,r,h);return o&&D_(t,n,m,Kc(d,u),i),m.mergedAttrs=Ns(m.mergedAttrs,m.attrs),m.attrs!==null&&Yv(m,m.attrs,!1),m.mergedAttrs!==null&&Yv(m,m.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,m),m}function M_(e,t){cb(e,t),Vy(t)&&e.queries.elementEnd(t)}var ou=class extends Cu{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=Pi(t);return new Eo(n,this.ngModule)}};function kI(e){return Object.keys(e).map(t=>{let[n,r,i]=e[t],o={propName:n,templateName:t,isSignal:(r&_u.SignalBased)!==0};return i&&(o.transform=i),o})}function PI(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}function FI(e,t,n){let r=t instanceof un?t:t?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new Xf(n,r):n}function LI(e){let t=e.get(Do,null);if(t===null)throw new we(407,!1);let n=e.get(CI,null),r=e.get(Co,null);return{rendererFactory:t,sanitizer:n,changeDetectionScheduler:r}}function VI(e,t){let n=(e.selectors[0][0]||"div").toLowerCase();return Yb(t,n,n==="svg"?$y:n==="math"?mE:null)}var Eo=class extends w_{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=kI(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=PI(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=fM(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,r,i){wt(22);let o=tt(null);try{let s=this.componentDef,u=r?["ng-version","19.2.15"]:hM(this.componentDef.selectors[0]),d=$h(0,null,null,1,0,null,null,null,null,[u],null),h=FI(s,i||this.ngModule,t),m=LI(h),_=m.rendererFactory.createRenderer(null,s),y=r?CM(_,r,s.encapsulation,h):VI(s,_),C=qh(null,d,null,512|e_(s),null,null,m,_,h,null,jb(y,h,!0));C[$n]=y,Ih(C);let E=null;try{let R=S_($n,d,C,"#host",()=>[this.componentDef],!0,0);y&&(Jb(_,y,R),Hs(y,C)),Wh(d,C,R),Ub(d,R,C),M_(d,R),n!==void 0&&jI(R,this.ngContentSelectors,n),E=or(R.index,C),C[ln]=E[ln],Kh(d,C,null)}catch(R){throw E!==null&&Bf(E),Bf(C),R}finally{wt(23),Th()}return new Jf(this.componentType,C)}finally{tt(o)}}},Jf=class extends _I{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n){super(),this._rootLView=n,this._tNode=zy(n[Ge],$n),this.location=No(this._tNode,n),this.instance=or(this._tNode.index,n)[ln],this.hostView=this.changeDetectorRef=new Ps(n,void 0,!1),this.componentType=t}setInput(t,n){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let i=this._rootLView,o=Gh(r,i[Ge],i,t,n);this.previousInputValues.set(t,n);let s=or(r.index,i);Jh(s,1)}get injector(){return new Ai(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function jI(e,t,n){let r=e.projection=[];for(let i=0;i<t.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var oi=(()=>{class e{static __NG_ELEMENT_ID__=BI}return e})();function BI(){let e=_n();return T_(e,dt())}var UI=oi,I_=class extends UI{_lContainer;_hostTNode;_hostLView;constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return No(this._hostTNode,this._hostLView)}get injector(){return new Ai(this._hostTNode,this._hostLView)}get parentInjector(){let t=Nh(this._hostTNode,this._hostLView);if(lb(t)){let n=Zc(t,this._hostLView),r=Qc(t),i=n[Ge].data[r+8];return new Ai(i,n)}else return new Ai(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=ty(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-yn}createEmbeddedView(t,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Zv(this._lContainer,t.ssrId),u=t.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(u,i,Kv(this._hostTNode,s)),u}createComponent(t,n,r,i,o){let s=t&&!fE(t),u;if(s)u=n;else{let E=n||{};u=E.index,r=E.injector,i=E.projectableNodes,o=E.environmentInjector||E.ngModuleRef}let d=s?t:new Eo(Pi(t)),h=r||this.parentInjector;if(!o&&d.ngModule==null){let R=(s?h:this.parentInjector).get(un,null);R&&(o=R)}let m=Pi(d.componentType??{}),_=Zv(this._lContainer,m?.id??null),y=_?.firstChild??null,C=d.create(h,i,y,o);return this.insertImpl(C.hostView,u,Kv(this._hostTNode,_)),C}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){let i=t._lView;if(_E(i)){let u=this.indexOf(t);if(u!==-1)this.detach(u);else{let d=i[Xt],h=new I_(d,d[qn],d[Xt]);h.detach(h.indexOf(t))}}let o=this._adjustIndex(n),s=this._lContainer;return dI(s,i,o,r),t.attachToViewContainerRef(),Iy(vf(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=ty(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=Zf(this._lContainer,n);r&&(Uc(vf(this._lContainer),n),u_(r[Ge],r))}detach(t){let n=this._adjustIndex(t,-1),r=Zf(this._lContainer,n);return r&&Uc(vf(this._lContainer),n)!=null?new Ps(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function ty(e){return e[Wc]}function vf(e){return e[Wc]||(e[Wc]=[])}function T_(e,t){let n,r=t[e.index];return Ar(r)?n=r:(n=b_(r,t,null,e),t[e.index]=n,zh(t,n)),$I(n,t,e,r),new I_(n,e,t)}function HI(e,t){let n=e[jt],r=n.createComment(""),i=ur(t,e),o=n.parentNode(i);return ru(n,o,r,n.nextSibling(i),!1),r}var $I=WI,qI=()=>!1;function zI(e,t,n){return qI(e,t,n)}function WI(e,t,n,r){if(e[Li])return;let i;n.type&8?i=ir(r):i=HI(t,n),e[Li]=i}var eh=class e{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},th=class e{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){let n=t.queries;if(n!==null){let r=t.contentQueries!==null?t.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),u=this.queries[s.indexInDeclarationView];i.push(u.clone())}return new e(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)np(t,n).matches!==null&&this.queries[n].setDirty()}},nh=class{flags;read;predicate;constructor(t,n,r=null){this.flags=n,this.read=r,typeof t=="string"?this.predicate=eT(t):this.predicate=t}},rh=class e{queries;constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new e(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},ih=class e{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,n=-1){this.metadata=t,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=t.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(t,n,GI(n,o)),this.matchTNodeWithReadOption(t,n,Fc(n,t,o,!1,!1))}else r===Ui?n.type&4&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Fc(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===wn||i===oi||i===Ui&&n.type&4)this.addMatch(n.index,-2);else{let o=Fc(n,t,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(t,n){this.matches===null?this.matches=[t,n]:this.matches.push(t,n)}};function GI(e,t){let n=e.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1]}return null}function KI(e,t){return e.type&11?No(e,t):e.type&4?ep(e,t):null}function QI(e,t,n,r){return n===-1?KI(t,e):n===-2?ZI(e,t,r):ks(e,e[Ge],n,t)}function ZI(e,t,n){if(n===wn)return No(t,e);if(n===Ui)return ep(t,e);if(n===oi)return T_(t,e)}function x_(e,t,n,r){let i=t[xr].queries[r];if(i.matches===null){let o=e.data,s=n.matches,u=[];for(let d=0;s!==null&&d<s.length;d+=2){let h=s[d];if(h<0)u.push(null);else{let m=o[h];u.push(QI(t,m,s[d+1],n.metadata.read))}}i.matches=u}return i.matches}function oh(e,t,n,r){let i=e.queries.getByIndex(n),o=i.matches;if(o!==null){let s=x_(e,t,i,n);for(let u=0;u<o.length;u+=2){let d=o[u];if(d>0)r.push(s[u/2]);else{let h=o[u+1],m=t[-d];for(let _=yn;_<m.length;_++){let y=m[_];y[Fi]===y[Xt]&&oh(y[Ge],y,h,r)}if(m[wo]!==null){let _=m[wo];for(let y=0;y<_.length;y++){let C=_[y];oh(C[Ge],C,h,r)}}}}}return r}function YI(e,t){return e[xr].queries[t].queryList}function XI(e,t,n){let r=new jf((n&4)===4);return DE(e,t,r,r.destroy),(t[xr]??=new th).queries.push(new eh(r))-1}function JI(e,t,n){let r=Jt();return r.firstCreatePass&&(tT(r,new nh(e,t,n),-1),(t&2)===2&&(r.staticViewQueries=!0)),XI(r,dt(),t)}function eT(e){return e.split(",").map(t=>t.trim())}function tT(e,t,n){e.queries===null&&(e.queries=new rh),e.queries.track(new ih(t,n))}function np(e,t){return e.queries.getByIndex(t)}function nT(e,t){let n=e[Ge],r=np(n,t);return r.crossesNgTemplate?oh(n,e,t,[]):x_(n,e,r,t)}function rT(e){let t=[],n=new Map;function r(i){let o=n.get(i);if(!o){let s=e(i);n.set(i,o=s.then(aT))}return o}return su.forEach((i,o)=>{let s=[];i.templateUrl&&s.push(r(i.templateUrl).then(h=>{i.template=h}));let u=typeof i.styles=="string"?[i.styles]:i.styles||[];if(i.styles=u,i.styleUrl&&i.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(i.styleUrls?.length){let h=i.styles.length,m=i.styleUrls;i.styleUrls.forEach((_,y)=>{u.push(""),s.push(r(_).then(C=>{u[h+y]=C,m.splice(m.indexOf(_),1),m.length==0&&(i.styleUrls=void 0)}))})}else i.styleUrl&&s.push(r(i.styleUrl).then(h=>{u.push(h),i.styleUrl=void 0}));let d=Promise.all(s).then(()=>cT(o));t.push(d)}),oT(),Promise.all(t).then(()=>{})}var su=new Map,iT=new Set;function oT(){let e=su;return su=new Map,e}function sT(){return su.size===0}function aT(e){return typeof e=="string"?e:e.text()}function cT(e){iT.delete(e)}var So=class{},rp=class{};var au=class extends So{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new ou(this);constructor(t,n,r,i=!0){super(),this.ngModuleType=t,this._parent=n;let o=Ry(t);this._bootstrapComponents=Qb(o.bootstrap),this._r3Injector=bb(t,n,[{provide:So,useValue:this},{provide:Cu,useValue:this.componentFactoryResolver},...r],cn(t),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},cu=class extends rp{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new au(this.moduleType,t,[])}};function uT(e,t,n){return new au(e,t,n,!1)}var sh=class extends So{injector;componentFactoryResolver=new ou(this);instance=null;constructor(t){super();let n=new Os([...t.providers,{provide:So,useValue:this},{provide:Cu,useValue:this.componentFactoryResolver}],t.parent||_h(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function zs(e,t,n=null){return new sh({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var lT=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Ay(!1,n.type),i=r.length>0?zs([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=be({token:e,providedIn:"environment",factory:()=>new e(Re(un))})}return e})();function Rt(e){return Ls(()=>{let t=R_(e),n=Je(ge({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===xb.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?i=>i.get(lT).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||ar.Emulated,styles:e.styles||An,_:null,schemas:e.schemas||null,tView:null,id:""});t.standalone&&$s("NgStandalone"),O_(n);let r=e.dependencies;return n.directiveDefs=ny(r,!1),n.pipeDefs=ny(r,!0),n.id=gT(n),n})}function dT(e){return Pi(e)||XD(e)}function fT(e){return e!==null}function _t(e){return Ls(()=>({type:e.type,bootstrap:e.bootstrap||An,declarations:e.declarations||An,imports:e.imports||An,exports:e.exports||An,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function hT(e,t){if(e==null)return ki;let n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r],o,s,u,d;Array.isArray(i)?(u=i[0],o=i[1],s=i[2]??o,d=i[3]||null):(o=i,s=i,u=_u.None,d=null),n[o]=[r,u,d],t[o]=s}return n}function pT(e){if(e==null)return ki;let t={};for(let n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function kt(e){return Ls(()=>{let t=R_(e);return O_(t),t})}function Du(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function R_(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||ki,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||An,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:hT(e.inputs,t),outputs:pT(e.outputs),debugInfo:null}}function O_(e){e.features?.forEach(t=>t(e))}function ny(e,t){if(!e)return null;let n=t?JD:dT;return()=>(typeof e=="function"?e():e).map(r=>n(r)).filter(fT)}function gT(e){let t=0,n=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,n,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let o of r.join("|"))t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function mT(e){return Object.getPrototypeOf(e.prototype).constructor}function Pn(e){let t=mT(e.type),n=!0,r=[e];for(;t;){let i;if(rr(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new we(903,!1);i=t.\u0275dir}if(i){if(n){r.push(i);let s=e;s.inputs=yf(e.inputs),s.declaredInputs=yf(e.declaredInputs),s.outputs=yf(e.outputs);let u=i.hostBindings;u&&wT(e,u);let d=i.viewQuery,h=i.contentQueries;if(d&&bT(e,d),h&&_T(e,h),vT(e,i),TD(e.outputs,i.outputs),rr(i)&&i.data.animation){let m=e.data;m.animation=(m.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let u=o[s];u&&u.ngInherit&&u(e),u===Pn&&(n=!1)}}t=Object.getPrototypeOf(t)}yT(r)}function vT(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let r=t.inputs[n];r!==void 0&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n])}}function yT(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){let i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Ns(i.hostAttrs,n=Ns(n,i.hostAttrs))}}function yf(e){return e===ki?{}:e===An?[]:e}function bT(e,t){let n=e.viewQuery;n?e.viewQuery=(r,i)=>{t(r,i),n(r,i)}:e.viewQuery=t}function _T(e,t){let n=e.contentQueries;n?e.contentQueries=(r,i,o)=>{t(r,i,o),n(r,i,o)}:e.contentQueries=t}function wT(e,t){let n=e.hostBindings;n?e.hostBindings=(r,i)=>{t(r,i),n(r,i)}:e.hostBindings=t}function A_(e){return DT(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function CT(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{let n=e[Symbol.iterator](),r;for(;!(r=n.next()).done;)t(r.value)}}function DT(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function N_(e,t,n){return e[t]=n}function ET(e,t){return e[t]}function ri(e,t,n){let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function ST(e,t,n,r){let i=ri(e,t,n);return ri(e,t+1,r)||i}function MT(e,t,n,r,i,o,s,u,d){let h=t.consts,m=tp(t,e,4,s||null,u||null);Qy()&&D_(t,n,m,Kc(h,d),s_),m.mergedAttrs=Ns(m.mergedAttrs,m.attrs),cb(t,m);let _=m.tView=$h(2,m,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,h,null);return t.queries!==null&&(t.queries.template(t,m),_.queries=t.queries.embeddedTView(m)),m}function IT(e,t,n,r,i,o,s,u,d,h){let m=n+$n,_=t.firstCreatePass?MT(m,t,e,r,i,o,s,u,d):t.data[m];Bs(_,!1);let y=TT(t,e,_,n);Oh()&&Yh(t,e,y,_),Hs(y,e);let C=b_(y,e,y,_);return e[m]=C,zh(e,C),zI(C,_,e),Ch(_)&&Wh(t,e,_),d!=null&&i_(e,_,h),_}function St(e,t,n,r,i,o,s,u){let d=dt(),h=Jt(),m=Kc(h.consts,o);return IT(d,h,e,t,n,r,i,m,s,u),St}var TT=xT;function xT(e,t,n,r){return Ah(!0),t[jt].createComment("")}var k_=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=be({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var ip=new Me(""),Ws=new Me(""),Eu=(()=>{class e{_ngZone;registry;_isZoneStable=!0;_callbacks=[];_taskTrackingZone=null;_destroyRef;constructor(n,r,i){this._ngZone=n,this.registry=r,wh()&&(this._destroyRef=ce(Oo,{optional:!0})??void 0),op||(RT(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this._taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){let n=this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),r=this._ngZone.runOutsideAngular(()=>this._ngZone.onStable.subscribe({next:()=>{Et.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}}));this._destroyRef?.onDestroy(()=>{n.unsubscribe(),r.unsubscribe()})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb()}});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(n)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this._taskTrackingZone?this._taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n()},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:i})}whenStable(n,r,i){if(i&&!this._taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static \u0275fac=function(r){return new(r||e)(Re(Et),Re(Su),Re(Ws))};static \u0275prov=be({token:e,factory:e.\u0275fac})}return e})(),Su=(()=>{class e{_applications=new Map;registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return op?.findTestabilityInTree(this,n,r)??null}static \u0275fac=function(r){return new(r||e)};static \u0275prov=be({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function RT(e){op=e}var op,OT=(()=>{class e{static \u0275prov=be({token:e,providedIn:"root",factory:()=>new ah})}return e})(),ah=class{queuedEffectCount=0;queues=new Map;schedule(t){this.enqueue(t)}remove(t){let n=t.zone,r=this.queues.get(n);r.has(t)&&(r.delete(t),this.queuedEffectCount--)}enqueue(t){let n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(t)||(this.queuedEffectCount++,r.add(t))}flush(){for(;this.queuedEffectCount>0;)for(let[t,n]of this.queues)t===null?this.flushQueue(n):t.run(()=>this.flushQueue(n))}flushQueue(t){for(let n of t)t.delete(n),this.queuedEffectCount--,n.run()}};function si(e){return!!e&&typeof e.then=="function"}function sp(e){return!!e&&typeof e.subscribe=="function"}var P_=new Me("");function ap(e){return Oy([{provide:P_,multi:!0,useValue:e}])}var F_=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=ce(P_,{optional:!0})??[];injector=ce(dn);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=kn(this.injector,i);if(si(o))n.push(o);else if(sp(o)){let s=new Promise((u,d)=>{o.subscribe({complete:u,error:d})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=be({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),cp=new Me("");function AT(){of(()=>{throw new we(600,!1)})}function NT(e){return e.isBoundToModule}var kT=10;function L_(e,t){return Array.isArray(t)?t.reduce(L_,e):ge(ge({},e),t)}var ii=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=ce(fS);afterRenderManager=ce(Vb);zonelessEnabled=ce(wb);rootEffectScheduler=ce(OT);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new We;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=ce(Ao).hasPendingTasks.pipe(et(n=>!n));constructor(){ce(Po,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=ce(un);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=dn.NULL){wt(10);let o=n instanceof w_;if(!this._injector.get(F_).done){let C="";throw new we(405,C)}let u;o?u=n:u=this._injector.get(Cu).resolveComponentFactory(n),this.componentTypes.push(u.componentType);let d=NT(u)?void 0:this._injector.get(So),h=r||u.selector,m=u.create(i,[],h,d),_=m.location.nativeElement,y=m.injector.get(ip,null);return y?.registerApplication(_),m.onDestroy(()=>{this.detachView(m.hostView),Lc(this.components,m),y?.unregisterApplication(_)}),this._loadComponent(m),wt(11,m),m}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){wt(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(jh.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new we(101,!1);let n=tt(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,tt(n),this.afterTick.next(),wt(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Do,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<kT;)wt(14),this.synchronizeOnce(),wt(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)PT(r,i,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>vu(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Lc(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(cp,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Lc(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new we(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=be({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Lc(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function PT(e,t,n,r){if(!n&&!vu(e))return;g_(e,t,n&&!r?0:1)}function Fo(e,t,n,r){let i=dt(),o=yu();if(ri(i,o,t)){let s=Jt(),u=xh();RM(u,i,e,t,n,r)}return Fo}function FT(e,t,n,r){return ri(e,yu(),n)?t+yo(n)+r:lr}function LT(e,t,n,r,i,o){let s=AE(),u=ST(e,s,n,i);return eb(2),u?t+yo(n)+r+yo(i)+o:lr}function Oc(e,t){return e<<17|t<<2}function Hi(e){return e>>17&32767}function VT(e){return(e&2)==2}function jT(e,t){return e&131071|t<<17}function ch(e){return e|2}function Mo(e){return(e&131068)>>2}function bf(e,t){return e&-131069|t<<2}function BT(e){return(e&1)===1}function uh(e){return e|1}function UT(e,t,n,r,i,o){let s=o?t.classBindings:t.styleBindings,u=Hi(s),d=Mo(s);e[r]=n;let h=!1,m;if(Array.isArray(n)){let _=n;m=_[1],(m===null||Vs(_,m)>0)&&(h=!0)}else m=n;if(i)if(d!==0){let y=Hi(e[u+1]);e[r+1]=Oc(y,u),y!==0&&(e[y+1]=bf(e[y+1],r)),e[u+1]=jT(e[u+1],r)}else e[r+1]=Oc(u,0),u!==0&&(e[u+1]=bf(e[u+1],r)),u=r;else e[r+1]=Oc(d,0),u===0?u=r:e[d+1]=bf(e[d+1],r),d=r;h&&(e[r+1]=ch(e[r+1])),ry(e,m,r,!0),ry(e,m,r,!1),HT(t,m,e,r,o),s=Oc(u,d),o?t.classBindings=s:t.styleBindings=s}function HT(e,t,n,r,i){let o=i?e.residualClasses:e.residualStyles;o!=null&&typeof t=="string"&&Vs(o,t)>=0&&(n[r+1]=uh(n[r+1]))}function ry(e,t,n,r){let i=e[n+1],o=t===null,s=r?Hi(i):Mo(i),u=!1;for(;s!==0&&(u===!1||o);){let d=e[s],h=e[s+1];$T(d,t)&&(u=!0,e[s+1]=r?uh(h):ch(h)),s=r?Hi(h):Mo(h)}u&&(e[n+1]=r?ch(i):uh(i))}function $T(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?Vs(e,t)>=0:!1}function ut(e,t,n){let r=dt(),i=yu();if(ri(r,i,t)){let o=Jt(),s=xh();o_(o,s,r,e,t,r[jt],n,!1)}return ut}function iy(e,t,n,r,i){Gh(t,e,n,i?"class":"style",r)}function Lo(e,t){return qT(e,t,null,!0),Lo}function qT(e,t,n,r){let i=dt(),o=Jt(),s=eb(2);if(o.firstUpdatePass&&WT(o,e,s,r),t!==lr&&ri(i,s,t)){let u=o.data[qi()];YT(o,u,i,i[jt],e,i[s+1]=XT(t,n),r,s)}}function zT(e,t){return t>=e.expandoStartIndex}function WT(e,t,n,r){let i=e.data;if(i[n+1]===null){let o=i[qi()],s=zT(e,n);JT(o,r)&&t===null&&!s&&(t=!1),t=GT(i,o,t,r),UT(i,o,t,n,s,r)}}function GT(e,t,n,r){let i=LE(e),o=r?t.residualClasses:t.residualStyles;if(i===null)(r?t.classBindings:t.styleBindings)===0&&(n=_f(null,e,t,n,r),n=Fs(n,t.attrs,r),o=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==i)if(n=_f(i,e,t,n,r),o===null){let d=KT(e,t,r);d!==void 0&&Array.isArray(d)&&(d=_f(null,e,t,d[1],r),d=Fs(d,t.attrs,r),QT(e,t,r,d))}else o=ZT(e,t,r)}return o!==void 0&&(r?t.residualClasses=o:t.residualStyles=o),n}function KT(e,t,n){let r=n?t.classBindings:t.styleBindings;if(Mo(r)!==0)return e[Hi(r)]}function QT(e,t,n,r){let i=n?t.classBindings:t.styleBindings;e[Hi(i)]=r}function ZT(e,t,n){let r,i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++){let s=e[o].hostAttrs;r=Fs(r,s,n)}return Fs(r,t.attrs,n)}function _f(e,t,n,r,i){let o=null,s=n.directiveEnd,u=n.directiveStylingLast;for(u===-1?u=n.directiveStart:u++;u<s&&(o=t[u],r=Fs(r,o.hostAttrs,i),o!==e);)u++;return e!==null&&(n.directiveStylingLast=u),r}function Fs(e,t,n){let r=n?1:2,i=-1;if(t!==null)for(let o=0;o<t.length;o++){let s=t[o];typeof s=="number"?i=s:i===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),ZD(e,s,n?!0:t[++o]))}return e===void 0?null:e}function YT(e,t,n,r,i,o,s,u){if(!(t.type&3))return;let d=e.data,h=d[u+1],m=BT(h)?oy(d,t,n,i,Mo(h),s):void 0;if(!uu(m)){uu(o)||VT(h)&&(o=oy(d,null,n,i,u,s));let _=qy(qi(),n);YM(r,s,_,i,o)}}function oy(e,t,n,r,i,o){let s=t===null,u;for(;i>0;){let d=e[i],h=Array.isArray(d),m=h?d[1]:d,_=m===null,y=n[i+1];y===lr&&(y=_?An:void 0);let C=_?lf(y,r):m===r?y:void 0;if(h&&!uu(C)&&(C=lf(d,r)),uu(C)&&(u=C,s))return u;let E=e[i+1];i=s?Hi(E):Mo(E)}if(t!==null){let d=o?t.residualClasses:t.residualStyles;d!=null&&(u=lf(d,r))}return u}function uu(e){return e!==void 0}function XT(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=cn(Uh(e)))),e}function JT(e,t){return(e.flags&(t?8:16))!==0}function re(e,t,n,r){let i=dt(),o=Jt(),s=$n+e,u=i[jt],d=o.firstCreatePass?S_(s,o,i,t,s_,Qy(),n,r):o.data[s],h=ex(o,i,d,u,t,e);i[s]=h;let m=Ch(d);return Bs(d,!0),Jb(u,h,d),!a_(d)&&Oh()&&Yh(o,i,h,d),(EE()===0||m)&&Hs(h,i),SE(),m&&(Wh(o,i,d),Ub(o,d,i)),r!==null&&i_(i,d),re}function ie(){let e=_n();Yy()?OE():(e=e.parent,Bs(e,!1));let t=e;TE(t)&&xE(),ME();let n=Jt();return n.firstCreatePass&&M_(n,t),t.classesWithoutHost!=null&&qE(t)&&iy(n,t,dt(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&zE(t)&&iy(n,t,dt(),t.stylesWithoutHost,!1),ie}function Ot(e,t,n,r){return re(e,t,n,r),ie(),Ot}var ex=(e,t,n,r,i,o)=>(Ah(!0),Yb(r,i,UE()));function zt(){return dt()}var lu="en-US";var tx=lu;function nx(e){typeof e=="string"&&(tx=e.toLowerCase().replace(/_/g,"-"))}function sy(e,t,n){return function r(i){if(i===Function)return n;let o=To(e)?or(e.index,t):t;Jh(o,5);let s=t[ln],u=ay(t,s,n,i),d=r.__ngNextListenerFn__;for(;d;)u=ay(t,s,d,i)&&u,d=d.__ngNextListenerFn__;return u}}function ay(e,t,n,r){let i=tt(null);try{return wt(6,t,n),n(r)!==!1}catch(o){return rx(e,o),!1}finally{wt(7,t,n),tt(i)}}function rx(e,t){let n=e[_o],r=n?n.get(sr,null):null;r&&r.handleError(t)}function cy(e,t,n,r,i,o){let s=t[n],u=t[Ge],h=u.data[n].outputs[r],m=s[h],_=u.firstCreatePass?Sh(u):null,y=Eh(t),C=m.subscribe(o),E=y.length;y.push(o,C),_&&_.push(i,e.index,E,-(E+1))}function Pe(e,t,n,r){let i=dt(),o=Jt(),s=_n();return V_(o,i,i[jt],s,e,t,r),Pe}function ix(e,t,n,r){let i=e.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let u=t[qc],d=i[o+2];return u.length>d?u[d]:null}typeof s=="string"&&(o+=2)}return null}function V_(e,t,n,r,i,o,s){let u=Ch(r),h=e.firstCreatePass?Sh(e):null,m=Eh(t),_=!0;if(r.type&3||s){let y=ur(r,t),C=s?s(y):y,E=m.length,R=s?D=>s(ir(D[r.index])):r.index,V=null;if(!s&&u&&(V=ix(e,t,i,r.index)),V!==null){let D=V.__ngLastListenerFn__||V;D.__ngNextListenerFn__=o,V.__ngLastListenerFn__=o,_=!1}else{o=sy(r,t,o),AS(t,C,i,o);let D=n.listen(C,i,o);m.push(o,D),h&&h.push(i,R,E,E+1)}}else o=sy(r,t,o);if(_){let y=r.outputs?.[i],C=r.hostDirectiveOutputs?.[i];if(C&&C.length)for(let E=0;E<C.length;E+=2){let R=C[E],V=C[E+1];cy(r,t,R,V,i,o)}if(y&&y.length)for(let E of y)cy(r,t,E,i,i,o)}}function Ye(e=1){return jE(e)}function Mu(e,t,n){JI(e,t,n)}function Gs(e){let t=dt(),n=Jt(),r=tb();Mh(r+1);let i=np(n,r);if(e.dirty&&bE(t)===((i.metadata.flags&2)===2)){if(i.matches===null)e.reset([]);else{let o=nT(t,r);e.reset(o,gS),e.notifyOnChanges()}return!0}return!1}function Ks(){return YI(dt(),tb())}function fe(e,t=""){let n=dt(),r=Jt(),i=e+$n,o=r.firstCreatePass?tp(r,i,1,t,null):r.data[i],s=ox(r,n,o,t,e);n[i]=s,Oh()&&Yh(r,n,s,o),Bs(o,!1)}var ox=(e,t,n,r,i)=>(Ah(!0),pM(t[jt],r));function on(e){return Cn("",e,""),on}function Cn(e,t,n){let r=dt(),i=FT(r,e,t,n);return i!==lr&&j_(r,qi(),i),Cn}function up(e,t,n,r,i){let o=dt(),s=LT(o,e,t,n,r,i);return s!==lr&&j_(o,qi(),s),up}function j_(e,t,n){let r=qy(t,e);gM(e[jt],r,n)}function zn(e,t,n){Ib(t)&&(t=t());let r=dt(),i=yu();if(ri(r,i,t)){let o=Jt(),s=xh();o_(o,s,r,e,t,r[jt],n,!1)}return zn}function dr(e,t){let n=Ib(e);return n&&e.set(t),n}function Wn(e,t){let n=dt(),r=Jt(),i=_n();return V_(r,n,n[jt],i,e,t),Wn}function sx(e,t,n){let r=Jt();if(r.firstCreatePass){let i=rr(e);lh(n,r.data,r.blueprint,i,!0),lh(t,r.data,r.blueprint,i,!1)}}function lh(e,t,n,r,i){if(e=rn(e),Array.isArray(e))for(let o=0;o<e.length;o++)lh(e[o],t,n,r,i);else{let o=Jt(),s=dt(),u=_n(),d=bo(e)?e:rn(e.provide),h=Py(e),m=u.providerIndexes&1048575,_=u.directiveStart,y=u.providerIndexes>>20;if(bo(e)||!e.multi){let C=new Bi(h,i,Ae),E=Cf(d,t,i?m:m+y,_);E===-1?(kf(Xc(u,s),o,d),wf(o,e,t.length),t.push(d),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),n.push(C),s.push(C)):(n[E]=C,s[E]=C)}else{let C=Cf(d,t,m+y,_),E=Cf(d,t,m,m+y),R=C>=0&&n[C],V=E>=0&&n[E];if(i&&!V||!i&&!R){kf(Xc(u,s),o,d);let D=ux(i?cx:ax,n.length,i,r,h);!i&&V&&(n[E].providerFactory=D),wf(o,e,t.length,0),t.push(d),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),n.push(D),s.push(D)}else{let D=B_(n[i?E:C],h,!i&&r);wf(o,e,C>-1?C:E,D)}!i&&r&&V&&n[E].componentProviders++}}}function wf(e,t,n,r){let i=bo(t),o=iE(t);if(i||o){let d=(o?rn(t.useClass):t).prototype.ngOnDestroy;if(d){let h=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){let m=h.indexOf(n);m===-1?h.push(n,[r,d]):h[m+1].push(r,d)}else h.push(n,d)}}}function B_(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Cf(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function ax(e,t,n,r,i){return dh(this.multi,[])}function cx(e,t,n,r,i){let o=this.multi,s;if(this.providerFactory){let u=this.providerFactory.componentProviders,d=ks(r,r[Ge],this.providerFactory.index,i);s=d.slice(0,u),dh(o,s);for(let h=u;h<d.length;h++)s.push(d[h])}else s=[],dh(o,s);return s}function dh(e,t){for(let n=0;n<e.length;n++){let r=e[n];t.push(r())}return t}function ux(e,t,n,r,i){let o=new Bi(e,n,Ae);return o.multi=[],o.index=t,o.componentProviders=0,B_(o,i,r&&!n),o}function ai(e,t=[]){return n=>{n.providersResolver=(r,i)=>sx(r,i?i(e):e,t)}}function U_(e,t,n){let r=Jy()+e,i=dt();return i[r]===lr?N_(i,r,n?t.call(n):t()):ET(i,r)}function lx(e,t){let n=e[t];return n===lr?void 0:n}function dx(e,t,n,r,i,o){let s=t+n;return ri(e,s,i)?N_(e,s+1,o?r.call(o,i):r(i)):lx(e,s+1)}function fr(e,t){let n=Jt(),r,i=e+$n;n.firstCreatePass?(r=fx(t,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=Ni(r.type,!0)),s,u=an(Ae);try{let d=Yc(!1),h=o();return Yc(d),yE(n,dt(),i,h),h}finally{an(u)}}function fx(e,t){if(t)for(let n=t.length-1;n>=0;n--){let r=t[n];if(e===r.name)return r}}function hr(e,t,n){let r=e+$n,i=dt(),o=vE(i,r);return hx(i,r)?dx(i,Jy(),t,o.transform,n,o):o.transform(n)}function hx(e,t){return e[Ge].data[t].pure}var Ac=null;function px(e){Ac!==null&&(e.defaultEncapsulation!==Ac.defaultEncapsulation||e.preserveWhitespaces!==Ac.preserveWhitespaces)||(Ac=e)}var fh=class{ngModuleFactory;componentFactories;constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},H_=(()=>{class e{compileModuleSync(n){return new cu(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=Ry(n),o=Qb(i.declarations).reduce((s,u)=>{let d=Pi(u);return d&&s.push(new Eo(d)),s},[]);return new fh(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=be({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),gx=new Me("");function mx(e,t,n){let r=new cu(n);return Promise.resolve(r)}function uy(e){for(let t=e.length-1;t>=0;t--)if(e[t]!==void 0)return e[t]}var vx=(()=>{class e{zone=ce(Et);changeDetectionScheduler=ce(Co);applicationRef=ce(ii);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=be({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function yx({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new Et(Je(ge({},$_()),{scheduleInRootZone:n})),[{provide:Et,useFactory:e},{provide:Rs,multi:!0,useFactory:()=>{let r=ce(vx,{optional:!0});return()=>r.initialize()}},{provide:Rs,multi:!0,useFactory:()=>{let r=ce(bx);return()=>{r.initialize()}}},t===!0?{provide:Cb,useValue:!0}:[],{provide:Db,useValue:n??_b}]}function $_(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var bx=(()=>{class e{subscription=new Qr;initialized=!1;zone=ce(Et);pendingTasks=ce(Ao);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Et.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Et.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=be({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var _x=(()=>{class e{appRef=ce(ii);taskService=ce(Ao);ngZone=ce(Et);zonelessEnabled=ce(wb);tracing=ce(Po,{optional:!0});disableScheduling=ce(Cb,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Qr;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(eu):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(ce(Db,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof tu||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?Pv:Eb;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(eu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Pv(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=be({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function wx(){return typeof $localize<"u"&&$localize.locale||lu}var lp=new Me("",{providedIn:"root",factory:()=>ce(lp,He.Optional|He.SkipSelf)||wx()});var du=new Me(""),Cx=new Me("");function Ms(e){return!e.moduleRef}function Dx(e){let t=Ms(e)?e.r3Injector:e.moduleRef.injector,n=t.get(Et);return n.run(()=>{Ms(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=t.get(sr,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),Ms(e)){let o=()=>t.destroy(),s=e.platformInjector.get(du);s.add(o),t.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(du);s.add(o),e.moduleRef.onDestroy(()=>{Lc(e.allPlatformModules,e.moduleRef),i.unsubscribe(),s.delete(o)})}return Sx(r,n,()=>{let o=t.get(F_);return o.runInitializers(),o.donePromise.then(()=>{let s=t.get(lp,lu);if(nx(s||lu),!t.get(Cx,!0))return Ms(e)?t.get(ii):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(Ms(e)){let d=t.get(ii);return e.rootComponent!==void 0&&d.bootstrap(e.rootComponent),d}else return Ex(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}function Ex(e,t){let n=e.injector.get(ii);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(n);else throw new we(-403,!1);t.push(e)}function Sx(e,t,n){try{let r=n();return si(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}var q_=(()=>{class e{_injector;_modules=[];_destroyListeners=[];_destroyed=!1;constructor(n){this._injector=n}bootstrapModuleFactory(n,r){let i=r?.scheduleInRootZone,o=()=>dS(r?.ngZone,Je(ge({},$_({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing})),{scheduleInRootZone:i})),s=r?.ignoreChangesOutsideZone,u=[yx({ngZoneFactory:o,ignoreChangesOutsideZone:s}),{provide:Co,useExisting:_x}],d=uT(n.moduleType,this.injector,u);return Dx({moduleRef:d,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(n,r=[]){let i=L_({},r);return mx(this.injector,i,n).then(o=>this.bootstrapModuleFactory(o,i))}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new we(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());let n=this._injector.get(du,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static \u0275fac=function(r){return new(r||e)(Re(dn))};static \u0275prov=be({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),dp=null;function Mx(e){if(hp())throw new we(400,!1);AT(),dp=e;let t=e.get(q_);return xx(e),t}function fp(e,t,n=[]){let r=`Platform: ${t}`,i=new Me(r);return(o=[])=>{let s=hp();if(!s){let u=[...n,...o,{provide:i,useValue:!0}];s=e?.(u)??Mx(Ix(u,r))}return Tx(i)}}function Ix(e=[],t){return dn.create({name:t,providers:[{provide:gu,useValue:"platform"},{provide:du,useValue:new Set([()=>dp=null])},...e]})}function Tx(e){let t=hp();if(!t)throw new we(401,!1);return t}function hp(){return dp?.get(q_)??null}function xx(e){let t=e.get(Lh,null);kn(e,()=>{t?.forEach(n=>n())})}var ci=(()=>{class e{static __NG_ELEMENT_ID__=Rx}return e})();function Rx(e){return Ox(_n(),dt(),(e&16)===16)}function Ox(e,t,n){if(To(e)&&!n){let r=or(e.index,t);return new Ps(r,r)}else if(e.type&175){let r=t[nr];return new Ps(r,t)}return null}var hh=class{constructor(){}supports(t){return A_(t)}create(t){return new ph(t)}},Ax=(e,t)=>t,ph=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||Ax}forEachItem(t){let n;for(n=this._itHead;n!==null;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<ly(r,i,o)?n:r,u=ly(s,i,o),d=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let h=u-i,m=d-i;if(h!=m){for(let y=0;y<h;y++){let C=y<o.length?o[y]:o[y]=0,E=C+y;m<=E&&E<h&&(o[y]=C+1)}let _=s.previousIndex;o[_]=m-h}}u!==d&&t(s,u,d)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)t(n)}diff(t){if(t==null&&(t=[]),!A_(t))throw new we(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(t)){this.length=t.length;for(let u=0;u<this.length;u++)o=t[u],s=this._trackByFn(u,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,u),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,u)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,CT(t,u=>{s=this._trackByFn(i,u),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,u,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,u,s,i)),Object.is(n.item,u)||this._addIdentityChange(n,u)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,i){let o;return t===null?o=this._itTail:(o=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,o,i)):(t=this._linkedRecords===null?null:this._linkedRecords.get(r,i),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,o,i)):t=this._addAfter(new gh(n,r),o,i)),t}_verifyReinsertion(t,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;t!==null;){let n=t._next;this._addToRemovals(this._unlink(t)),t=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let i=t._prevRemoved,o=t._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){let i=n===null?this._itHead:n._next;return t._next=i,t._prev=n,i===null?this._itTail=t:i._prev=t,n===null?this._itHead=t:n._next=t,this._linkedRecords===null&&(this._linkedRecords=new fu),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let n=t._prev,r=t._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new fu),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},gh=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,n){this.item=t,this.trackById=n}},mh=class{_head=null;_tail=null;add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){let n=t._prevDup,r=t._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},fu=class{map=new Map;put(t){let n=t.trackById,r=this.map.get(n);r||(r=new mh,this.map.set(n,r)),r.add(t)}get(t,n){let r=t,i=this.map.get(r);return i?i.get(t,n):null}remove(t){let n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function ly(e,t,n){let r=e.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}function dy(){return new pp([new hh])}var pp=(()=>{class e{factories;static \u0275prov=be({token:e,providedIn:"root",factory:dy});constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||dy()),deps:[[e,new WD,new zD]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new we(901,!1)}}return e})();var z_=fp(null,"core",[]),W_=(()=>{class e{constructor(n){}static \u0275fac=function(r){return new(r||e)(Re(ii))};static \u0275mod=_t({type:e});static \u0275inj=bt({})}return e})();function Qs(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function Gn(e){return cf(e)}function Zs(e,t){return rf(e,t?.equal)}var fy=class{[On];constructor(t){this[On]=t}destroy(){this[On].destroy()}};function G_(e){let t=Pi(e);if(!t)return null;let n=new Eo(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}var Wt=new Me("");var Z_=null;function Dn(){return Z_}function gp(e){Z_??=e}var Ys=class{},Xs=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=be({token:e,factory:()=>ce(Y_),providedIn:"platform"})}return e})(),mp=new Me(""),Y_=(()=>{class e extends Xs{_location;_history;_doc=ce(Wt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Dn().getBaseHref(this._doc)}onPopState(n){let r=Dn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Dn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=be({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function Iu(e,t){return e?t?e.endsWith("/")?t.startsWith("/")?e+t.slice(1):e+t:t.startsWith("/")?e+t:`${e}/${t}`:e:t}function K_(e){let t=e.search(/#|\?|$/);return e[t-1]==="/"?e.slice(0,t-1)+e.slice(t):e}function Kn(e){return e&&e[0]!=="?"?`?${e}`:e}var Fr=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=be({token:e,factory:()=>ce(xu),providedIn:"root"})}return e})(),Tu=new Me(""),xu=(()=>{class e extends Fr{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??ce(Wt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Iu(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Kn(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Kn(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Kn(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(Re(Xs),Re(Tu,8))};static \u0275prov=be({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),ui=(()=>{class e{_subject=new We;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=Px(K_(Q_(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Kn(r))}normalize(n){return e.stripTrailingSlash(kx(this._basePath,Q_(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Kn(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Kn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Kn;static joinWithSlash=Iu;static stripTrailingSlash=K_;static \u0275fac=function(r){return new(r||e)(Re(Fr))};static \u0275prov=be({token:e,factory:()=>Nx(),providedIn:"root"})}return e})();function Nx(){return new ui(Re(Fr))}function kx(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function Q_(e){return e.replace(/\/index.html$/,"")}function Px(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}var _p=(()=>{class e extends Fr{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=Iu(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Kn(o))||this._platformLocation.pathname;this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Kn(o))||this._platformLocation.pathname;this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(Re(Xs),Re(Tu,8))};static \u0275prov=be({token:e,factory:e.\u0275fac})}return e})();var vp=/\s+/,X_=[],wp=(()=>{class e{_ngEl;_renderer;initialClasses=X_;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(vp):X_}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(vp):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(vp).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||e)(Ae(wn),Ae(Pr))};static \u0275dir=kt({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return e})();var Ru=class{$implicit;ngForOf;index;count;constructor(t,n,r,i){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},li=(()=>{class e{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Ru(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let u=r.get(o);r.move(u,s),J_(u,i)}});for(let i=0,o=r.length;i<o;i++){let u=r.get(i).context;u.index=i,u.count=o,u.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);J_(o,i)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(Ae(oi),Ae(Ui),Ae(pp))};static \u0275dir=kt({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return e})();function J_(e,t){e.context.$implicit=t.item}var En=(()=>{class e{_viewContainer;_context=new Ou;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){e0(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){e0(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(Ae(oi),Ae(Ui))};static \u0275dir=kt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return e})(),Ou=class{$implicit=null;ngIf=null};function e0(e,t){if(e&&!e.createEmbeddedView)throw new we(2020,!1)}function Lx(e,t){return new we(2100,!1)}var yp=class{createSubscription(t,n){return Gn(()=>t.subscribe({next:n,error:r=>{throw r}}))}dispose(t){Gn(()=>t.unsubscribe())}},bp=class{createSubscription(t,n){return t.then(r=>n?.(r),r=>{throw r}),{unsubscribe:()=>{n=null}}}dispose(t){t.unsubscribe()}},Vx=new bp,jx=new yp,Js=(()=>{class e{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(n){this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(si(n))return Vx;if(sp(n))return jx;throw Lx(e,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||e)(Ae(ci,16))};static \u0275pipe=Du({name:"async",type:e,pure:!1})}return e})();var Bt=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=_t({type:e});static \u0275inj=bt({})}return e})();function Cp(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}var Dp="browser",t0="server";function Au(e){return e===t0}var ea=class{};var n0=(()=>{class e{static \u0275prov=be({token:e,providedIn:"root",factory:()=>new Ep(ce(Wt),window)})}return e})(),Ep=class{document;window;offset=()=>[0,0];constructor(t,n){this.document=t,this.window=n}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t){this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){let n=Ux(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){this.window.history.scrollRestoration=t}scrollToElement(t){let n=t.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function Ux(e,t){let n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}i=r.nextNode()}}return null}var Pu=new Me(""),Tp=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new we(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||e)(Re(Pu),Re(Et))};static \u0275prov=be({token:e,factory:e.\u0275fac})}return e})(),ta=class{_doc;constructor(t){this._doc=t}manager},Nu="ng-app-id";function r0(e){for(let t of e)t.remove()}function i0(e,t){let n=t.createElement("style");return n.textContent=e,n}function Hx(e,t,n,r){let i=e.head?.querySelectorAll(`style[${Nu}="${t}"],link[${Nu}="${t}"]`);if(i)for(let o of i)o.removeAttribute(Nu),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function Mp(e,t){let n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}var xp=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.isServer=Au(o),Hx(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,i0);r?.forEach(i=>this.addUsage(i,this.external,Mp))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(r0(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])r0(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,i0(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,Mp(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Nu,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||e)(Re(Wt),Re(Fh),Re(Vh,8),Re(ko))};static \u0275prov=be({token:e,factory:e.\u0275fac})}return e})(),Sp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Rp=/%COMP%/g;var s0="%COMP%",$x=`_nghost-${s0}`,qx=`_ngcontent-${s0}`,zx=!0,Wx=new Me("",{providedIn:"root",factory:()=>zx});function Gx(e){return qx.replace(Rp,e)}function Kx(e){return $x.replace(Rp,e)}function a0(e,t){return t.map(n=>n.replace(Rp,e))}var Op=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,u,d,h=null,m=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=u,this.ngZone=d,this.nonce=h,this.tracingService=m,this.platformIsServer=Au(u),this.defaultRenderer=new na(n,s,d,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===ar.ShadowDom&&(r=Je(ge({},r),{encapsulation:ar.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof ku?i.applyToHost(n):i instanceof ra&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,u=this.ngZone,d=this.eventManager,h=this.sharedStylesHost,m=this.removeStylesOnCompDestroy,_=this.platformIsServer,y=this.tracingService;switch(r.encapsulation){case ar.Emulated:o=new ku(d,h,r,this.appId,m,s,u,_,y);break;case ar.ShadowDom:return new Ip(d,h,n,r,s,u,this.nonce,_,y);default:o=new ra(d,h,r,m,s,u,_,y);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||e)(Re(Tp),Re(xp),Re(Fh),Re(Wx),Re(Wt),Re(ko),Re(Et),Re(Vh),Re(Po,8))};static \u0275prov=be({token:e,factory:e.\u0275fac})}return e})(),na=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,r,i,o){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(Sp[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(o0(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(o0(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){n.remove()}selectRootElement(t,n){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new we(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;let o=Sp[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){let i=Sp[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(Rr.DashCase|Rr.Important)?t.style.setProperty(n,r,i&Rr.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&Rr.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t!=null&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r,i){if(typeof t=="string"&&(t=Dn().getGlobalEventTarget(this.doc,t),!t))throw new we(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,n,o)),this.eventManager.addEventListener(t,n,o,i)}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))===!1&&n.preventDefault()}}};function o0(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var Ip=class extends na{sharedStylesHost;hostEl;shadowRoot;constructor(t,n,r,i,o,s,u,d,h){super(t,o,s,d,h),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let m=i.styles;m=a0(i.id,m);for(let y of m){let C=document.createElement("style");u&&C.setAttribute("nonce",u),C.textContent=y,this.shadowRoot.appendChild(C)}let _=i.getExternalStyles?.();if(_)for(let y of _){let C=Mp(y,o);u&&C.setAttribute("nonce",u),this.shadowRoot.appendChild(C)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ra=class extends na{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,n,r,i,o,s,u,d,h){super(t,o,s,u,d),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let m=r.styles;this.styles=h?a0(h,m):m,this.styleUrls=r.getExternalStyles?.(h)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},ku=class extends ra{contentAttr;hostAttr;constructor(t,n,r,i,o,s,u,d,h){let m=i+"-"+r.id;super(t,n,r,o,s,u,d,h,m),this.contentAttr=Gx(m),this.hostAttr=Kx(m)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}};var Fu=class e extends Ys{supportsDOMEvents=!0;static makeCurrent(){gp(new e)}onAndCancel(t,n,r,i){return t.addEventListener(n,r,i),()=>{t.removeEventListener(n,r,i)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=Qx();return n==null?null:Zx(n)}resetBaseElement(){ia=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Cp(document.cookie,t)}},ia=null;function Qx(){return ia=ia||document.head.querySelector("base"),ia?ia.getAttribute("href"):null}function Zx(e){return new URL(e,document.baseURI).pathname}var Lu=class{addToWindow(t){bn.getAngularTestability=(r,i=!0)=>{let o=t.findTestabilityInTree(r,i);if(o==null)throw new we(5103,!1);return o},bn.getAllAngularTestabilities=()=>t.getAllTestabilities(),bn.getAllAngularRootElements=()=>t.getAllRootElements();let n=r=>{let i=bn.getAllAngularTestabilities(),o=i.length,s=function(){o--,o==0&&r()};i.forEach(u=>{u.whenStable(s)})};bn.frameworkStabilizers||(bn.frameworkStabilizers=[]),bn.frameworkStabilizers.push(n)}findTestabilityInTree(t,n,r){if(n==null)return null;let i=t.getTestability(n);return i??(r?Dn().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},Yx=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=be({token:e,factory:e.\u0275fac})}return e})(),u0=(()=>{class e extends ta{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||e)(Re(Wt))};static \u0275prov=be({token:e,factory:e.\u0275fac})}return e})(),c0=["alt","control","meta","shift"],Xx={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Jx={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},l0=(()=>{class e extends ta{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=e.parseEventName(r),u=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Dn().onAndCancel(n,s.domEventName,u,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=e._normalizeKey(r.pop()),s="",u=r.indexOf("code");if(u>-1&&(r.splice(u,1),s="code."),c0.forEach(h=>{let m=r.indexOf(h);m>-1&&(r.splice(m,1),s+=h+".")}),s+=o,r.length!=0||o.length===0)return null;let d={};return d.domEventName=i,d.fullKey=s,d}static matchEventFullKeyCode(n,r){let i=Xx[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),c0.forEach(s=>{if(s!==i){let u=Jx[s];u(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{e.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||e)(Re(Wt))};static \u0275prov=be({token:e,factory:e.\u0275fac})}return e})();function e1(){Fu.makeCurrent()}function t1(){return new sr}function n1(){return kb(document),document}var r1=[{provide:ko,useValue:Dp},{provide:Lh,useValue:e1,multi:!0},{provide:Wt,useFactory:n1}],Ap=fp(z_,"browser",r1);var i1=[{provide:Ws,useClass:Lu},{provide:ip,useClass:Eu,deps:[Et,Su,Ws]},{provide:Eu,useClass:Eu,deps:[Et,Su,Ws]}],o1=[{provide:gu,useValue:"root"},{provide:sr,useFactory:t1},{provide:Pu,useClass:u0,multi:!0,deps:[Wt]},{provide:Pu,useClass:l0,multi:!0,deps:[Wt]},Op,xp,Tp,{provide:Do,useExisting:Op},{provide:ea,useClass:Yx},[]],Np=(()=>{class e{constructor(){}static \u0275fac=function(r){return new(r||e)};static \u0275mod=_t({type:e});static \u0275inj=bt({providers:[...o1,...i1],imports:[Bt,W_]})}return e})();var d0=(()=>{class e{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||e)(Re(Wt))};static \u0275prov=be({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var _0=(()=>{class e{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||e)(Ae(Pr),Ae(wn))};static \u0275dir=kt({type:e})}return e})(),w0=(()=>{class e extends _0{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Nr(e)))(i||e)}})();static \u0275dir=kt({type:e,features:[Pn]})}return e})(),Lp=new Me("");var a1={provide:Lp,useExisting:cr(()=>pr),multi:!0};function c1(){let e=Dn()?Dn().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var u1=new Me(""),pr=(()=>{class e extends _0{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!c1())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||e)(Ae(Pr),Ae(wn),Ae(u1,8))};static \u0275dir=kt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Pe("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[ai([a1]),Pn]})}return e})();function l1(e){return e==null||d1(e)===0}function d1(e){return e==null?null:Array.isArray(e)||typeof e=="string"?e.length:e instanceof Set?e.size:null}var da=new Me(""),C0=new Me("");function f1(e){return t=>{if(t.value==null||e==null)return null;let n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}function h1(e){return t=>{if(t.value==null||e==null)return null;let n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}function p1(e){return l1(e.value)?{required:!0}:null}function f0(e){return null}function D0(e){return e!=null}function E0(e){return si(e)?Yt(e):e}function S0(e){let t={};return e.forEach(n=>{t=n!=null?ge(ge({},t),n):t}),Object.keys(t).length===0?null:t}function M0(e,t){return t.map(n=>n(e))}function g1(e){return!e.validate}function I0(e){return e.map(t=>g1(t)?t:n=>t.validate(n))}function m1(e){if(!e)return null;let t=e.filter(D0);return t.length==0?null:function(n){return S0(M0(n,t))}}function Vp(e){return e!=null?m1(I0(e)):null}function v1(e){if(!e)return null;let t=e.filter(D0);return t.length==0?null:function(n){let r=M0(n,t).map(E0);return Om(r).pipe(et(S0))}}function jp(e){return e!=null?v1(I0(e)):null}function h0(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function y1(e){return e._rawValidators}function b1(e){return e._rawAsyncValidators}function kp(e){return e?Array.isArray(e)?e:[e]:[]}function ju(e,t){return Array.isArray(e)?e.includes(t):e===t}function p0(e,t){let n=kp(t);return kp(e).forEach(i=>{ju(n,i)||n.push(i)}),n}function g0(e,t){return kp(t).filter(n=>!ju(e,n))}var Bu=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Vp(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=jp(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return this.control?this.control.hasError(t,n):!1}getError(t,n){return this.control?this.control.getError(t,n):null}},Bo=class extends Bu{name;get formDirective(){return null}get path(){return null}},la=class extends Bu{_parent=null;name=null;valueAccessor=null},Uu=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},_1={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},xF=Je(ge({},_1),{"[class.ng-submitted]":"isSubmitted"}),fi=(()=>{class e extends Uu{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(Ae(la,2))};static \u0275dir=kt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Lo("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Pn]})}return e})(),zu=(()=>{class e extends Uu{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(Ae(Bo,10))};static \u0275dir=kt({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Lo("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[Pn]})}return e})();var oa="VALID",Vu="INVALID",Vo="PENDING",sa="DISABLED",di=class{},Hu=class extends di{value;source;constructor(t,n){super(),this.value=t,this.source=n}},ca=class extends di{pristine;source;constructor(t,n){super(),this.pristine=t,this.source=n}},ua=class extends di{touched;source;constructor(t,n){super(),this.touched=t,this.source=n}},jo=class extends di{status;source;constructor(t,n){super(),this.status=t,this.source=n}},Pp=class extends di{source;constructor(t){super(),this.source=t}},Fp=class extends di{source;constructor(t){super(),this.source=t}};function T0(e){return(Wu(e)?e.validators:e)||null}function w1(e){return Array.isArray(e)?Vp(e):e||null}function x0(e,t){return(Wu(t)?t.asyncValidators:e)||null}function C1(e){return Array.isArray(e)?jp(e):e||null}function Wu(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function D1(e,t,n){let r=e.controls;if(!(t?Object.keys(r):r).length)throw new we(1e3,"");if(!r[n])throw new we(1001,"")}function E1(e,t,n){e._forEachChild((r,i)=>{if(n[i]===void 0)throw new we(1002,"")})}var $u=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,n){this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Gn(this.statusReactive)}set status(t){Gn(()=>this.statusReactive.set(t))}_status=Zs(()=>this.statusReactive());statusReactive=Us(void 0);get valid(){return this.status===oa}get invalid(){return this.status===Vu}get pending(){return this.status==Vo}get disabled(){return this.status===sa}get enabled(){return this.status!==sa}errors;get pristine(){return Gn(this.pristineReactive)}set pristine(t){Gn(()=>this.pristineReactive.set(t))}_pristine=Zs(()=>this.pristineReactive());pristineReactive=Us(!0);get dirty(){return!this.pristine}get touched(){return Gn(this.touchedReactive)}set touched(t){Gn(()=>this.touchedReactive.set(t))}_touched=Zs(()=>this.touchedReactive());touchedReactive=Us(!1);get untouched(){return!this.touched}_events=new We;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(p0(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(p0(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(g0(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(g0(t,this._rawAsyncValidators))}hasValidator(t){return ju(this._rawValidators,t)}hasAsyncValidator(t){return ju(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let n=this.touched===!1;this.touched=!0;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(Je(ge({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new ua(!0,r))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(t))}markAsUntouched(t={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),n&&t.emitEvent!==!1&&this._events.next(new ua(!1,r))}markAsDirty(t={}){let n=this.pristine===!0;this.pristine=!1;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(Je(ge({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new ca(!1,r))}markAsPristine(t={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),n&&t.emitEvent!==!1&&this._events.next(new ca(!0,r))}markAsPending(t={}){this.status=Vo;let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new jo(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(Je(ge({},t),{sourceControl:n}))}disable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=sa,this.errors=null,this._forEachChild(i=>{i.disable(Je(ge({},t),{onlySelf:!0}))}),this._updateValue();let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Hu(this.value,r)),this._events.next(new jo(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Je(ge({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=oa,this._forEachChild(r=>{r.enable(Je(ge({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Je(ge({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,n){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===oa||this.status===Vo)&&this._runAsyncValidator(r,t.emitEvent)}let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Hu(this.value,n)),this._events.next(new jo(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(Je(ge({},t),{sourceControl:n}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?sa:oa}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,n){if(this.asyncValidator){this.status=Vo,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=E0(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(t){let n=t;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(t,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,n,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new jo(this.status,n)),this._parent&&this._parent._updateControlsErrors(t,n,r)}_initObservables(){this.valueChanges=new Ct,this.statusChanges=new Ct}_calculateStatus(){return this._allControlsDisabled()?sa:this.errors?Vu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Vo)?Vo:this._anyControlsHaveStatus(Vu)?Vu:oa}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),i&&this._events.next(new ca(this.pristine,n))}_updateTouched(t={},n){this.touched=this._anyControlsTouched(),this._events.next(new ua(this.touched,n)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Wu(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let n=this._parent&&this._parent.dirty;return!t&&!!n&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=w1(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=C1(this._rawAsyncValidators)}},qu=class extends $u{constructor(t,n,r){super(T0(n),x0(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,r={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){E1(this,!0,t),Object.keys(t).forEach(r=>{D1(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){t!=null&&(Object.keys(t).forEach(r=>{let i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((r,i)=>{r.reset(t?t[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,r)=>(t[r]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&t(r,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&t(r))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(t,n){let r=t;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var Bp=new Me("",{providedIn:"root",factory:()=>Up}),Up="always";function S1(e,t){return[...t.path,e]}function R0(e,t,n=Up){O0(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||n==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),I1(e,t),x1(e,t),T1(e,t),M1(e,t)}function m0(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function M1(e,t){if(t.valueAccessor.setDisabledState){let n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}function O0(e,t){let n=y1(e);t.validator!==null?e.setValidators(h0(n,t.validator)):typeof n=="function"&&e.setValidators([n]);let r=b1(e);t.asyncValidator!==null?e.setAsyncValidators(h0(r,t.asyncValidator)):typeof r=="function"&&e.setAsyncValidators([r]);let i=()=>e.updateValueAndValidity();m0(t._rawValidators,i),m0(t._rawAsyncValidators,i)}function I1(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&A0(e,t)})}function T1(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&A0(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function A0(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function x1(e,t){let n=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}function R1(e,t){e==null,O0(e,t)}function O1(e,t){if(!e.hasOwnProperty("model"))return!1;let n=e.model;return n.isFirstChange()?!0:!Object.is(t,n.currentValue)}function A1(e){return Object.getPrototypeOf(e.constructor)===w0}function N1(e,t){e._syncPendingControls(),t.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function k1(e,t){if(!t)return null;Array.isArray(t);let n,r,i;return t.forEach(o=>{o.constructor===pr?n=o:A1(o)?r=o:i=o}),i||r||n||null}var P1={provide:Bo,useExisting:cr(()=>fa)},aa=Promise.resolve(),fa=(()=>{class e extends Bo{callSetDisabledState;get submitted(){return Gn(this.submittedReactive)}_submitted=Zs(()=>this.submittedReactive());submittedReactive=Us(!1);_directives=new Set;form;ngSubmit=new Ct;options;constructor(n,r,i){super(),this.callSetDisabledState=i,this.form=new qu({},Vp(n),jp(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){aa.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),R0(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){aa.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){aa.then(()=>{let r=this._findContainer(n.path),i=new qu({});R1(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){aa.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){aa.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),N1(this.form,this._directives),this.ngSubmit.emit(n),this.form._events.next(new Pp(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1),this.form._events.next(new Fp(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static \u0275fac=function(r){return new(r||e)(Ae(da,10),Ae(C0,10),Ae(Bp,8))};static \u0275dir=kt({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&Pe("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[ai([P1]),Pn]})}return e})();function v0(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function y0(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var F1=class extends $u{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,n,r){super(T0(n),x0(r,n)),this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Wu(n)&&(n.nonNullable||n.initialValueIsDefault)&&(y0(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){v0(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){v0(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){y0(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var L1={provide:la,useExisting:cr(()=>Lr)},b0=Promise.resolve(),Lr=(()=>{class e extends la{_changeDetectorRef;callSetDisabledState;control=new F1;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Ct;constructor(n,r,i,o,s,u){super(),this._changeDetectorRef=s,this.callSetDisabledState=u,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=k1(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),O1(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){R0(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){b0.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&Qs(r);b0.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?S1(n,this._parent):[n]}static \u0275fac=function(r){return new(r||e)(Ae(Bo,9),Ae(da,10),Ae(C0,10),Ae(Lp,10),Ae(ci,8),Ae(Bp,8))};static \u0275dir=kt({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[ai([L1]),Pn,$i]})}return e})();var Gu=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275dir=kt({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return e})(),V1={provide:Lp,useExisting:cr(()=>Hp),multi:!0},Hp=(()=>{class e extends w0{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Nr(e)))(i||e)}})();static \u0275dir=kt({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&Pe("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[ai([V1]),Pn]})}return e})();function N0(e){return typeof e=="number"?e:parseFloat(e)}var $p=(()=>{class e{_validator=f0;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):f0,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static \u0275fac=function(r){return new(r||e)};static \u0275dir=kt({type:e,features:[$i]})}return e})(),j1={provide:da,useExisting:cr(()=>qp),multi:!0},qp=(()=>{class e extends $p{max;inputName="max";normalizeInput=n=>N0(n);createValidator=n=>h1(n);static \u0275fac=(()=>{let n;return function(i){return(n||(n=Nr(e)))(i||e)}})();static \u0275dir=kt({type:e,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Fo("max",i._enabled?i.max:null)},inputs:{max:"max"},standalone:!1,features:[ai([j1]),Pn]})}return e})(),B1={provide:da,useExisting:cr(()=>zp),multi:!0},zp=(()=>{class e extends $p{min;inputName="min";normalizeInput=n=>N0(n);createValidator=n=>f1(n);static \u0275fac=(()=>{let n;return function(i){return(n||(n=Nr(e)))(i||e)}})();static \u0275dir=kt({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Fo("min",i._enabled?i.min:null)},inputs:{min:"min"},standalone:!1,features:[ai([B1]),Pn]})}return e})(),U1={provide:da,useExisting:cr(()=>Wp),multi:!0};var Wp=(()=>{class e extends $p{required;inputName="required";normalizeInput=Qs;createValidator=n=>p1;enabled(n){return n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Nr(e)))(i||e)}})();static \u0275dir=kt({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Fo("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[ai([U1]),Pn]})}return e})();var H1=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=_t({type:e});static \u0275inj=bt({})}return e})();var gr=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:Bp,useValue:n.callSetDisabledState??Up}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=_t({type:e});static \u0275inj=bt({imports:[H1]})}return e})();var Ue="primary",Sa=Symbol("RouteTitle"),Yp=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Ki(e){return new Yp(e)}function U0(e,t,n){let r=n.path.split("/");if(r.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||r.length<e.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],u=e[o];if(s[0]===":")i[s.substring(1)]=u;else if(s!==u.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function $1(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!mr(e[n],t[n]))return!1;return!0}function mr(e,t){let n=e?Xp(e):void 0,r=t?Xp(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!H0(e[i],t[i]))return!1;return!0}function Xp(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function H0(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),r=[...t].sort();return n.every((i,o)=>r[o]===i)}else return e===t}function $0(e){return e.length>0?e[e.length-1]:null}function vi(e){return Tm(e)?e:si(e)?Yt(Promise.resolve(e)):Ne(e)}var q1={exact:z0,subset:W0},q0={exact:z1,subset:W1,ignored:()=>!0};function k0(e,t,n){return q1[n.paths](e.root,t.root,n.matrixParams)&&q0[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function z1(e,t){return mr(e,t)}function z0(e,t,n){if(!Wi(e.segments,t.segments)||!Yu(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!e.children[r]||!z0(e.children[r],t.children[r],n))return!1;return!0}function W1(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>H0(e[n],t[n]))}function W0(e,t,n){return G0(e,t,t.segments,n)}function G0(e,t,n,r){if(e.segments.length>n.length){let i=e.segments.slice(0,n.length);return!(!Wi(i,n)||t.hasChildren()||!Yu(i,n,r))}else if(e.segments.length===n.length){if(!Wi(e.segments,n)||!Yu(e.segments,n,r))return!1;for(let i in t.children)if(!e.children[i]||!W0(e.children[i],t.children[i],r))return!1;return!0}else{let i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!Wi(e.segments,i)||!Yu(e.segments,i,r)||!e.children[Ue]?!1:G0(e.children[Ue],t,o,r)}}function Yu(e,t,n){return t.every((r,i)=>q0[n](e[i].parameters,r.parameters))}var yr=class{root;queryParams;fragment;_queryParamMap;constructor(t=new ht([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ki(this.queryParams),this._queryParamMap}toString(){return Q1.serialize(this)}},ht=class{segments;children;parent=null;constructor(t,n){this.segments=t,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Xu(this)}},hi=class{path;parameters;_parameterMap;constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=Ki(this.parameters),this._parameterMap}toString(){return Q0(this)}};function G1(e,t){return Wi(e,t)&&e.every((n,r)=>mr(n.parameters,t[r].parameters))}function Wi(e,t){return e.length!==t.length?!1:e.every((n,r)=>n.path===t[r].path)}function K1(e,t){let n=[];return Object.entries(e.children).forEach(([r,i])=>{r===Ue&&(n=n.concat(t(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==Ue&&(n=n.concat(t(i,r)))}),n}var Qi=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=be({token:e,factory:()=>new pi,providedIn:"root"})}return e})(),pi=class{parse(t){let n=new eg(t);return new yr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${ha(t.root,!0)}`,r=X1(t.queryParams),i=typeof t.fragment=="string"?`#${Z1(t.fragment)}`:"";return`${n}${r}${i}`}},Q1=new pi;function Xu(e){return e.segments.map(t=>Q0(t)).join("/")}function ha(e,t){if(!e.hasChildren())return Xu(e);if(t){let n=e.children[Ue]?ha(e.children[Ue],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==Ue&&r.push(`${i}:${ha(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=K1(e,(r,i)=>i===Ue?[ha(e.children[Ue],!1)]:[`${i}:${ha(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[Ue]!=null?`${Xu(e)}/${n[0]}`:`${Xu(e)}/(${n.join("//")})`}}function K0(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Qu(e){return K0(e).replace(/%3B/gi,";")}function Z1(e){return encodeURI(e)}function Jp(e){return K0(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ju(e){return decodeURIComponent(e)}function P0(e){return Ju(e.replace(/\+/g,"%20"))}function Q0(e){return`${Jp(e.path)}${Y1(e.parameters)}`}function Y1(e){return Object.entries(e).map(([t,n])=>`;${Jp(t)}=${Jp(n)}`).join("")}function X1(e){let t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Qu(n)}=${Qu(i)}`).join("&"):`${Qu(n)}=${Qu(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var J1=/^[^\/()?;#]+/;function Gp(e){let t=e.match(J1);return t?t[0]:""}var eR=/^[^\/()?;=#]+/;function tR(e){let t=e.match(eR);return t?t[0]:""}var nR=/^[^=?&#]+/;function rR(e){let t=e.match(nR);return t?t[0]:""}var iR=/^[^&#]+/;function oR(e){let t=e.match(iR);return t?t[0]:""}var eg=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ht([],{}):new ht([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[Ue]=new ht(t,n)),r}parseSegment(){let t=Gp(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new we(4009,!1);return this.capture(t),new hi(Ju(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=tR(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Gp(this.remaining);i&&(r=i,this.capture(r))}t[Ju(n)]=Ju(r)}parseQueryParam(t){let n=rR(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=oR(this.remaining);s&&(r=s,this.capture(r))}let i=P0(n),o=P0(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Gp(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new we(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Ue);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[Ue]:new ht([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new we(4011,!1)}};function Z0(e){return e.segments.length>0?new ht([],{[Ue]:e}):e}function Y0(e){let t={};for(let[r,i]of Object.entries(e.children)){let o=Y0(i);if(r===Ue&&o.segments.length===0&&o.hasChildren())for(let[s,u]of Object.entries(o.children))t[s]=u;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}let n=new ht(e.segments,t);return sR(n)}function sR(e){if(e.numberOfChildren===1&&e.children[Ue]){let t=e.children[Ue];return new ht(e.segments.concat(t.segments),t.children)}return e}function zo(e){return e instanceof yr}function X0(e,t,n=null,r=null){let i=J0(e);return ew(i,t,n,r)}function J0(e){let t;function n(o){let s={};for(let d of o.children){let h=n(d);s[d.outlet]=h}let u=new ht(o.url,s);return o===e&&(t=u),u}let r=n(e.root),i=Z0(r);return t??i}function ew(e,t,n,r){let i=e;for(;i.parent;)i=i.parent;if(t.length===0)return Kp(i,i,i,n,r);let o=aR(t);if(o.toRoot())return Kp(i,i,new ht([],{}),n,r);let s=cR(o,i,e),u=s.processChildren?ga(s.segmentGroup,s.index,o.commands):nw(s.segmentGroup,s.index,o.commands);return Kp(i,s.segmentGroup,u,n,r)}function tl(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function va(e){return typeof e=="object"&&e!=null&&e.outlets}function Kp(e,t,n,r,i){let o={};r&&Object.entries(r).forEach(([d,h])=>{o[d]=Array.isArray(h)?h.map(m=>`${m}`):`${h}`});let s;e===t?s=n:s=tw(e,t,n);let u=Z0(Y0(s));return new yr(u,o,i)}function tw(e,t,n){let r={};return Object.entries(e.children).forEach(([i,o])=>{o===t?r[i]=n:r[i]=tw(o,t,n)}),new ht(e.segments,r)}var nl=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&tl(r[0]))throw new we(4003,!1);let i=r.find(va);if(i&&i!==$0(r))throw new we(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function aR(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new nl(!0,0,e);let t=0,n=!1,r=e.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let u={};return Object.entries(o.outlets).forEach(([d,h])=>{u[d]=typeof h=="string"?h.split("/"):h}),[...i,{outlets:u}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((u,d)=>{d==0&&u==="."||(d==0&&u===""?n=!0:u===".."?t++:u!=""&&i.push(u))}),i):[...i,o]},[]);return new nl(n,t,r)}var $o=class{segmentGroup;processChildren;index;constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}};function cR(e,t,n){if(e.isAbsolute)return new $o(t,!0,0);if(!n)return new $o(t,!1,NaN);if(n.parent===null)return new $o(n,!0,0);let r=tl(e.commands[0])?0:1,i=n.segments.length-1+r;return uR(n,i,e.numberOfDoubleDots)}function uR(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new we(4005,!1);i=r.segments.length}return new $o(r,!1,i-o)}function lR(e){return va(e[0])?e[0].outlets:{[Ue]:e}}function nw(e,t,n){if(e??=new ht([],{}),e.segments.length===0&&e.hasChildren())return ga(e,t,n);let r=dR(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let o=new ht(e.segments.slice(0,r.pathIndex),{});return o.children[Ue]=new ht(e.segments.slice(r.pathIndex),e.children),ga(o,0,i)}else return r.match&&i.length===0?new ht(e.segments,{}):r.match&&!e.hasChildren()?tg(e,t,n):r.match?ga(e,0,i):tg(e,t,n)}function ga(e,t,n){if(n.length===0)return new ht(e.segments,{});{let r=lR(n),i={};if(Object.keys(r).some(o=>o!==Ue)&&e.children[Ue]&&e.numberOfChildren===1&&e.children[Ue].segments.length===0){let o=ga(e.children[Ue],t,n);return new ht(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=nw(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ht(e.segments,i)}}function dR(e,t,n){let r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;let s=e.segments[i],u=n[r];if(va(u))break;let d=`${u}`,h=r<n.length-1?n[r+1]:null;if(i>0&&d===void 0)break;if(d&&h&&typeof h=="object"&&h.outlets===void 0){if(!L0(d,h,s))return o;r+=2}else{if(!L0(d,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function tg(e,t,n){let r=e.segments.slice(0,t),i=0;for(;i<n.length;){let o=n[i];if(va(o)){let d=fR(o.outlets);return new ht(r,d)}if(i===0&&tl(n[0])){let d=e.segments[t];r.push(new hi(d.path,F0(n[0]))),i++;continue}let s=va(o)?o.outlets[Ue]:`${o}`,u=i<n.length-1?n[i+1]:null;s&&u&&tl(u)?(r.push(new hi(s,F0(u))),i+=2):(r.push(new hi(s,{})),i++)}return new ht(r,{})}function fR(e){let t={};return Object.entries(e).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[n]=tg(new ht([],{}),0,r))}),t}function F0(e){let t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function L0(e,t,n){return e==n.path&&mr(t,n.parameters)}var el="imperative",Ut=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(Ut||{}),Mn=class{id;url;constructor(t,n){this.id=t,this.url=n}},gi=class extends Mn{type=Ut.NavigationStart;navigationTrigger;restoredState;constructor(t,n,r="imperative",i=null){super(t,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Zn=class extends Mn{urlAfterRedirects;type=Ut.NavigationEnd;constructor(t,n,r){super(t,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},fn=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(fn||{}),Wo=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(Wo||{}),vr=class extends Mn{reason;code;type=Ut.NavigationCancel;constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},br=class extends Mn{reason;code;type=Ut.NavigationSkipped;constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i}},Go=class extends Mn{error;target;type=Ut.NavigationError;constructor(t,n,r,i){super(t,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ya=class extends Mn{urlAfterRedirects;state;type=Ut.RoutesRecognized;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},rl=class extends Mn{urlAfterRedirects;state;type=Ut.GuardsCheckStart;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},il=class extends Mn{urlAfterRedirects;state;shouldActivate;type=Ut.GuardsCheckEnd;constructor(t,n,r,i,o){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},ol=class extends Mn{urlAfterRedirects;state;type=Ut.ResolveStart;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},sl=class extends Mn{urlAfterRedirects;state;type=Ut.ResolveEnd;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},al=class{route;type=Ut.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},cl=class{route;type=Ut.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},ul=class{snapshot;type=Ut.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ll=class{snapshot;type=Ut.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},dl=class{snapshot;type=Ut.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},fl=class{snapshot;type=Ut.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ko=class{routerEvent;position;anchor;type=Ut.Scroll;constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},ba=class{},Qo=class{url;navigationBehaviorOptions;constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}};function hR(e,t){return e.providers&&!e._injector&&(e._injector=zs(e.providers,t,`Route: ${e.path}`)),e._injector??t}function Qn(e){return e.outlet||Ue}function pR(e,t){let n=e.filter(r=>Qn(r)===t);return n.push(...e.filter(r=>Qn(r)!==t)),n}function Ma(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var hl=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Ma(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new Zi(this.rootInjector)}},Zi=(()=>{class e{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new hl(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||e)(Re(un))};static \u0275prov=be({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),pl=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=ng(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){let n=ng(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=rg(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return rg(t,this._root).map(n=>n.value)}};function ng(e,t){if(e===t.value)return t;for(let n of t.children){let r=ng(e,n);if(r)return r}return null}function rg(e,t){if(e===t.value)return[t];for(let n of t.children){let r=rg(e,n);if(r.length)return r.unshift(t),r}return[]}var Sn=class{value;children;constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ho(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var _a=class extends pl{snapshot;constructor(t,n){super(t),this.snapshot=n,dg(this,t)}toString(){return this.snapshot.toString()}};function rw(e){let t=gR(e),n=new rt([new hi("",{})]),r=new rt({}),i=new rt({}),o=new rt({}),s=new rt(""),u=new mi(n,r,o,s,i,Ue,e,t.root);return u.snapshot=t.root,new _a(new Sn(u,[]),t)}function gR(e){let t={},n={},r={},i="",o=new Gi([],t,r,i,n,Ue,e,null,{});return new wa("",new Sn(o,[]))}var mi=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,n,r,i,o,s,u,d){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=u,this._futureSnapshot=d,this.title=this.dataSubject?.pipe(et(h=>h[Sa]))??Ne(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(et(t=>Ki(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(et(t=>Ki(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function gl(e,t,n="emptyOnly"){let r,{routeConfig:i}=e;return t!==null&&(n==="always"||i?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:ge(ge({},t.params),e.params),data:ge(ge({},t.data),e.data),resolve:ge(ge(ge(ge({},e.data),t.data),i?.data),e._resolvedData)}:r={params:ge({},e.params),data:ge({},e.data),resolve:ge(ge({},e.data),e._resolvedData??{})},i&&ow(i)&&(r.resolve[Sa]=i.title),r}var Gi=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Sa]}constructor(t,n,r,i,o,s,u,d,h){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=u,this.routeConfig=d,this._resolve=h}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ki(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ki(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},wa=class extends pl{url;constructor(t,n){super(n),this.url=t,dg(this,n)}toString(){return iw(this._root)}};function dg(e,t){t.value._routerState=e,t.children.forEach(n=>dg(e,n))}function iw(e){let t=e.children.length>0?` { ${e.children.map(iw).join(", ")} } `:"";return`${e.value}${t}`}function Qp(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,mr(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),mr(t.params,n.params)||e.paramsSubject.next(n.params),$1(t.url,n.url)||e.urlSubject.next(n.url),mr(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function ig(e,t){let n=mr(e.params,t.params)&&G1(e.url,t.url),r=!e.parent!=!t.parent;return n&&!r&&(!e.parent||ig(e.parent,t.parent))}function ow(e){return typeof e.title=="string"||e.title===null}var sw=new Me(""),Ia=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Ue;activateEvents=new Ct;deactivateEvents=new Ct;attachEvents=new Ct;detachEvents=new Ct;routerOutletData=Mb(void 0);parentContexts=ce(Zi);location=ce(oi);changeDetector=ce(ci);inputBinder=ce(Ta,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new we(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new we(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new we(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new we(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,d=new og(n,u,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:d,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=kt({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[$i]})}return e})(),og=class{route;childContexts;parent;outletData;constructor(t,n,r,i){this.route=t,this.childContexts=n,this.parent=r,this.outletData=i}get(t,n){return t===mi?this.route:t===Zi?this.childContexts:t===sw?this.outletData:this.parent.get(t,n)}},Ta=new Me(""),fg=(()=>{class e{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,i=Zr([r.queryParams,r.params,r.data]).pipe(Vn(([o,s,u],d)=>(u=ge(ge(ge({},o),s),u),d===0?Ne(u):Promise.resolve(u)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let s=G_(r.component);if(!s){this.unsubscribeFromRouteData(n);return}for(let{templateName:u}of s.inputs)n.activatedComponentRef.setInput(u,o[u])});this.outletDataSubscriptions.set(n,i)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=be({token:e,factory:e.\u0275fac})}return e})(),hg=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=Rt({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Ot(0,"router-outlet")},dependencies:[Ia],encapsulation:2})}return e})();function pg(e){let t=e.children&&e.children.map(pg),n=t?Je(ge({},e),{children:t}):ge({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Ue&&(n.component=hg),n}function mR(e,t,n){let r=Ca(e,t._root,n?n._root:void 0);return new _a(r,t)}function Ca(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=t.value;let i=vR(e,t,n);return new Sn(r,i)}else{if(e.shouldAttach(t.value)){let o=e.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(u=>Ca(e,u)),s}}let r=yR(t.value),i=t.children.map(o=>Ca(e,o));return new Sn(r,i)}}function vR(e,t,n){return t.children.map(r=>{for(let i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return Ca(e,r,i);return Ca(e,r)})}function yR(e){return new mi(new rt(e.url),new rt(e.params),new rt(e.queryParams),new rt(e.fragment),new rt(e.data),e.outlet,e.component,e)}var Zo=class{redirectTo;navigationBehaviorOptions;constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}},aw="ngNavigationCancelingError";function ml(e,t){let{redirectTo:n,navigationBehaviorOptions:r}=zo(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=cw(!1,fn.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function cw(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[aw]=!0,n.cancellationCode=t,n}function bR(e){return uw(e)&&zo(e.url)}function uw(e){return!!e&&e[aw]}var _R=(e,t,n,r)=>et(i=>(new sg(t,i.targetRouterState,i.currentRouterState,n,r).activate(e),i)),sg=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,n,r,i,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),Qp(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){let i=Ho(n);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=Ho(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),u=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:u})}}deactivateRouteAndOutlet(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=Ho(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){let i=Ho(n);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new fl(o.value.snapshot))}),t.children.length&&this.forwardEvent(new ll(t.value.snapshot))}activateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(Qp(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let u=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(u.contexts),s.attachRef=u.componentRef,s.route=u.route.value,s.outlet&&s.outlet.attach(u.componentRef,u.route.value),Qp(u.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,r)}},vl=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},qo=class{component;route;constructor(t,n){this.component=t,this.route=n}};function wR(e,t,n){let r=e._root,i=t?t._root:null;return pa(r,i,n,[r.value])}function CR(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function Xo(e,t){let n=Symbol(),r=t.get(e,n);return r===n?typeof e=="function"&&!by(e)?e:t.get(e):r}function pa(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ho(t);return e.children.forEach(s=>{DR(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,u])=>ma(u,n.getContext(s),i)),i}function DR(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=t?t.value:null,u=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let d=ER(s,o,o.routeConfig.runGuardsAndResolvers);d?i.canActivateChecks.push(new vl(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?pa(e,t,u?u.children:null,r,i):pa(e,t,n,r,i),d&&u&&u.outlet&&u.outlet.isActivated&&i.canDeactivateChecks.push(new qo(u.outlet.component,s))}else s&&ma(t,u,i),i.canActivateChecks.push(new vl(r)),o.component?pa(e,null,u?u.children:null,r,i):pa(e,null,n,r,i);return i}function ER(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!Wi(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Wi(e.url,t.url)||!mr(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ig(e,t)||!mr(e.queryParams,t.queryParams);case"paramsChange":default:return!ig(e,t)}}function ma(e,t,n){let r=Ho(e),i=e.value;Object.entries(r).forEach(([o,s])=>{i.component?t?ma(s,t.children.getContext(o),n):ma(s,null,n):ma(s,t,n)}),i.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new qo(t.outlet.component,i)):n.canDeactivateChecks.push(new qo(null,i)):n.canDeactivateChecks.push(new qo(null,i))}function xa(e){return typeof e=="function"}function SR(e){return typeof e=="boolean"}function MR(e){return e&&xa(e.canLoad)}function IR(e){return e&&xa(e.canActivate)}function TR(e){return e&&xa(e.canActivateChild)}function xR(e){return e&&xa(e.canDeactivate)}function RR(e){return e&&xa(e.canMatch)}function lw(e){return e instanceof xm||e?.name==="EmptyError"}var Zu=Symbol("INITIAL_VALUE");function Yo(){return Vn(e=>Zr(e.map(t=>t.pipe(Yr(1),Fm(Zu)))).pipe(et(t=>{for(let n of t)if(n!==!0){if(n===Zu)return Zu;if(n===!1||OR(n))return n}return!0}),gt(t=>t!==Zu),Yr(1)))}function OR(e){return zo(e)||e instanceof Zo}function AR(e,t){return Ft(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?Ne(Je(ge({},n),{guardsResult:!0})):NR(s,r,i,e).pipe(Ft(u=>u&&SR(u)?kR(r,o,e,t):Ne(u)),et(u=>Je(ge({},n),{guardsResult:u})))})}function NR(e,t,n,r){return Yt(e).pipe(Ft(i=>jR(i.component,i.route,n,t,r)),Xr(i=>i!==!0,!0))}function kR(e,t,n,r){return Yt(t).pipe(Ti(i=>Rm(FR(i.route.parent,r),PR(i.route,r),VR(e,i.path,n),LR(e,i.route,n))),Xr(i=>i!==!0,!0))}function PR(e,t){return e!==null&&t&&t(new dl(e)),Ne(!0)}function FR(e,t){return e!==null&&t&&t(new ul(e)),Ne(!0)}function LR(e,t,n){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return Ne(!0);let i=r.map(o=>Ld(()=>{let s=Ma(t)??n,u=Xo(o,s),d=IR(u)?u.canActivate(t,e):kn(s,()=>u(t,e));return vi(d).pipe(Xr())}));return Ne(i).pipe(Yo())}function VR(e,t,n){let r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>CR(s)).filter(s=>s!==null).map(s=>Ld(()=>{let u=s.guards.map(d=>{let h=Ma(s.node)??n,m=Xo(d,h),_=TR(m)?m.canActivateChild(r,e):kn(h,()=>m(r,e));return vi(_).pipe(Xr())});return Ne(u).pipe(Yo())}));return Ne(o).pipe(Yo())}function jR(e,t,n,r,i){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return Ne(!0);let s=o.map(u=>{let d=Ma(t)??i,h=Xo(u,d),m=xR(h)?h.canDeactivate(e,t,n,r):kn(d,()=>h(e,t,n,r));return vi(m).pipe(Xr())});return Ne(s).pipe(Yo())}function BR(e,t,n,r){let i=t.canLoad;if(i===void 0||i.length===0)return Ne(!0);let o=i.map(s=>{let u=Xo(s,e),d=MR(u)?u.canLoad(t,n):kn(e,()=>u(t,n));return vi(d)});return Ne(o).pipe(Yo(),dw(r))}function dw(e){return Im(qt(t=>{if(typeof t!="boolean")throw ml(e,t)}),et(t=>t===!0))}function UR(e,t,n,r){let i=t.canMatch;if(!i||i.length===0)return Ne(!0);let o=i.map(s=>{let u=Xo(s,e),d=RR(u)?u.canMatch(t,n):kn(e,()=>u(t,n));return vi(d)});return Ne(o).pipe(Yo(),dw(r))}var Da=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},Ea=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function Uo(e){return bs(new Da(e))}function HR(e){return bs(new we(4e3,!1))}function $R(e){return bs(cw(!1,fn.GuardRejected))}var ag=class{urlSerializer;urlTree;constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Ne(r);if(i.numberOfChildren>1||!i.children[Ue])return HR(`${t.redirectTo}`);i=i.children[Ue]}}applyRedirectCommands(t,n,r,i,o){if(typeof n!="string"){let u=n,{queryParams:d,fragment:h,routeConfig:m,url:_,outlet:y,params:C,data:E,title:R}=i,V=kn(o,()=>u({params:C,data:E,queryParams:d,fragment:h,routeConfig:m,url:_,outlet:y,title:R}));if(V instanceof yr)throw new Ea(V);n=V}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r);if(n[0]==="/")throw new Ea(s);return s}applyRedirectCreateUrlTree(t,n,r,i){let o=this.createSegmentGroup(t,n.root,r,i);return new yr(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let r={};return Object.entries(t).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let u=o.substring(1);r[i]=n[u]}else r[i]=o}),r}createSegmentGroup(t,n,r,i){let o=this.createSegments(t,n.segments,r,i),s={};return Object.entries(n.children).forEach(([u,d])=>{s[u]=this.createSegmentGroup(t,d,r,i)}),new ht(o,s)}createSegments(t,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,n,r){let i=r[n.path.substring(1)];if(!i)throw new we(4001,!1);return i}findOrReturn(t,n){let r=0;for(let i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}},cg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function qR(e,t,n,r,i){let o=fw(e,t,n);return o.matched?(r=hR(t,r),UR(r,t,n,i).pipe(et(s=>s===!0?o:ge({},cg)))):Ne(o)}function fw(e,t,n){if(t.path==="**")return zR(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?ge({},cg):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(t.matcher||U0)(n,e,t);if(!i)return ge({},cg);let o={};Object.entries(i.posParams??{}).forEach(([u,d])=>{o[u]=d.path});let s=i.consumed.length>0?ge(ge({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function zR(e){return{matched:!0,parameters:e.length>0?$0(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function V0(e,t,n,r){return n.length>0&&KR(e,n,r)?{segmentGroup:new ht(t,GR(r,new ht(n,e.children))),slicedSegments:[]}:n.length===0&&QR(e,n,r)?{segmentGroup:new ht(e.segments,WR(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new ht(e.segments,e.children),slicedSegments:n}}function WR(e,t,n,r){let i={};for(let o of n)if(bl(e,t,o)&&!r[Qn(o)]){let s=new ht([],{});i[Qn(o)]=s}return ge(ge({},r),i)}function GR(e,t){let n={};n[Ue]=t;for(let r of e)if(r.path===""&&Qn(r)!==Ue){let i=new ht([],{});n[Qn(r)]=i}return n}function KR(e,t,n){return n.some(r=>bl(e,t,r)&&Qn(r)!==Ue)}function QR(e,t,n){return n.some(r=>bl(e,t,r))}function bl(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function ZR(e,t,n){return t.length===0&&!e.children[n]}var ug=class{};function YR(e,t,n,r,i,o,s="emptyOnly"){return new lg(e,t,n,r,i,s,o).recognize()}var XR=31,lg=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,n,r,i,o,s,u){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=u,this.applyRedirects=new ag(this.urlSerializer,this.urlTree)}noMatchError(t){return new we(4002,`'${t.segmentGroup}'`)}recognize(){let t=V0(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(et(({children:n,rootSnapshot:r})=>{let i=new Sn(r,n),o=new wa("",i),s=X0(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(t){let n=new Gi([],Object.freeze({}),Object.freeze(ge({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Ue,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,Ue,n).pipe(et(r=>({children:r,rootSnapshot:n})),Ii(r=>{if(r instanceof Ea)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Da?this.noMatchError(r):r}))}processSegmentGroup(t,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,n,r,o):this.processSegment(t,n,r,r.segments,i,!0,o).pipe(et(s=>s instanceof Sn?[s]:[]))}processChildren(t,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Yt(o).pipe(Ti(s=>{let u=r.children[s],d=pR(n,s);return this.processSegmentGroup(t,d,u,s,i)}),Pm((s,u)=>(s.push(...u),s)),Vd(null),Nm(),Ft(s=>{if(s===null)return Uo(r);let u=hw(s);return JR(u),Ne(u)}))}processSegment(t,n,r,i,o,s,u){return Yt(n).pipe(Ti(d=>this.processSegmentAgainstRoute(d._injector??t,n,d,r,i,o,s,u).pipe(Ii(h=>{if(h instanceof Da)return Ne(null);throw h}))),Xr(d=>!!d),Ii(d=>{if(lw(d))return ZR(r,i,o)?Ne(new ug):Uo(r);throw d}))}processSegmentAgainstRoute(t,n,r,i,o,s,u,d){return Qn(r)!==s&&(s===Ue||!bl(i,o,r))?Uo(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,i,r,o,s,d):this.allowRedirects&&u?this.expandSegmentAgainstRouteUsingRedirect(t,i,n,r,o,s,d):Uo(i)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s,u){let{matched:d,parameters:h,consumedSegments:m,positionalParamSegments:_,remainingSegments:y}=fw(n,i,o);if(!d)return Uo(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>XR&&(this.allowRedirects=!1));let C=new Gi(o,h,Object.freeze(ge({},this.urlTree.queryParams)),this.urlTree.fragment,j0(i),Qn(i),i.component??i._loadedComponent??null,i,B0(i)),E=gl(C,u,this.paramsInheritanceStrategy);C.params=Object.freeze(E.params),C.data=Object.freeze(E.data);let R=this.applyRedirects.applyRedirectCommands(m,i.redirectTo,_,C,t);return this.applyRedirects.lineralizeSegments(i,R).pipe(Ft(V=>this.processSegment(t,r,n,V.concat(y),s,!1,u)))}matchSegmentAgainstRoute(t,n,r,i,o,s){let u=qR(n,r,i,t,this.urlSerializer);return r.path==="**"&&(n.children={}),u.pipe(Vn(d=>d.matched?(t=r._injector??t,this.getChildConfig(t,r,i).pipe(Vn(({routes:h})=>{let m=r._loadedInjector??t,{parameters:_,consumedSegments:y,remainingSegments:C}=d,E=new Gi(y,_,Object.freeze(ge({},this.urlTree.queryParams)),this.urlTree.fragment,j0(r),Qn(r),r.component??r._loadedComponent??null,r,B0(r)),R=gl(E,s,this.paramsInheritanceStrategy);E.params=Object.freeze(R.params),E.data=Object.freeze(R.data);let{segmentGroup:V,slicedSegments:D}=V0(n,y,C,h);if(D.length===0&&V.hasChildren())return this.processChildren(m,h,V,E).pipe(et(I=>new Sn(E,I)));if(h.length===0&&D.length===0)return Ne(new Sn(E,[]));let M=Qn(r)===o;return this.processSegment(m,h,V,D,M?Ue:o,!0,E).pipe(et(I=>new Sn(E,I instanceof Sn?[I]:[])))}))):Uo(n)))}getChildConfig(t,n,r){return n.children?Ne({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?Ne({routes:n._loadedRoutes,injector:n._loadedInjector}):BR(t,n,r,this.urlSerializer).pipe(Ft(i=>i?this.configLoader.loadChildren(t,n).pipe(qt(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):$R(n))):Ne({routes:[],injector:t})}};function JR(e){e.sort((t,n)=>t.value.outlet===Ue?-1:n.value.outlet===Ue?1:t.value.outlet.localeCompare(n.value.outlet))}function eO(e){let t=e.value.routeConfig;return t&&t.path===""}function hw(e){let t=[],n=new Set;for(let r of e){if(!eO(r)){t.push(r);continue}let i=t.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):t.push(r)}for(let r of n){let i=hw(r.children);t.push(new Sn(r.value,i))}return t.filter(r=>!n.has(r))}function j0(e){return e.data||{}}function B0(e){return e.resolve||{}}function tO(e,t,n,r,i,o){return Ft(s=>YR(e,t,n,r,s.extractedUrl,i,o).pipe(et(({state:u,tree:d})=>Je(ge({},s),{targetSnapshot:u,urlAfterRedirects:d}))))}function nO(e,t){return Ft(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Ne(n);let o=new Set(i.map(d=>d.route)),s=new Set;for(let d of o)if(!s.has(d))for(let h of pw(d))s.add(h);let u=0;return Yt(s).pipe(Ti(d=>o.has(d)?rO(d,r,e,t):(d.data=gl(d,d.parent,e).resolve,Ne(void 0))),qt(()=>u++),jd(1),Ft(d=>u===s.size?Ne(n):Mr))})}function pw(e){let t=e.children.map(n=>pw(n)).flat();return[e,...t]}function rO(e,t,n,r){let i=e.routeConfig,o=e._resolve;return i?.title!==void 0&&!ow(i)&&(o[Sa]=i.title),iO(o,e,t,r).pipe(et(s=>(e._resolvedData=s,e.data=gl(e,e.parent,n).resolve,null)))}function iO(e,t,n,r){let i=Xp(e);if(i.length===0)return Ne({});let o={};return Yt(i).pipe(Ft(s=>oO(e[s],t,n,r).pipe(Xr(),qt(u=>{if(u instanceof Zo)throw ml(new pi,u);o[s]=u}))),jd(1),et(()=>o),Ii(s=>lw(s)?Mr:bs(s)))}function oO(e,t,n,r){let i=Ma(t)??r,o=Xo(e,i),s=o.resolve?o.resolve(t,n):kn(i,()=>o(t,n));return vi(s)}function Zp(e){return Vn(t=>{let n=e(t);return n?Yt(n).pipe(et(()=>t)):Ne(t)})}var gg=(()=>{class e{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Ue);return r}getResolvedTitleForRoute(n){return n.data[Sa]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=be({token:e,factory:()=>ce(gw),providedIn:"root"})}return e})(),gw=(()=>{class e extends gg{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(Re(d0))};static \u0275prov=be({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Yi=new Me("",{providedIn:"root",factory:()=>({})}),Jo=new Me(""),_l=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=ce(H_);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Ne(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=vi(n.loadComponent()).pipe(et(vw),qt(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),lc(()=>{this.componentLoaders.delete(n)})),i=new Pd(r,()=>new We).pipe(kd());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Ne({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=mw(r,this.compiler,n,this.onLoadEndListener).pipe(lc(()=>{this.childrenLoaders.delete(r)})),s=new Pd(o,()=>new We).pipe(kd());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||e)};static \u0275prov=be({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function mw(e,t,n,r){return vi(e.loadChildren()).pipe(et(vw),Ft(i=>i instanceof rp||Array.isArray(i)?Ne(i):Yt(t.compileModuleAsync(i))),et(i=>{r&&r(e);let o,s,u=!1;return Array.isArray(i)?(s=i,u=!0):(o=i.create(n).injector,s=o.get(Jo,[],{optional:!0,self:!0}).flat()),{routes:s.map(pg),injector:o}}))}function sO(e){return e&&typeof e=="object"&&"default"in e}function vw(e){return sO(e)?e.default:e}var wl=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=be({token:e,factory:()=>ce(aO),providedIn:"root"})}return e})(),aO=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||e)};static \u0275prov=be({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),mg=new Me(""),vg=new Me("");function yw(e,t,n){let r=e.get(vg),i=e.get(Wt);return e.get(Et).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(h=>setTimeout(h));let o,s=new Promise(h=>{o=h}),u=i.startViewTransition(()=>(o(),cO(e))),{onViewTransitionCreated:d}=r;return d&&kn(e,()=>d({transition:u,from:t,to:n})),s})}function cO(e){return new Promise(t=>{Bh({read:()=>setTimeout(t)},{injector:e})})}var yg=new Me(""),Cl=(()=>{class e{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new We;transitionAbortSubject=new We;configLoader=ce(_l);environmentInjector=ce(un);destroyRef=ce(Oo);urlSerializer=ce(Qi);rootContexts=ce(Zi);location=ce(ui);inputBindingEnabled=ce(Ta,{optional:!0})!==null;titleStrategy=ce(gg);options=ce(Yi,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=ce(wl);createViewTransition=ce(mg,{optional:!0});navigationErrorHandler=ce(yg,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>Ne(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new al(i)),r=i=>this.events.next(new cl(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(Je(ge({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(n){return this.transitions=new rt(null),this.transitions.pipe(gt(r=>r!==null),Vn(r=>{let i=!1,o=!1;return Ne(r).pipe(Vn(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",fn.SupersededByNewNavigation),Mr;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?Je(ge({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=s.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!u&&d!=="reload"){let h="";return this.events.next(new br(s.id,this.urlSerializer.serialize(s.rawUrl),h,Wo.IgnoredSameUrlNavigation)),s.resolve(!1),Mr}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return Ne(s).pipe(Vn(h=>(this.events.next(new gi(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),h.id!==this.navigationId?Mr:Promise.resolve(h))),tO(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),qt(h=>{r.targetSnapshot=h.targetSnapshot,r.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=Je(ge({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let m=new ya(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(m)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:h,extractedUrl:m,source:_,restoredState:y,extras:C}=s,E=new gi(h,this.urlSerializer.serialize(m),_,y);this.events.next(E);let R=rw(this.rootComponentType).snapshot;return this.currentTransition=r=Je(ge({},s),{targetSnapshot:R,urlAfterRedirects:m,extras:Je(ge({},C),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,Ne(r)}else{let h="";return this.events.next(new br(s.id,this.urlSerializer.serialize(s.extractedUrl),h,Wo.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Mr}}),qt(s=>{let u=new rl(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(u)}),et(s=>(this.currentTransition=r=Je(ge({},s),{guards:wR(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),AR(this.environmentInjector,s=>this.events.next(s)),qt(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw ml(this.urlSerializer,s.guardsResult);let u=new il(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(u)}),gt(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",fn.GuardRejected),!1)),Zp(s=>{if(s.guards.canActivateChecks.length!==0)return Ne(s).pipe(qt(u=>{let d=new ol(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),Vn(u=>{let d=!1;return Ne(u).pipe(nO(this.paramsInheritanceStrategy,this.environmentInjector),qt({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",fn.NoDataFromResolver)}}))}),qt(u=>{let d=new sl(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),Zp(s=>{let u=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(qt(m=>{d.component=m}),et(()=>{})));for(let m of d.children)h.push(...u(m));return h};return Zr(u(s.targetSnapshot.root)).pipe(Vd(null),Yr(1))}),Zp(()=>this.afterPreactivation()),Vn(()=>{let{currentSnapshot:s,targetSnapshot:u}=r,d=this.createViewTransition?.(this.environmentInjector,s.root,u.root);return d?Yt(d).pipe(et(()=>r)):Ne(r)}),et(s=>{let u=mR(n.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=Je(ge({},s),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,r}),qt(()=>{this.events.next(new ba)}),_R(this.rootContexts,n.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Yr(1),qt({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Zn(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),Lm(this.transitionAbortSubject.pipe(qt(s=>{throw s}))),lc(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",fn.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ii(s=>{if(this.destroyed)return r.resolve(!1),Mr;if(o=!0,uw(s))this.events.next(new vr(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),bR(s)?this.events.next(new Qo(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let u=new Go(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let d=kn(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(d instanceof Zo){let{message:h,cancellationCode:m}=ml(this.urlSerializer,d);this.events.next(new vr(r.id,this.urlSerializer.serialize(r.extractedUrl),h,m)),this.events.next(new Qo(d.redirectTo,d.navigationBehaviorOptions))}else throw this.events.next(u),s}catch(d){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(d)}}return Mr}))}))}cancelNavigationTransition(n,r,i){let o=new vr(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=be({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function uO(e){return e!==el}var bw=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=be({token:e,factory:()=>ce(lO),providedIn:"root"})}return e})(),yl=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},lO=(()=>{class e extends yl{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Nr(e)))(i||e)}})();static \u0275prov=be({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),_w=(()=>{class e{urlSerializer=ce(Qi);options=ce(Yi,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=ce(ui);urlHandlingStrategy=ce(wl);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new yr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=i??o;return s instanceof yr?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=rw(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=be({token:e,factory:()=>ce(dO),providedIn:"root"})}return e})(),dO=(()=>{class e extends _w{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof gi?this.updateStateMemento():n instanceof br?this.commitTransition(r):n instanceof ya?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof ba?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof vr&&(n.code===fn.GuardRejected||n.code===fn.NoDataFromResolver)?this.restoreHistory(r):n instanceof Go?this.restoreHistory(r,!0):n instanceof Zn&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||o){let u=this.browserPageId,d=ge(ge({},s),this.generateNgRouterState(i,u));this.location.replaceState(n,"",d)}else{let u=ge(ge({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",u)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Nr(e)))(i||e)}})();static \u0275prov=be({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Dl(e,t){e.events.pipe(gt(n=>n instanceof Zn||n instanceof vr||n instanceof Go||n instanceof br),et(n=>n instanceof Zn||n instanceof br?0:(n instanceof vr?n.code===fn.Redirect||n.code===fn.SupersededByNewNavigation:!1)?2:1),gt(n=>n!==2),Yr(1)).subscribe(()=>{t()})}var fO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},hO={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},yi=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=ce(k_);stateManager=ce(_w);options=ce(Yi,{optional:!0})||{};pendingTasks=ce(Ao);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=ce(Cl);urlSerializer=ce(Qi);location=ce(ui);urlHandlingStrategy=ce(wl);_events=new We;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=ce(bw);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=ce(Jo,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!ce(Ta,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Qr;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof vr&&r.code!==fn.Redirect&&r.code!==fn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Zn)this.navigated=!0;else if(r instanceof Qo){let s=r.navigationBehaviorOptions,u=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),d=ge({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||uO(i.source)},s);this.scheduleNavigation(u,el,null,d,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}gO(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),el,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let d=ge({},i);delete d.navigationId,delete d.\u0275routerPageId,Object.keys(d).length!==0&&(o.state=d)}let u=this.parseUrl(n);this.scheduleNavigation(u,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(pg),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:u,preserveFragment:d}=r,h=d?this.currentUrlTree.fragment:s,m=null;switch(u??this.options.defaultQueryParamsHandling){case"merge":m=ge(ge({},this.currentUrlTree.queryParams),o);break;case"preserve":m=this.currentUrlTree.queryParams;break;default:m=o||null}m!==null&&(m=this.removeEmptyProps(m));let _;try{let y=i?i.snapshot:this.routerState.snapshot.root;_=J0(y)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),_=this.currentUrlTree.root}return ew(_,n,m,h??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=zo(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,el,null,r)}navigate(n,r={skipLocationChange:!1}){return pO(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=ge({},fO):r===!1?i=ge({},hO):i=r,zo(n))return k0(this.currentUrlTree,n,i);let o=this.parseUrl(n);return k0(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let u,d,h;s?(u=s.resolve,d=s.reject,h=s.promise):h=new Promise((_,y)=>{u=_,d=y});let m=this.pendingTasks.add();return Dl(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(m))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:u,reject:d,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(_=>Promise.reject(_))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=be({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function pO(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new we(4008,!1)}function gO(e){return!(e instanceof ba)&&!(e instanceof Qo)}var Ra=class{};var ww=(()=>{class e{router;injector;preloadingStrategy;loader;subscription;constructor(n,r,i,o){this.router=n,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(gt(n=>n instanceof Zn),Ti(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=zs(o.providers,n,`Route: ${o.path}`));let s=o._injector??n,u=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(u,o.children??o._loadedRoutes))}return Yt(i).pipe(Fd())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(n,r):i=Ne(null);let o=i.pipe(Ft(s=>s===null?Ne(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return Yt([o,s]).pipe(Fd())}else return o})}static \u0275fac=function(r){return new(r||e)(Re(yi),Re(un),Re(Ra),Re(_l))};static \u0275prov=be({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Cw=new Me(""),mO=(()=>{class e{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof gi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Zn?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof br&&n.code===Wo.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Ko&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ko(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){C_()};static \u0275prov=be({token:e,factory:e.\u0275fac})}return e})();function vO(e){return e.routerState.root}function Oa(e,t){return{\u0275kind:e,\u0275providers:t}}function yO(){let e=ce(dn);return t=>{let n=e.get(ii);if(t!==n.components[0])return;let r=e.get(yi),i=e.get(Dw);e.get(_g)===1&&r.initialNavigation(),e.get(Mw,null,He.Optional)?.setUpPreloading(),e.get(Cw,null,He.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Dw=new Me("",{factory:()=>new We}),_g=new Me("",{providedIn:"root",factory:()=>1});function Ew(){let e=[{provide:_g,useValue:0},ap(()=>{let t=ce(dn);return t.get(mp,Promise.resolve()).then(()=>new Promise(r=>{let i=t.get(yi),o=t.get(Dw);Dl(i,()=>{r(!0)}),t.get(Cl).afterPreactivation=()=>(r(!0),o.closed?Ne(void 0):o),i.initialNavigation()}))})];return Oa(2,e)}function Sw(){let e=[ap(()=>{ce(yi).setUpLocationChangeListener()}),{provide:_g,useValue:2}];return Oa(3,e)}var Mw=new Me("");function Iw(e){return Oa(0,[{provide:Mw,useExisting:ww},{provide:Ra,useExisting:e}])}function Tw(){return Oa(8,[fg,{provide:Ta,useExisting:fg}])}function xw(e){$s("NgRouterViewTransitions");let t=[{provide:mg,useValue:yw},{provide:vg,useValue:ge({skipNextTransition:!!e?.skipInitialTransition},e)}];return Oa(9,t)}var Rw=[ui,{provide:Qi,useClass:pi},yi,Zi,{provide:mi,useFactory:vO,deps:[yi]},_l,[]],es=(()=>{class e{constructor(){}static forRoot(n,r){return{ngModule:e,providers:[Rw,[],{provide:Jo,multi:!0,useValue:n},[],r?.errorHandler?{provide:yg,useValue:r.errorHandler}:[],{provide:Yi,useValue:r||{}},r?.useHash?_O():wO(),bO(),r?.preloadingStrategy?Iw(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?CO(r):[],r?.bindToComponentInputs?Tw().\u0275providers:[],r?.enableViewTransitions?xw().\u0275providers:[],DO()]}}static forChild(n){return{ngModule:e,providers:[{provide:Jo,multi:!0,useValue:n}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=_t({type:e});static \u0275inj=bt({})}return e})();function bO(){return{provide:Cw,useFactory:()=>{let e=ce(n0),t=ce(Et),n=ce(Yi),r=ce(Cl),i=ce(Qi);return n.scrollOffset&&e.setOffset(n.scrollOffset),new mO(i,r,e,t,n)}}}function _O(){return{provide:Fr,useClass:_p}}function wO(){return{provide:Fr,useClass:xu}}function CO(e){return[e.initialNavigation==="disabled"?Sw().\u0275providers:[],e.initialNavigation==="enabledBlocking"?Ew().\u0275providers:[]]}var bg=new Me("");function DO(){return[{provide:bg,useFactory:yO},{provide:cp,multi:!0,useExisting:bg}]}var MO=[],El=class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=_t({type:e});static \u0275inj=bt({imports:[es.forRoot(MO),es]})};var IO={RxSchema:Xm.prototype,RxDocument:av,RxQuery:cv.prototype,RxCollection:dv.prototype,RxDatabase:fv.prototype},wg=new Set,Ow=new Set;function ts(e){if(Km("preAddRxPlugin",{plugin:e,plugins:wg}),!wg.has(e)){{if(Ow.has(e.name))throw xt("PL3",{name:e.name,plugin:e});wg.add(e),Ow.add(e.name)}if(!e.rxdb)throw Hm("PL1",{plugin:e});e.init&&e.init(),e.prototypes&&Object.entries(e.prototypes).forEach(([t,n])=>n(IO[t])),e.overwritable&&Object.assign(fc,e.overwritable),e.hooks&&Object.entries(e.hooks).forEach(([t,n])=>{n.after&&$d[t].push(n.after),n.before&&$d[t].unshift(n.before)})}}function ns(e,t){return ee(this,null,function*(){var n=Jr(e.input.metaInstance.schema,{isCheckpoint:"1",itemId:t}),r=yield e.input.metaInstance.findDocumentsById([n],!1),i=r[0];if(e.lastCheckpointDoc[t]=i,i)return i.checkpointData})}function rs(e,t,n){return ee(this,null,function*(){e.checkpointQueue=e.checkpointQueue.then(()=>ee(null,null,function*(){var r=e.lastCheckpointDoc[t];if(n&&!e.events.canceled.getValue()&&(!r||JSON.stringify(r.checkpointData)!==JSON.stringify(n))){var i={id:"",isCheckpoint:"1",itemId:t,_deleted:!1,_attachments:{},checkpointData:n,_meta:Um(),_rev:Bn()};for(i.id=Jr(e.input.metaInstance.schema,i);!e.events.canceled.getValue();){if(r&&(i.checkpointData=ei([r.checkpointData,i.checkpointData])),i._meta.lwt=vn(),i._rev=jn(yield e.checkpointKey,r),e.events.canceled.getValue())return;var o=[{previous:r,document:i}],s=yield e.input.metaInstance.bulkWrite(o,"replication-set-checkpoint"),u=lo(e.primaryPath,o,s)[0];if(u){e.lastCheckpointDoc[t]=u;return}else{var d=s.error[0];if(d.status!==409)throw d;r=it(d.documentInDb),i._rev=jn(yield e.checkpointKey,r)}}}})),yield e.checkpointQueue})}function Aw(e){return ee(this,null,function*(){var t=yield e.hashFunction([e.identifier,e.forkInstance.databaseName,e.forkInstance.collectionName].join("||"));return"rx_storage_replication_"+t})}function Cg(e,t,n,r,i){var o=Object.assign({},r,{_attachments:t&&r._attachments?r._attachments:{},_meta:n?r._meta:Object.assign({},i?i._meta:{},{lwt:vn()}),_rev:n?r._rev:Bn()});return o._rev||(o._rev=jn(e,i)),o}function Yn(e,t,n){var r=Lt(e);return t||delete r._attachments,n||(delete r._meta,delete r._rev),r}function Aa(e,t){return e.hasAttachments?t.map(n=>{var r=xi(n.document);return r.docData=iv(r.docData),{document:r,previous:n.previous}}):t}function Sl(e){for(;;)if(e.underlyingPersistentStorage)e=e.underlyingPersistentStorage;else return e}var TO="RxReplicationProtocolMetaData";function Nw(e,t){var n=Zm(e),r={title:TO,primaryKey:{key:"id",fields:["itemId","isCheckpoint"],separator:"|"},type:"object",version:e.version,additionalProperties:!1,properties:{id:{type:"string",minLength:1,maxLength:n+2},isCheckpoint:{type:"string",enum:["0","1"],minLength:1,maxLength:1},itemId:{type:"string",maxLength:n>4?n:4},checkpointData:{type:"object",additionalProperties:!0},docData:{type:"object",properties:e.properties},isResolvedConflict:{type:"string"}},keyCompression:e.keyCompression,required:["id","isCheckpoint","itemId"]};t&&(r.encrypted=["docData"]);var i=Ym(r);return i}function Ml(e,t){return e.input.metaInstance.findDocumentsById(t.map(n=>{var r=Jr(e.input.metaInstance.schema,{itemId:n,isCheckpoint:"0"});return r}),!0).then(n=>{var r={};return Object.values(n).forEach(i=>{r[i.itemId]={docData:i.docData,metaDocument:i}}),r})}function is(e,t,n,r){return ee(this,null,function*(){var i=t[e.primaryPath],o=n?vc(n):{id:"",isCheckpoint:"0",itemId:i,docData:t,_attachments:{},_deleted:!1,_rev:Bn(),_meta:{lwt:0}};o.docData=t,r&&(o.isResolvedConflict=r),o._meta.lwt=vn(),o.id=Jr(e.input.metaInstance.schema,o),o._rev=jn(yield e.checkpointKey,n);var s={previous:n,document:o};return s})}function kw(e){return ee(this,null,function*(){if(e.input.initialCheckpoint&&e.input.initialCheckpoint.downstream){var t=yield ns(e,"down");t||(yield rs(e,"down",e.input.initialCheckpoint.downstream))}var n=yield e.input.hashFunction(e.input.identifier),r=e.input.replicationHandler,i=0,o=[];function s(E){e.stats.down.addNewTask=e.stats.down.addNewTask+1;var R={time:i++,task:E};o.push(R),e.streamQueue.down=e.streamQueue.down.then(()=>{for(var V=[];o.length>0;){e.events.active.down.next(!0);var D=it(o.shift());if(!(D.time<d)){if(D.task==="RESYNC")if(V.length===0){V.push(D.task);break}else break;V.push(D.task)}}if(V.length!==0)return V[0]==="RESYNC"?h():m(V)}).then(()=>{e.events.active.down.next(!1),!e.firstSyncDone.down.getValue()&&!e.events.canceled.getValue()&&e.firstSyncDone.down.next(!0)})}if(s("RESYNC"),!e.events.canceled.getValue()){var u=r.masterChangeStream$.pipe(Ft(E=>ee(null,null,function*(){return yield Ln(e.events.active.up.pipe(gt(R=>!R))),E}))).subscribe(E=>{e.stats.down.masterChangeStreamEmit=e.stats.down.masterChangeStreamEmit+1,s(E)});Ln(e.events.canceled.pipe(gt(E=>!!E))).then(()=>u.unsubscribe())}var d=-1;function h(){return ee(this,null,function*(){if(e.stats.down.downstreamResyncOnce=e.stats.down.downstreamResyncOnce+1,!e.events.canceled.getValue()){e.checkpointQueue=e.checkpointQueue.then(()=>ns(e,"down"));for(var E=yield e.checkpointQueue,R=[];!e.events.canceled.getValue();){d=i++;var V=yield r.masterChangesSince(E,e.input.pullBatchSize);if(V.documents.length===0||(E=ei([E,V.checkpoint]),R.push(C(V.documents,E)),V.documents.length<e.input.pullBatchSize))break}yield Promise.all(R)}})}function m(E){e.stats.down.downstreamProcessChanges=e.stats.down.downstreamProcessChanges+1;var R=[],V=null;return E.forEach(D=>{if(D==="RESYNC")throw new Error("SNH");dc(R,D.documents),V=ei([V,D.checkpoint])}),C(R,it(V))}var _=mn,y={docs:{}};function C(E,R){var V=e.primaryPath;return e.stats.down.persistFromMaster=e.stats.down.persistFromMaster+1,E.forEach(D=>{var M=D[V];y.docs[M]=D}),y.checkpoint=R,_=_.then(()=>{var D=y.docs;y.docs={};var M=y.checkpoint,I=Object.keys(D);if(e.events.canceled.getValue()||I.length===0)return mn;var F=[],O={},$={},J=[];return Promise.all([e.input.forkInstance.findDocumentsById(I,!0),Ml(e,I)]).then(([N,B])=>{var ne=new Map;return N.forEach(oe=>ne.set(oe[V],oe)),Promise.all(I.map(oe=>ee(null,null,function*(){var ye=ne.get(oe),xe=ye?Yn(ye,e.hasAttachments,!1):void 0,Ie=D[oe],Ke=B[oe];Ke&&ye&&Ke.metaDocument.isResolvedConflict===ye._rev&&(yield e.streamQueue.up);var pt=!Ke||!xe?!1:e.input.conflictHandler.isEqual(Ke.docData,xe,"downstream-check-if-equal-0");if(!pt&&Ke&&Ke.docData._rev&&ye&&ye._meta[e.input.identifier]&&_s(ye._rev)===ye._meta[e.input.identifier]&&(pt=!0),ye&&Ke&&pt===!1||ye&&!Ke)return mn;var Ee=xe?e.input.conflictHandler.isEqual(Ie,xe,"downstream-check-if-equal-1"):!1;if(xe&&Ee)return(!Ke||pt===!1)&&J.push(yield is(e,xe,Ke?Ke.metaDocument:void 0)),mn;var It=Object.assign({},Ie,ye?{_meta:Lt(ye._meta),_attachments:e.hasAttachments&&Ie._attachments?Ie._attachments:{},_rev:Bn()}:{_meta:{lwt:vn()},_rev:Bn(),_attachments:e.hasAttachments&&Ie._attachments?Ie._attachments:{}});if(Ie._rev){var Gt=ye?_s(ye._rev)+1:1;It._meta[e.input.identifier]=Gt,e.input.keepMeta&&(It._rev=Ie._rev)}e.input.keepMeta&&Ie._meta&&(It._meta=Ie._meta);var Fe={previous:ye,document:It};Fe.document._rev=Fe.document._rev?Fe.document._rev:jn(n,Fe.previous),F.push(Fe),O[oe]=Fe,$[oe]=yield is(e,Ie,Ke?Ke.metaDocument:void 0)})))}).then(()=>ee(null,null,function*(){if(F.length>0)return e.input.forkInstance.bulkWrite(F,yield e.downstreamBulkWriteFlag).then(N=>{var B=lo(e.primaryPath,F,N);B.forEach(oe=>{var ye=oe[V];e.events.processed.down.next(O[ye]),J.push($[ye])});var ne;if(N.error.forEach(oe=>{if(oe.status!==409){var ye=xt("RC_PULL",{writeError:oe});e.events.error.next(ye),ne=ye}}),ne)throw ne})})).then(()=>{if(J.length>0)return e.input.metaInstance.bulkWrite(Aa(e,J),"replication-down-write-meta").then(N=>{N.error.forEach(B=>{e.events.error.next(xt("RC_PULL",{id:B.documentId,writeError:B}))})})}).then(()=>{rs(e,"down",M)})}).catch(D=>e.events.error.next(D)),_}})}function Pw(e,t,n){return ee(this,null,function*(){var r=e.input.conflictHandler,i=r.isEqual(t.realMasterState,t.newDocumentState,"replication-resolve-conflict");if(!i){var o=yield r.resolve(t,"replication-resolve-conflict"),s=Object.assign({},o,{_meta:Lt(n._meta),_rev:Bn(),_attachments:Lt(n._attachments)});return s._meta.lwt=vn(),s._rev=jn(yield e.checkpointKey,n),s}})}function Na(e,t,n,r){return ee(this,null,function*(){if(!n._attachments||r&&!r._attachments)throw new Error("_attachments missing");var i=n[e],o=new Set(r&&r._attachments?Object.keys(r._attachments):[]);return yield Promise.all(Object.entries(n._attachments).map(d=>ee(null,[d],function*([s,u]){if((!o.has(s)||r&&it(r._attachments)[s].digest!==u.digest)&&!u.data){var h=yield t.getAttachmentData(i,s,u.digest);u.data=h}}))),n})}function Fw(e){return ee(this,null,function*(){if(e.input.initialCheckpoint&&e.input.initialCheckpoint.upstream){var t=yield ns(e,"up");t||(yield rs(e,"up",e.input.initialCheckpoint.upstream))}var n=e.input.replicationHandler;e.streamQueue.up=e.streamQueue.up.then(()=>m().then(()=>_()));var r=0,i=-1,o=[],s=pc,u={docs:{}},d=e.input.forkInstance.changeStream().subscribe(C=>{if(!e.events.paused.getValue())return e.stats.up.forkChangeStreamEmit=e.stats.up.forkChangeStreamEmit+1,o.push({task:C,time:r++}),e.events.active.up.getValue()||e.events.active.up.next(!0),e.input.waitBeforePersist?e.input.waitBeforePersist().then(()=>_()):_()}),h=n.masterChangeStream$.pipe(gt(C=>C==="RESYNC")).subscribe(()=>{o.push({task:"RESYNC",time:r++}),_()});Ln(e.events.canceled.pipe(gt(C=>!!C))).then(()=>{d.unsubscribe(),h.unsubscribe()});function m(){return ee(this,null,function*(){if(e.stats.up.upstreamInitialSync=e.stats.up.upstreamInitialSync+1,!e.events.canceled.getValue()){e.checkpointQueue=e.checkpointQueue.then(()=>ns(e,"up"));for(var C=yield e.checkpointQueue,E=new Set,R=function(){return ee(this,null,function*(){i=r++,E.size>3&&(yield Promise.race(Array.from(E)));var M=yield yc(e.input.forkInstance,e.input.pushBatchSize,C);if(M.documents.length===0)return 1;C=ei([C,M.checkpoint]);var I=y(M.documents,it(C));E.add(I),I.catch().then(()=>E.delete(I))})};!e.events.canceled.getValue()&&!(yield R()););var V=yield Promise.all(E),D=V.find(M=>!!M);D?yield m():!e.firstSyncDone.up.getValue()&&!e.events.canceled.getValue()&&e.firstSyncDone.up.next(!0)}})}function _(){if(e.events.canceled.getValue()||o.length===0){e.events.active.up.next(!1);return}e.stats.up.processTasks=e.stats.up.processTasks+1,e.events.active.up.next(!0),e.streamQueue.up=e.streamQueue.up.then(()=>ee(null,null,function*(){for(var C=[],E;o.length>0;){var R=it(o.shift());if(!(R.time<i)){if(R.task==="RESYNC"){e.events.active.up.next(!1),yield m();return}R.task.context!==(yield e.downstreamBulkWriteFlag)&&dc(C,R.task.events.map(V=>V.documentData)),E=ei([E,R.task.checkpoint])}}if(yield y(C,E),o.length===0)e.events.active.up.next(!1);else return _()}))}function y(C,E){return e.stats.up.persistToMaster=e.stats.up.persistToMaster+1,C.forEach(R=>{var V=R[e.primaryPath];u.docs[V]=R}),u.checkpoint=E,s=s.then(()=>ee(null,null,function*(){if(e.events.canceled.getValue())return!1;var R=u.docs;u.docs={};var V=u.checkpoint,D=Object.keys(R);function M(){return rs(e,"up",V)}if(D.length===0)return M(),!1;var I=yield Ml(e,D),F={},O=[],$={},J={};if(yield Promise.all(D.map(Fe=>ee(null,null,function*(){var Oe=R[Fe];J[Fe]=Oe;var Ve=Yn(Oe,e.hasAttachments,!!e.input.keepMeta),mt=I[Fe];mt&&mt.metaDocument.isResolvedConflict!==Oe._rev&&e.input.conflictHandler.isEqual(mt.docData,Ve,"upstream-check-if-equal")||mt&&mt.docData._rev&&_s(Oe._rev)===Oe._meta[e.input.identifier]||(O.push(Fe),F[Fe]={assumedMasterState:mt?mt.docData:void 0,newDocumentState:Ve},$[Fe]=yield is(e,Ve,mt?mt.metaDocument:void 0))}))),O.length===0)return M(),!1;var N=Object.values(F),B=new Set,ne={},oe=Vm(N,e.input.pushBatchSize);yield Promise.all(oe.map(Fe=>ee(null,null,function*(){e.hasAttachments&&(yield Promise.all(Fe.map(Ve=>ee(null,null,function*(){Ve.newDocumentState=yield Na(e.primaryPath,e.input.forkInstance,xi(Ve.newDocumentState),Ve.assumedMasterState)}))));var Oe=yield n.masterWrite(Fe);Oe.forEach(Ve=>{var mt=Ve[e.primaryPath];B.add(mt),ne[mt]=Ve})})));var ye=[];if(O.forEach(Fe=>{B.has(Fe)||(e.events.processed.up.next(F[Fe]),ye.push($[Fe]))}),e.events.canceled.getValue())return!1;ye.length>0&&(yield e.input.metaInstance.bulkWrite(Aa(e,ye),"replication-up-write-meta"));var xe=!1;if(B.size>0){e.stats.up.persistToMasterHadConflicts=e.stats.up.persistToMasterHadConflicts+1;var Ie=[],Ke={};if(yield Promise.all(Object.entries(ne).map(([Fe,Oe])=>{var Ve=F[Fe],mt={newDocumentState:Ve.newDocumentState,assumedMasterState:Ve.assumedMasterState,realMasterState:Oe};return Pw(e,mt,J[Fe]).then(Tt=>ee(null,null,function*(){if(Tt){e.events.resolvedConflicts.next({input:mt,output:Tt}),Ie.push({previous:J[Fe],document:Tt});var en=I[Fe];Ke[Fe]=yield is(e,it(Oe),en?en.metaDocument:void 0,Tt._rev)}}))})),Ie.length>0){xe=!0,e.stats.up.persistToMasterConflictWrites=e.stats.up.persistToMasterConflictWrites+1;var pt=yield e.input.forkInstance.bulkWrite(Ie,"replication-up-write-conflict"),Ee;if(pt.error.forEach(Fe=>{if(Fe.status!==409){var Oe=xt("RC_PUSH",{writeError:Fe});e.events.error.next(Oe),Ee=Oe}}),Ee)throw Ee;var It=[],Gt=lo(e.primaryPath,Ie,pt);Gt.forEach(Fe=>{var Oe=Fe[e.primaryPath];It.push(Ke[Oe])}),It.length>0&&(yield e.input.metaInstance.bulkWrite(Aa(e,It),"replication-up-write-conflict-meta"))}}return M(),xe})).catch(R=>(e.events.error.next(R),!1)),s}})}function Lw(e){e=Lt(e),e.forkInstance=Sl(e.forkInstance),e.metaInstance=Sl(e.metaInstance);var t=Aw(e),n={primaryPath:Ri(e.forkInstance.schema.primaryKey),hasAttachments:!!e.forkInstance.schema.attachments,input:e,checkpointKey:t,downstreamBulkWriteFlag:t.then(r=>"replication-downstream-"+r),events:{canceled:new rt(!1),paused:new rt(!1),active:{down:new rt(!0),up:new rt(!0)},processed:{down:new We,up:new We},resolvedConflicts:new We,error:new We},stats:{down:{addNewTask:0,downstreamProcessChanges:0,downstreamResyncOnce:0,masterChangeStreamEmit:0,persistFromMaster:0},up:{forkChangeStreamEmit:0,persistToMaster:0,persistToMasterConflictWrites:0,persistToMasterHadConflicts:0,processTasks:0,upstreamInitialSync:0}},firstSyncDone:{down:new rt(!1),up:new rt(!1)},streamQueue:{down:mn,up:mn},checkpointQueue:mn,lastCheckpointDoc:{}};return kw(n),Fw(n),n}function Il(e){return Ln(Zr([e.firstSyncDone.down.pipe(gt(t=>!!t)),e.firstSyncDone.up.pipe(gt(t=>!!t))])).then(()=>{})}function Dg(e){return Promise.all([e.streamQueue.up,e.streamQueue.down,e.checkpointQueue])}function Vw(e,t,n,r=!1){e=Sl(e);var i=!!e.schema.attachments,o=Ri(e.schema.primaryKey),s={masterChangeStream$:e.changeStream().pipe(Ft(d=>ee(null,null,function*(){var h={checkpoint:d.checkpoint,documents:yield Promise.all(d.events.map(m=>ee(null,null,function*(){var _=Yn(m.documentData,i,r);return i&&(_=yield Na(o,e,xi(_),void 0)),_})))};return h}))),masterChangesSince(d,h){return yc(e,h,d).then(m=>ee(null,null,function*(){return{checkpoint:m.documents.length>0?m.checkpoint:d,documents:yield Promise.all(m.documents.map(_=>ee(null,null,function*(){var y=Yn(_,i,r);return i&&(y=yield Na(o,e,xi(y),void 0)),y})))}}))},masterWrite(d){return ee(this,null,function*(){var h={};d.forEach(V=>{var D=V.newDocumentState[o];h[D]=V});var m=Object.keys(h),_=yield e.findDocumentsById(m,!0),y=new Map;_.forEach(V=>y.set(V[o],V));var C=[],E=[];if(yield Promise.all(Object.entries(h).map(([V,D])=>{var M=y.get(V);M?M&&!D.assumedMasterState?C.push(Yn(M,i,r)):t.isEqual(Yn(M,i,r),it(D.assumedMasterState),"rxStorageInstanceToReplicationHandler-masterWrite")===!0?E.push({previous:M,document:Cg(n,i,r,D.newDocumentState,M)}):C.push(Yn(M,i,r)):E.push({document:Cg(n,i,r,D.newDocumentState)})})),E.length>0){var R=yield e.bulkWrite(E,"replication-master-write");R.error.forEach(V=>{if(V.status!==409)throw xt("SNH",{name:"non conflict error",error:V});C.push(Yn(it(V.documentInDb),i,r))})}return C})}};return s}function jw(e){return ee(this,null,function*(){e.events.canceled.next(!0),e.events.active.up.complete(),e.events.active.down.complete(),e.events.processed.up.complete(),e.events.processed.down.complete(),e.events.resolvedConflicts.complete(),e.events.canceled.complete(),yield e.checkpointQueue})}function Bw(e){return e&&typeof e.then=="function"}var xO=Promise.resolve(!1),Uw=Promise.resolve(!0),In=Promise.resolve();function _r(e,t){return e||(e=0),new Promise(function(n){return setTimeout(function(){return n(t)},e)})}function Hw(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function Vr(){return Math.random().toString(36).substring(2)}var Eg=0;function jr(){var e=Date.now()*1e3;return e<=Eg&&(e=Eg+1),Eg=e,e}function $w(){return typeof navigator<"u"&&typeof navigator.locks<"u"&&typeof navigator.locks.request=="function"}var RO=jr,OO="native";function AO(e){var t={time:jr(),messagesCallback:null,bc:new BroadcastChannel(e),subFns:[]};return t.bc.onmessage=function(n){t.messagesCallback&&t.messagesCallback(n.data)},t}function NO(e){e.bc.close(),e.subFns=[]}function kO(e,t){try{return e.bc.postMessage(t,!1),In}catch(n){return Promise.reject(n)}}function PO(e,t){e.messagesCallback=t}function FO(){if(typeof globalThis<"u"&&globalThis.Deno&&globalThis.Deno.args)return!0;if((typeof window<"u"||typeof self<"u")&&typeof BroadcastChannel=="function"){if(BroadcastChannel._pubkey)throw new Error("BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill");return!0}else return!1}function LO(){return 150}var qw={create:AO,close:NO,onMessage:PO,postMessage:kO,canBeUsed:FO,type:OO,averageResponseTime:LO,microSeconds:RO};function os(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=JSON.parse(JSON.stringify(e));return typeof t.webWorkerSupport>"u"&&(t.webWorkerSupport=!0),t.idb||(t.idb={}),t.idb.ttl||(t.idb.ttl=1e3*45),t.idb.fallbackInterval||(t.idb.fallbackInterval=150),e.idb&&typeof e.idb.onclose=="function"&&(t.idb.onclose=e.idb.onclose),t.localstorage||(t.localstorage={}),t.localstorage.removeTimeout||(t.localstorage.removeTimeout=1e3*60),e.methods&&(t.methods=e.methods),t.node||(t.node={}),t.node.ttl||(t.node.ttl=1e3*60*2),t.node.maxParallelWrites||(t.node.maxParallelWrites=2048),typeof t.node.useFastPath>"u"&&(t.node.useFastPath=!0),t}var VO=jr,jO="pubkey.broadcast-channel-0-",Br="messages",Tl={durability:"relaxed"},BO="idb";function zw(){if(typeof indexedDB<"u")return indexedDB;if(typeof window<"u"){if(typeof window.mozIndexedDB<"u")return window.mozIndexedDB;if(typeof window.webkitIndexedDB<"u")return window.webkitIndexedDB;if(typeof window.msIndexedDB<"u")return window.msIndexedDB}return!1}function Sg(e){e.commit&&e.commit()}function UO(e){var t=zw(),n=jO+e,r=t.open(n);return r.onupgradeneeded=function(i){var o=i.target.result;o.createObjectStore(Br,{keyPath:"id",autoIncrement:!0})},new Promise(function(i,o){r.onerror=function(s){return o(s)},r.onsuccess=function(){i(r.result)}})}function HO(e,t,n){var r=Date.now(),i={uuid:t,time:r,data:n},o=e.transaction([Br],"readwrite",Tl);return new Promise(function(s,u){o.oncomplete=function(){return s()},o.onerror=function(h){return u(h)};var d=o.objectStore(Br);d.add(i),Sg(o)})}function $O(e,t){var n=e.transaction(Br,"readonly",Tl),r=n.objectStore(Br),i=[],o=IDBKeyRange.bound(t+1,1/0);if(r.getAll){var s=r.getAll(o);return new Promise(function(d,h){s.onerror=function(m){return h(m)},s.onsuccess=function(m){d(m.target.result)}})}function u(){try{return o=IDBKeyRange.bound(t+1,1/0),r.openCursor(o)}catch{return r.openCursor()}}return new Promise(function(d,h){var m=u();m.onerror=function(_){return h(_)},m.onsuccess=function(_){var y=_.target.result;y?y.value.id<t+1?y.continue(t+1):(i.push(y.value),y.continue()):(Sg(n),d(i))}})}function qO(e,t){if(e.closed)return Promise.resolve([]);var n=e.db.transaction(Br,"readwrite",Tl),r=n.objectStore(Br);return Promise.all(t.map(function(i){var o=r.delete(i);return new Promise(function(s){o.onsuccess=function(){return s()}})}))}function zO(e,t){var n=Date.now()-t,r=e.transaction(Br,"readonly",Tl),i=r.objectStore(Br),o=[];return new Promise(function(s){i.openCursor().onsuccess=function(u){var d=u.target.result;if(d){var h=d.value;h.time<n?(o.push(h),d.continue()):(Sg(r),s(o))}else s(o)}})}function WO(e){return zO(e.db,e.options.idb.ttl).then(function(t){return qO(e,t.map(function(n){return n.id}))})}function GO(e,t){return t=os(t),UO(e).then(function(n){var r={closed:!1,lastCursorId:0,channelName:e,options:t,uuid:Vr(),eMIs:new bc(t.idb.ttl*2),writeBlockPromise:In,messagesCallback:null,readQueuePromises:[],db:n};return n.onclose=function(){r.closed=!0,t.idb.onclose&&t.idb.onclose()},Ww(r),r})}function Ww(e){e.closed||Gw(e).then(function(){return _r(e.options.idb.fallbackInterval)}).then(function(){return Ww(e)})}function KO(e,t){return!(e.uuid===t.uuid||t.eMIs.has(e.id)||e.data.time<t.messagesCallbackTime)}function Gw(e){return e.closed?In:e.messagesCallback?$O(e.db,e.lastCursorId).then(function(t){var n=t.filter(function(r){return!!r}).map(function(r){return r.id>e.lastCursorId&&(e.lastCursorId=r.id),r}).filter(function(r){return KO(r,e)}).sort(function(r,i){return r.time-i.time});return n.forEach(function(r){e.messagesCallback&&(e.eMIs.add(r.id),e.messagesCallback(r.data))}),In}):In}function QO(e){e.closed=!0,e.db.close()}function ZO(e,t){return e.writeBlockPromise=e.writeBlockPromise.then(function(){return HO(e.db,e.uuid,t)}).then(function(){Hw(0,10)===0&&WO(e)}),e.writeBlockPromise}function YO(e,t,n){e.messagesCallbackTime=n,e.messagesCallback=t,Gw(e)}function XO(){return!!zw()}function JO(e){return e.idb.fallbackInterval*2}var Kw={create:GO,close:QO,onMessage:YO,postMessage:ZO,canBeUsed:XO,type:BO,averageResponseTime:JO,microSeconds:VO};var eA=jr,tA="pubkey.broadcastChannel-",nA="localstorage";function Qw(){var e;if(typeof window>"u")return null;try{e=window.localStorage,e=window["ie8-eventlistener/storage"]||window.localStorage}catch{}return e}function Zw(e){return tA+e}function rA(e,t){return new Promise(function(n){_r().then(function(){var r=Zw(e.channelName),i={token:Vr(),time:Date.now(),data:t,uuid:e.uuid},o=JSON.stringify(i);Qw().setItem(r,o);var s=document.createEvent("Event");s.initEvent("storage",!0,!0),s.key=r,s.newValue=o,window.dispatchEvent(s),n()})})}function iA(e,t){var n=Zw(e),r=function(o){o.key===n&&t(JSON.parse(o.newValue))};return window.addEventListener("storage",r),r}function oA(e){window.removeEventListener("storage",e)}function sA(e,t){if(t=os(t),!Yw())throw new Error("BroadcastChannel: localstorage cannot be used");var n=Vr(),r=new bc(t.localstorage.removeTimeout),i={channelName:e,uuid:n,eMIs:r};return i.listener=iA(e,function(o){i.messagesCallback&&o.uuid!==n&&(!o.token||r.has(o.token)||o.data.time&&o.data.time<i.messagesCallbackTime||(r.add(o.token),i.messagesCallback(o.data)))}),i}function aA(e){oA(e.listener)}function cA(e,t,n){e.messagesCallbackTime=n,e.messagesCallback=t}function Yw(){var e=Qw();if(!e)return!1;try{var t="__broadcastchannel_check";e.setItem(t,"works"),e.removeItem(t)}catch{return!1}return!0}function uA(){var e=120,t=navigator.userAgent.toLowerCase();return t.includes("safari")&&!t.includes("chrome")?e*2:e}var Xw={create:sA,close:aA,onMessage:cA,postMessage:rA,canBeUsed:Yw,type:nA,averageResponseTime:uA,microSeconds:eA};var Jw=jr,lA="simulate",Mg=new Set;function dA(e){var t={time:Jw(),name:e,messagesCallback:null};return Mg.add(t),t}function fA(e){Mg.delete(e)}var eC=5;function hA(e,t){return new Promise(function(n){return setTimeout(function(){var r=Array.from(Mg);r.forEach(function(i){i.name===e.name&&i!==e&&i.messagesCallback&&i.time<t.time&&i.messagesCallback(t)}),n()},eC)})}function pA(e,t){e.messagesCallback=t}function gA(){return!0}function mA(){return eC}var tC={create:dA,close:fA,onMessage:pA,postMessage:hA,canBeUsed:gA,type:lA,averageResponseTime:mA,microSeconds:Jw};var nC=[qw,Kw,Xw];function rC(e){var t=[].concat(e.methods,nC).filter(Boolean);if(e.type){if(e.type==="simulate")return tC;var n=t.find(function(i){return i.type===e.type});if(n)return n;throw new Error("method-type "+e.type+" not found")}e.webWorkerSupport||(t=t.filter(function(i){return i.type!=="idb"}));var r=t.find(function(i){return i.canBeUsed()});if(r)return r;throw new Error("No usable method found in "+JSON.stringify(nC.map(function(i){return i.type})))}var Ig=new Set,vA=0,ka=function(t,n){this.id=vA++,Ig.add(this),this.name=t,iC&&(n=iC),this.options=os(n),this.method=rC(this.options),this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._uMP=new Set,this._befC=[],this._prepP=null,yA(this)};ka._pubkey=!0;var iC;ka.prototype={postMessage:function(t){if(this.closed)throw new Error("BroadcastChannel.postMessage(): Cannot post message after channel has closed "+JSON.stringify(t));return oC(this,"message",t)},postInternal:function(t){return oC(this,"internal",t)},set onmessage(e){var t=this.method.microSeconds(),n={time:t,fn:e};aC(this,"message",this._onML),e&&typeof e=="function"?(this._onML=n,sC(this,"message",n)):this._onML=null},addEventListener:function(t,n){var r=this.method.microSeconds(),i={time:r,fn:n};sC(this,t,i)},removeEventListener:function(t,n){var r=this._addEL[t].find(function(i){return i.fn===n});aC(this,t,r)},close:function(){var t=this;if(!this.closed){Ig.delete(this),this.closed=!0;var n=this._prepP?this._prepP:In;return this._onML=null,this._addEL.message=[],n.then(function(){return Promise.all(Array.from(t._uMP))}).then(function(){return Promise.all(t._befC.map(function(r){return r()}))}).then(function(){return t.method.close(t._state)})}},get type(){return this.method.type},get isClosed(){return this.closed}};function oC(e,t,n){var r=e.method.microSeconds(),i={time:r,type:t,data:n},o=e._prepP?e._prepP:In;return o.then(function(){var s=e.method.postMessage(e._state,i);return e._uMP.add(s),s.catch().then(function(){return e._uMP.delete(s)}),s})}function yA(e){var t=e.method.create(e.name,e.options);Bw(t)?(e._prepP=t,t.then(function(n){e._state=n})):e._state=t}function cC(e){return e._addEL.message.length>0||e._addEL.internal.length>0}function sC(e,t,n){e._addEL[t].push(n),bA(e)}function aC(e,t,n){e._addEL[t]=e._addEL[t].filter(function(r){return r!==n}),_A(e)}function bA(e){if(!e._iL&&cC(e)){var t=function(i){e._addEL[i.type].forEach(function(o){i.time>=o.time&&o.fn(i.data)})},n=e.method.microSeconds();e._prepP?e._prepP.then(function(){e._iL=!0,e.method.onMessage(e._state,t,n)}):(e._iL=!0,e.method.onMessage(e._state,t,n))}}function _A(e){if(e._iL&&!cC(e)){e._iL=!1;var t=e.method.microSeconds();e.method.onMessage(e._state,null,t)}}function uC(e){if(typeof WorkerGlobalScope=="function"&&self instanceof WorkerGlobalScope){var t=self.close.bind(self);self.close=function(){return e(),t()}}else{if(typeof window.addEventListener!="function")return;window.addEventListener("beforeunload",function(){e()},!0),window.addEventListener("unload",function(){e()},!0)}}function lC(e){process.on("exit",function(){return e()}),process.on("beforeExit",function(){return e().then(function(){return process.exit()})}),process.on("SIGINT",function(){return e().then(function(){return process.exit()})}),process.on("uncaughtException",function(t){return e().then(function(){console.trace(t),process.exit(101)})})}var wA=Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]",CA=wA?lC:uC,Pa=new Set,dC=!1;function DA(){dC||(dC=!0,CA(EA))}function fC(e){if(DA(),typeof e!="function")throw new Error("Listener is no function");Pa.add(e);var t={remove:function(){return Pa.delete(e)},run:function(){return Pa.delete(e),e()}};return t}function EA(){var e=[];return Pa.forEach(function(t){e.push(t()),Pa.delete(t)}),Promise.all(e)}function Ur(e,t){var n={context:"leader",action:t,token:e.token};return e.broadcastChannel.postInternal(n)}function xl(e){e.isLeader=!0,e._hasLeader=!0;var t=fC(function(){return e.die()});e._unl.push(t);var n=function(i){i.context==="leader"&&i.action==="apply"&&Ur(e,"tell"),i.context==="leader"&&i.action==="tell"&&!e._dpLC&&(e._dpLC=!0,e._dpL(),Ur(e,"tell"))};return e.broadcastChannel.addEventListener("internal",n),e._lstns.push(n),Ur(e,"tell")}var Tg=function(t,n){var r=this;this.broadcastChannel=t,t._befC.push(function(){return r.die()}),this._options=n,this.isLeader=!1,this.isDead=!1,this.token=Vr(),this._lstns=[],this._unl=[],this._dpL=function(){},this._dpLC=!1,this._wKMC={},this.lN="pubkey-bc||"+t.method.type+"||"+t.name};Tg.prototype={hasLeader:function(){var t=this;return navigator.locks.query().then(function(n){var r=n.held?n.held.filter(function(i){return i.name===t.lN}):[];return!!(r&&r.length>0)})},awaitLeadership:function(){var t=this;if(!this._wLMP){this._wKMC.c=new AbortController;var n=new Promise(function(r,i){t._wKMC.res=r,t._wKMC.rej=i});this._wLMP=new Promise(function(r){navigator.locks.request(t.lN,{signal:t._wKMC.c.signal},function(){return t._wKMC.c=void 0,xl(t),r(),n}).catch(function(){})})}return this._wLMP},set onduplicate(e){},die:function(){var t=this;return this._lstns.forEach(function(n){return t.broadcastChannel.removeEventListener("internal",n)}),this._lstns=[],this._unl.forEach(function(n){return n.remove()}),this._unl=[],this.isLeader&&(this.isLeader=!1),this.isDead=!0,this._wKMC.res&&this._wKMC.res(),this._wKMC.c&&this._wKMC.c.abort("LeaderElectionWebLock.die() called"),Ur(this,"death")}};var hC=function(t,n){var r=this;this.broadcastChannel=t,this._options=n,this.isLeader=!1,this._hasLeader=!1,this.isDead=!1,this.token=Vr(),this._aplQ=In,this._aplQC=0,this._unl=[],this._lstns=[],this._dpL=function(){},this._dpLC=!1;var i=function(s){s.context==="leader"&&(s.action==="death"&&(r._hasLeader=!1),s.action==="tell"&&(r._hasLeader=!0))};this.broadcastChannel.addEventListener("internal",i),this._lstns.push(i)};hC.prototype={hasLeader:function(){return Promise.resolve(this._hasLeader)},applyOnce:function(t){var n=this;if(this.isLeader)return _r(0,!0);if(this.isDead)return _r(0,!1);if(this._aplQC>1)return this._aplQ;var r=function(){if(n.isLeader)return Uw;var o=!1,s,u=new Promise(function(m){s=function(){o=!0,m()}}),d=function(_){_.context==="leader"&&_.token!=n.token&&(_.action==="apply"&&_.token>n.token&&s(),_.action==="tell"&&(s(),n._hasLeader=!0))};n.broadcastChannel.addEventListener("internal",d);var h=t?n._options.responseTime*4:n._options.responseTime;return Ur(n,"apply").then(function(){return Promise.race([_r(h),u.then(function(){return Promise.reject(new Error)})])}).then(function(){return Ur(n,"apply")}).then(function(){return Promise.race([_r(h),u.then(function(){return Promise.reject(new Error)})])}).catch(function(){}).then(function(){return n.broadcastChannel.removeEventListener("internal",d),o?!1:xl(n).then(function(){return!0})})};return this._aplQC=this._aplQC+1,this._aplQ=this._aplQ.then(function(){return r()}).then(function(){n._aplQC=n._aplQC-1}),this._aplQ.then(function(){return n.isLeader})},awaitLeadership:function(){return this._aLP||(this._aLP=SA(this)),this._aLP},set onduplicate(e){this._dpL=e},die:function(){var t=this;return this._lstns.forEach(function(n){return t.broadcastChannel.removeEventListener("internal",n)}),this._lstns=[],this._unl.forEach(function(n){return n.remove()}),this._unl=[],this.isLeader&&(this._hasLeader=!1,this.isLeader=!1),this.isDead=!0,Ur(this,"death")}};function SA(e){return e.isLeader?In:new Promise(function(t){var n=!1;function r(){n||(n=!0,e.broadcastChannel.removeEventListener("internal",o),t(!0))}e.applyOnce().then(function(){e.isLeader&&r()});var i=function(){return _r(e._options.fallbackInterval).then(function(){if(!(e.isDead||n))if(e.isLeader)r();else return e.applyOnce(!0).then(function(){e.isLeader?r():i()})})};i();var o=function(u){u.context==="leader"&&u.action==="death"&&(e._hasLeader=!1,e.applyOnce().then(function(){e.isLeader&&r()}))};e.broadcastChannel.addEventListener("internal",o),e._lstns.push(o)})}function MA(e,t){return e||(e={}),e=JSON.parse(JSON.stringify(e)),e.fallbackInterval||(e.fallbackInterval=3e3),e.responseTime||(e.responseTime=t.method.averageResponseTime(t.options)),e}function xg(e,t){if(e._leaderElector)throw new Error("BroadcastChannel already has a leader-elector");t=MA(t,e);var n=$w()?new Tg(e,t):new hC(e,t);return e._befC.push(function(){return n.die()}),e._leaderElector=n,n}var Rl=new Map;function Rg(e,t,n,r){var i=Rl.get(t);return i||(i={bc:new ka(["RxDB:",e,n].join("|")),refs:new Set},Rl.set(t,i)),i.refs.add(r),i.bc}function Ol(e,t){var n=Rl.get(e);if(n&&(n.refs.delete(t),n.refs.size===0))return Rl.delete(e),n.bc.close()}function pC(e,t,n,r){if(t.multiInstance){var i=r||Rg(e,t.databaseInstanceToken,n.databaseName,n),o=new We,s=y=>{y.storageName===e&&y.databaseName===t.databaseName&&y.collectionName===t.collectionName&&y.version===t.schema.version&&o.next(y.eventBulk)};i.addEventListener("message",s);var u=n.changeStream(),d=!1,h=u.subscribe(y=>{d||i.postMessage({storageName:e,databaseName:t.databaseName,collectionName:t.collectionName,version:t.schema.version,eventBulk:y})});n.changeStream=function(){return o.asObservable().pipe(km(u))};var m=n.close.bind(n);n.close=function(){return ee(this,null,function*(){return d=!0,h.unsubscribe(),i.removeEventListener("message",s),r||(yield Ol(t.databaseInstanceToken,n)),m()})};var _=n.remove.bind(n);n.remove=function(){return ee(this,null,function*(){return d=!0,h.unsubscribe(),i.removeEventListener("message",s),r||(yield Ol(t.databaseInstanceToken,n)),_()})}}}var mC=new WeakMap,IA=new WeakMap;function gC(e){return uo(IA,e,()=>xg(e))}function TA(){var e=Rg(this.storage.name,this.token,this.name,this),t=this.close.bind(this);this.close=function(){return Ol(this.token,this),t()};var n=gC(e);return n||(n=gC(e),mC.set(this,n)),this.leaderElector=()=>n,n}function xA(){return this.multiInstance?this.leaderElector().isLeader:!0}function RA(){return this.multiInstance?this.leaderElector().awaitLeadership().then(()=>!0):hc}function OA(e){var t=mC.get(e);t&&t.die()}var AA=!0,NA={RxDatabase:e=>{e.leaderElector=TA,e.isLeader=xA,e.waitForLeadership=RA}},Al={name:"leader-election",rxdb:AA,prototypes:NA,hooks:{preCloseRxDatabase:{after:OA}}};var Og=e=>Promise.resolve(e);function Ag(e,t){if(e==="_deleted")return t;t=Lt(t);var n=!!t._deleted;return t[e]=n,delete t._deleted,t}function Nl(e,t,n){return n.map(r=>{var i=Lt(r);if(t!=="_deleted"){var o=!!i[t];i._deleted=o,delete i[t]}else i._deleted=!!i._deleted;var s=e.schema.primaryPath;return i[s]=Jr(e.schema.jsonSchema,i),i})}function Ng(e,t){if(typeof window>"u"||typeof window!="object"||typeof window.addEventListener>"u"||navigator.onLine)return e.promiseWait(t);var n,r=new Promise(i=>{n=()=>{window.removeEventListener("online",n),i()},window.addEventListener("online",n)});return Promise.race([r,e.promiseWait(t)]).then(()=>{window.removeEventListener("online",n)})}function vC(e){function t(){if(!(typeof document>"u"||typeof document.dispatchEvent!="function")){var r=new Event("mousemove");document.dispatchEvent(r)}}var n=setInterval(t,20*1e3);e.onCancel.push(()=>clearInterval(n))}var kA=new WeakMap,PA=function(){function e(n,r,i,o,s,u,d,h,m){this.subs=[],this.subjects={received:new We,sent:new We,error:new We,canceled:new rt(!1),active:new rt(!1)},this.received$=this.subjects.received.asObservable(),this.sent$=this.subjects.sent.asObservable(),this.error$=this.subjects.error.asObservable(),this.canceled$=this.subjects.canceled.asObservable(),this.active$=this.subjects.active.asObservable(),this.wasStarted=!1,this.startQueue=mn,this.onCancel=[],this.callOnStart=void 0,this.remoteEvents$=new We,this.replicationIdentifier=n,this.collection=r,this.deletedField=i,this.pull=o,this.push=s,this.live=u,this.retryTime=d,this.autoStart=h,this.toggleOnDocumentVisible=m,this.metaInfoPromise=ee(this,null,function*(){var C="rx-replication-meta-"+(yield r.database.hashFunction([this.collection.name,this.replicationIdentifier].join("-"))),E=Nw(this.collection.schema.jsonSchema,sv(this.collection.schema.jsonSchema));return{collectionName:C,schema:E}});var _=uo(kA,r,()=>[]);_.push(this),this.collection.onClose.push(()=>this.cancel()),Object.keys(this.subjects).forEach(C=>{Object.defineProperty(this,C+"$",{get:function(){return this.subjects[C].asObservable()}})});var y=new Promise(C=>{this.callOnStart=C});this.startPromise=y}var t=e.prototype;return t.start=function(){return this.startQueue=this.startQueue.then(()=>this._start()),this.startQueue},t._start=function(){return ee(this,null,function*(){if(!this.isStopped()){if(this.internalReplicationState&&this.internalReplicationState.events.paused.next(!1),this.wasStarted){this.reSync();return}this.wasStarted=!0,this.toggleOnDocumentVisible||vC(this);var r=this.pull&&this.pull.modifier?this.pull.modifier:Og,i=this.push&&this.push.modifier?this.push.modifier:Og,o=this.collection.database,s=yield this.metaInfoPromise,[u]=yield Promise.all([this.collection.database.storage.createStorageInstance({databaseName:o.name,collectionName:s.collectionName,databaseInstanceToken:o.token,multiInstance:o.multiInstance,options:{},schema:s.schema,password:o.password,devMode:fc.isDevMode()}),uv(this.collection,s.collectionName,s.schema)]);this.metaInstance=u,this.internalReplicationState=Lw({pushBatchSize:this.push&&this.push.batchSize?this.push.batchSize:100,pullBatchSize:this.pull&&this.pull.batchSize?this.pull.batchSize:100,initialCheckpoint:{upstream:this.push?this.push.initialCheckpoint:void 0,downstream:this.pull?this.pull.initialCheckpoint:void 0},forkInstance:this.collection.storageInstance,metaInstance:this.metaInstance,hashFunction:o.hashFunction,identifier:"rxdbreplication"+this.replicationIdentifier,conflictHandler:this.collection.conflictHandler,replicationHandler:{masterChangeStream$:this.remoteEvents$.asObservable().pipe(gt(d=>!!this.pull),Ft(d=>ee(this,null,function*(){if(d==="RESYNC")return d;var h=Lt(d);return h.documents=Nl(this.collection,this.deletedField,h.documents),h.documents=yield Promise.all(h.documents.map(m=>r(m))),h}))),masterChangesSince:(d,h)=>ee(this,null,function*(){if(!this.pull)return{checkpoint:null,documents:[]};for(var m=!1,_={};!m&&!this.isStoppedOrPaused();)try{_=yield this.pull.handler(d,h),m=!0}catch(E){var y=xt("RC_PULL",{checkpoint:d,errors:ao(E).map(R=>Hd(R)),direction:"pull"});this.subjects.error.next(y),yield Ng(this.collection,it(this.retryTime))}if(this.isStoppedOrPaused())return{checkpoint:null,documents:[]};var C=Lt(_);return C.documents=Nl(this.collection,this.deletedField,C.documents),C.documents=yield Promise.all(C.documents.map(E=>r(E))),C}),masterWrite:d=>ee(this,null,function*(){if(!this.push)return[];var h=!1;yield qd("preReplicationMasterWrite",{rows:d,collection:this.collection});var m=yield Promise.all(d.map(R=>ee(this,null,function*(){return R.newDocumentState=yield i(R.newDocumentState),R.newDocumentState===null?null:(R.assumedMasterState&&(R.assumedMasterState=yield i(R.assumedMasterState)),this.deletedField!=="_deleted"&&(R.newDocumentState=Ag(this.deletedField,R.newDocumentState),R.assumedMasterState&&(R.assumedMasterState=Ag(this.deletedField,R.assumedMasterState))),R)}))),_=m.filter(jm),y=null;for(_.length===0&&(h=!0,y=[]);!h&&!this.isStoppedOrPaused();)try{if(y=yield this.push.handler(_),!Array.isArray(y))throw xt("RC_PUSH_NO_AR",{pushRows:d,direction:"push",args:{result:y}});h=!0}catch(R){var C=R.rxdb?R:xt("RC_PUSH",{pushRows:d,errors:ao(R).map(V=>Hd(V)),direction:"push"});this.subjects.error.next(C),yield Ng(this.collection,it(this.retryTime))}if(this.isStoppedOrPaused())return[];yield qd("preReplicationMasterWriteDocumentsHandle",{result:y,collection:this.collection});var E=Nl(this.collection,this.deletedField,it(y));return E})}}),this.subs.push(this.internalReplicationState.events.error.subscribe(d=>{this.subjects.error.next(d)}),this.internalReplicationState.events.processed.down.subscribe(d=>this.subjects.received.next(d.document)),this.internalReplicationState.events.processed.up.subscribe(d=>{this.subjects.sent.next(d.newDocumentState)}),Zr([this.internalReplicationState.events.active.down,this.internalReplicationState.events.active.up]).subscribe(([d,h])=>{var m=d||h;this.subjects.active.next(m)})),this.pull&&this.pull.stream$&&this.live&&this.subs.push(this.pull.stream$.subscribe({next:d=>{this.isStoppedOrPaused()||this.remoteEvents$.next(d)},error:d=>{this.subjects.error.next(d)}})),this.live||(yield Il(this.internalReplicationState),yield Dg(this.internalReplicationState),yield this._cancel()),this.callOnStart()}})},t.pause=function(){return this.startQueue=this.startQueue.then(()=>{this.internalReplicationState&&this.internalReplicationState.events.paused.next(!0)}),this.startQueue},t.isPaused=function(){return!!(this.internalReplicationState&&this.internalReplicationState.events.paused.getValue())},t.isStopped=function(){return!!this.subjects.canceled.getValue()},t.isStoppedOrPaused=function(){return this.isPaused()||this.isStopped()},t.awaitInitialReplication=function(){return ee(this,null,function*(){return yield this.startPromise,Il(it(this.internalReplicationState))})},t.awaitInSync=function(){return ee(this,null,function*(){yield this.startPromise,yield Il(it(this.internalReplicationState));for(var r=2;r>0;)r--,yield this.collection.database.requestIdlePromise(),yield Dg(it(this.internalReplicationState));return!0})},t.reSync=function(){this.remoteEvents$.next("RESYNC")},t.emitEvent=function(r){this.remoteEvents$.next(r)},t.cancel=function(){return ee(this,null,function*(){this.startQueue=this.startQueue.catch(()=>{}).then(()=>ee(this,null,function*(){yield this._cancel()})),yield this.startQueue})},t._cancel=function(r=!1){return ee(this,null,function*(){if(this.isStopped())return pc;var i=this.onCancel.map(o=>zm(o()));return this.internalReplicationState&&(yield jw(this.internalReplicationState)),this.metaInstance&&!r&&i.push(it(this.internalReplicationState).checkpointQueue.then(()=>it(this.metaInstance).close())),this.subs.forEach(o=>o.unsubscribe()),this.subjects.canceled.next(!0),this.subjects.active.complete(),this.subjects.canceled.complete(),this.subjects.error.complete(),this.subjects.received.complete(),this.subjects.sent.complete(),Promise.all(i)})},t.remove=function(){return ee(this,null,function*(){return this.startQueue=this.startQueue.then(()=>ee(this,null,function*(){var r=yield this.metaInfoPromise;yield this._cancel(!0),yield it(this.internalReplicationState).checkpointQueue.then(()=>it(this.metaInstance).remove()),yield lv(this.collection,r.collectionName,r.schema)})),this.startQueue})},e}();function yC({replicationIdentifier:e,collection:t,deletedField:n="_deleted",pull:r,push:i,live:o=!0,retryTime:s=1e3*5,waitForLeadership:u=!0,autoStart:d=!0,toggleOnDocumentVisible:h=!1}){if(ts(Al),!r&&!i)throw xt("UT3",{collection:t.name,args:{replicationIdentifier:e}});var m=new PA(e,t,n,r,i,o,s,d,h);if(h&&typeof document<"u"&&typeof document.addEventListener=="function"&&typeof document.visibilityState=="string"){var _=()=>{if(!m.isStopped()){var y=document.visibilityState==="visible";y?m.start():t.database.isLeader()||m.pause()}};document.addEventListener("visibilitychange",_),m.onCancel.push(()=>document.removeEventListener("visibilitychange",_))}return FA(u,m),m}function FA(e,t){var n=e&&t.collection.database.multiInstance,r=n?t.collection.database.waitForLeadership():hc;return r.then(()=>{t.isStopped()||t.autoStart&&t.start()})}function bC(e,t,n){return ee(this,null,function*(){var r=(yield e([t,n].join("|")))>(yield e([n,t].join("|")));return r})}function kl(e,t,n){var r=n.id,i=Ln(e.response$.pipe(gt(o=>o.peer===t),gt(o=>o.response.id===r),et(o=>o.response)));return e.send(t,n),i}var EC=Mm(wC(),1);var LA=EC.default;function Pg(e,t){e.send(JSON.stringify(t))}var SC="signaling.rxdb.info",CC="wss://"+SC+"/",DC=!1,VA=1e3*60*2;function MC({signalingServerUrl:e=CC,wrtc:t,config:n,webSocketConstructor:r=WebSocket}){jA(),e.includes(SC)&&!DC&&(DC=!0,console.warn(["RxDB Warning: You are using the RxDB WebRTC replication plugin","but you did not specify your own signaling server url.","By default it will use a signaling server provided by RxDB at "+CC,"This server is made for demonstration purposes and tryouts. It is not reliable and might be offline at any time.","In production you must always use your own signaling server instead.","Learn how to run your own server at https://rxdb.info/replication-webrtc.html","Also leave a \u2B50 at the RxDB github repo \u{1F64F} https://github.com/pubkey/rxdb \u{1F64F}"].join(" ")));var i=o=>ee(null,null,function*(){var s=new We,u=new We,d=new We,h=new We,m=new We,_=new Map,y=!1,C,E=void 0;R(),ee(null,null,function*(){for(;yield qm(VA/2),!y;)E&&Pg(E,{type:"ping"})});function R(){y||(E=new r(e),E.onclose=()=>R(),E.onopen=()=>{it(E).onmessage=M=>{var I=JSON.parse(M.data);switch(I.type){case"init":C=I.yourPeerId,Pg(it(E),{type:"join",room:o.topic});break;case"joined":var F=function($){var J=!1,N=new LA({initiator:$>C,wrtc:t,config:n,trickle:!0});N.id=co(10),_.set($,N),N.on("signal",B=>{Pg(it(E),{type:"signal",senderPeerId:C,receiverPeerId:$,room:o.topic,data:B})}),N.on("data",B=>{B=JSON.parse(B.toString()),B.result?h.next({peer:N,response:B}):d.next({peer:N,message:B})}),N.on("error",B=>{m.next(xt("RC_WEBRTC_PEER",{error:B})),N.destroy(),J||(J=!0,u.next(N))}),N.on("connect",()=>{s.next(N)}),N.on("close",()=>{J||(J=!0,u.next(N)),F($)})};I.otherPeerIds.forEach($=>{$===C||_.has($)||F($)});break;case"signal":var O=gc(_,I.senderPeerId);O.signal(I.data);break}}})}var V={error$:m,connect$:s,disconnect$:u,message$:d,response$:h,send(M,I){return ee(this,null,function*(){yield M.send(JSON.stringify(I))})},close(){return y=!0,it(E).close(),m.complete(),s.complete(),u.complete(),d.complete(),h.complete(),mn}};return V});return i}function jA(){if(typeof process>"u"||typeof process.nextTick!="function")throw xt("RC7")}function IC(e){return ee(this,null,function*(){var t=e.collection;ts(Al),e.pull&&(e.pull.batchSize||(e.pull.batchSize=20)),e.push&&(e.push.batchSize||(e.push.batchSize=20)),t.database.multiInstance&&(yield t.database.waitForLeadership());var n=0,r=co(10);function i(){var d=n++;return t.database.token+"|"+r+"|"+d}var o=yield t.database.storageToken,s=new BA(t,e,yield e.connectionHandlerCreator(e));s.subs.push(s.connectionHandler.error$.subscribe(d=>s.error$.next(d)),s.connectionHandler.disconnect$.subscribe(d=>s.removePeer(d))),s.subs.push(s.connectionHandler.message$.pipe(gt(d=>d.message.method==="token")).subscribe(d=>{s.connectionHandler.send(d.peer,{id:d.message.id,result:o})}));var u=s.connectionHandler.connect$.pipe(gt(()=>!s.canceled)).subscribe(d=>ee(null,null,function*(){if(e.isPeerValid){var h=yield e.isPeerValid(d);if(!h)return}var m;try{var _=yield kl(s.connectionHandler,d,{id:i(),method:"token",params:[]});m=_.result}catch(D){s.error$.next(xt("RC_WEBRTC_PEER",{error:D}));return}var y=yield bC(t.database.hashFunction,o,m),C;if(y){var E=s.masterReplicationHandler,R=E.masterChangeStream$.subscribe(D=>{var M={id:"masterChangeStream$",result:D};s.connectionHandler.send(d,M)});s.subs.push(R,s.connectionHandler.disconnect$.pipe(gt(D=>D===d)).subscribe(()=>R.unsubscribe()));var V=s.connectionHandler.message$.pipe(gt(D=>D.peer===d),gt(D=>D.message.method!=="token")).subscribe(D=>ee(null,null,function*(){var{peer:M,message:I}=D,F=E[I.method].bind(E),O=yield F(...I.params),$={id:I.id,result:O};s.connectionHandler.send(M,$)}));s.subs.push(V)}else{let D,M;C=yC({replicationIdentifier:[t.name,e.topic,m].join("||"),collection:t,autoStart:!0,deletedField:"_deleted",live:!0,retryTime:e.retryTime,waitForLeadership:!1,pull:e.pull?Object.assign({},e.pull,{handler(I){return ee(this,null,function*(){var F=yield kl(s.connectionHandler,d,{method:"masterChangesSince",params:[I,it(e.pull).batchSize],id:i()});return F.result})},stream$:s.connectionHandler.response$.pipe(gt(I=>I.response.id==="masterChangeStream$"),et(I=>I.response.result))}):void 0,push:e.push?Object.assign({},e.push,{handler(I){return ee(this,null,function*(){var F=yield kl(s.connectionHandler,d,{method:"masterWrite",params:[I],id:i()});return F.result})}}):void 0})}s.addPeer(d,C)}));return s.subs.push(u),s})}var BA=function(){function e(n,r,i){this.peerStates$=new rt(new Map),this.canceled=!1,this.subs=[],this.error$=new We,this.collection=n,this.options=r,this.connectionHandler=i,this.collection.onClose.push(()=>this.cancel()),this.masterReplicationHandler=Vw(n.storageInstance,n.conflictHandler,n.database.token)}var t=e.prototype;return t.addPeer=function(r,i){var o={peer:r,replicationState:i,subs:[]};this.peerStates$.next(this.peerStates$.getValue().set(r,o)),i&&o.subs.push(i.error$.subscribe(s=>this.error$.next(s)))},t.removePeer=function(r){var i=gc(this.peerStates$.getValue(),r);this.peerStates$.getValue().delete(r),this.peerStates$.next(this.peerStates$.getValue()),i.subs.forEach(o=>o.unsubscribe()),i.replicationState&&i.replicationState.cancel()},t.awaitFirstPeer=function(){return Ln(this.peerStates$.pipe(gt(r=>r.size>0)))},t.cancel=function(){return ee(this,null,function*(){this.canceled||(this.canceled=!0,this.subs.forEach(r=>r.unsubscribe()),Array.from(this.peerStates$.getValue().keys()).forEach(r=>{this.removePeer(r)}),yield this.connectionHandler.close())})},e}();var Pl=Mm(TC(),1),xC=Symbol.for("Dexie"),Fa=globalThis[xC]||(globalThis[xC]=Pl.default);if(Pl.default.semVer!==Fa.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Pl.default.semVer} and ${Fa.semVer}`);var{liveQuery:C2,mergeRanges:D2,rangesOverlap:E2,RangeSet:S2,cmp:M2,Entity:I2,PropModSymbol:T2,PropModification:x2,replacePrefix:R2,add:O2,remove:A2}=Fa;var La="docs",UA="changes",RC="attachments",Ll="dexie",OC=new Map,Fl=new Map;function AC(e,t,n,r){var i="rxdb-dexie-"+e+"--"+r.version+"--"+t,o=uo(OC,i,()=>{var s=ee(null,null,function*(){var u=Lt(n);u.autoOpen=!1;var d=new Fa(i,u);n.onCreate&&(yield n.onCreate(d,i));var h={[La]:HA(r),[UA]:"++sequence, id",[RC]:"id"};return d.version(1).stores(h),yield d.open(),{dexieDb:d,dexieTable:d[La],dexieAttachmentsTable:d[RC],booleanIndexes:$A(r)}});return OC.set(i,o),Fl.set(o,0),s});return o}function NC(e){return ee(this,null,function*(){var t=yield e,n=Fl.get(e),r=n-1;r===0?(t.dexieDb.close(),Fl.delete(e)):Fl.set(e,r)})}var Vg="__";function Xi(e){var t=e.split(".");if(t.length>1)return t.map(r=>Xi(r)).join(".");if(e.startsWith("|")){var n=e.substring(1);return Vg+n}else return e}function kC(e){var t=e.split(".");if(t.length>1)return t.map(r=>kC(r)).join(".");if(e.startsWith(Vg)){var n=e.substring(Vg.length);return"|"+n}else return e}function PC(e,t){if(!t)return t;var n=Lt(t);return n=jg(n),e.forEach(r=>{var i=Bd(t,r),o=i?"1":"0",s=Xi(r);Ud(n,s,o)}),n}function Ug(e,t){return t&&(t=Lt(t),t=Bg(t),e.forEach(n=>{var r=Bd(t,n),i=r==="1";Ud(t,n,i)}),t)}function jg(e){if(!e||typeof e=="string"||typeof e=="number"||typeof e=="boolean")return e;if(Array.isArray(e))return e.map(n=>jg(n));if(typeof e=="object"){var t={};return Object.entries(e).forEach(([n,r])=>{typeof r=="object"&&(r=jg(r)),t[Xi(n)]=r}),t}}function Bg(e){if(!e||typeof e=="string"||typeof e=="number"||typeof e=="boolean")return e;if(Array.isArray(e))return e.map(n=>Bg(n));if(typeof e=="object"){var t={};return Object.entries(e).forEach(([n,r])=>{(typeof r=="object"||Array.isArray(e))&&(r=Bg(r)),t[kC(n)]=r}),t}}function HA(e){var t=[],n=Ri(e.primaryKey);t.push([n]),t.push(["_deleted",n]),e.indexes&&e.indexes.forEach(o=>{var s=ao(o);t.push(s)}),t.push(["_meta.lwt",n]),t.push(["_meta.lwt"]),t=t.map(o=>o.map(s=>Xi(s)));var r=t.map(o=>o.length===1?o[0]:"["+o.join("+")+"]");r=r.filter((o,s,u)=>u.indexOf(o)===s);var i=r.join(", ");return i}function Hg(e,t){return ee(this,null,function*(){var n=yield e,r=yield n.dexieTable.bulkGet(t);return r.map(i=>Ug(n.booleanIndexes,i))})}function Va(e,t){return e+"||"+t}function $A(e){var t=new Set,n=[];return e.indexes?(e.indexes.forEach(r=>{var i=ao(r);i.forEach(o=>{if(!t.has(o)){t.add(o);var s=Qm(e,o);s.type==="boolean"&&n.push(o)}})}),n.push("_deleted"),Bm(n)):n}function FC(e){return e===ev?-1/0:e}function LC(e,t,n){if(e.includes(t)){var r=n===Jm||n===!0?"1":"0";return r}else return n}function VC(e,t,n){if(!n){if(typeof window>"u")throw new Error("IDBKeyRange missing");n=window.IDBKeyRange}var r=t.startKeys.map((s,u)=>{var d=t.index[u];return LC(e,d,s)}).map(FC),i=t.endKeys.map((s,u)=>{var d=t.index[u];return LC(e,d,s)}).map(FC),o=n.bound(r,i,!t.inclusiveStart,!t.inclusiveEnd);return o}function $g(e,t){return ee(this,null,function*(){var n=yield e.internals,r=t.query,i=r.skip?r.skip:0,o=r.limit?r.limit:1/0,s=i+o,u=t.queryPlan,d=!1;u.selectorSatisfiedByIndex||(d=nv(e.schema,t.query));var h=VC(n.booleanIndexes,u,n.dexieDb._options.IDBKeyRange),m=u.index,_=[];if(yield n.dexieDb.transaction("r",n.dexieTable,C=>ee(null,null,function*(){var E=C.idbtrans,R=E.objectStore(La),V,D;D="["+m.map(I=>Xi(I)).join("+")+"]",V=R.index(D);var M=V.openCursor(h);yield new Promise(I=>{M.onsuccess=function(F){var O=F.target.result;if(O){var $=Ug(n.booleanIndexes,O.value);(!d||d($))&&_.push($),u.sortSatisfiedByIndex&&_.length===s?I():O.continue()}else I()}})})),!u.sortSatisfiedByIndex){var y=tv(e.schema,t.query);_=_.sort(y)}return _=_.slice(i,s),{documents:_}})}function jC(e,t){return ee(this,null,function*(){var n=yield e.internals,r=t.queryPlan,i=r.index,o=VC(n.booleanIndexes,r,n.dexieDb._options.IDBKeyRange),s=-1;return yield n.dexieDb.transaction("r",n.dexieTable,u=>ee(null,null,function*(){var d=u.idbtrans,h=d.objectStore(La),m,_;_="["+i.map(C=>Xi(C)).join("+")+"]",m=h.index(_);var y=m.count(o);s=yield new Promise((C,E)=>{y.onsuccess=function(){C(y.result)},y.onerror=R=>E(R)})})),s})}var qA=vn(),qg=!1,zA=function(){function e(n,r,i,o,s,u,d,h){this.changes$=new We,this.instanceId=qA++,this.storage=n,this.databaseName=r,this.collectionName=i,this.schema=o,this.internals=s,this.options=u,this.settings=d,this.devMode=h,this.primaryPath=Ri(this.schema.primaryKey)}var t=e.prototype;return t.bulkWrite=function(r,i){return ee(this,null,function*(){Ji(this),!qg&&!(yield Gm())&&console.warn(["-------------- RxDB Open Core RxStorage -------------------------------","You are using the free Dexie.js based RxStorage implementation from RxDB https://rxdb.info/rx-storage-dexie.html?console=dexie ","While this is a great option, we want to let you know that there are faster storage solutions available in our premium plugins.","For professional users and production environments, we highly recommend considering these premium options to enhance performance and reliability."," https://rxdb.info/premium/?console=dexie ","If you already purchased premium access you can disable this log by calling the setPremiumFlag() function from rxdb-premium/plugins/shared.","---------------------------------------------------------------------"].join(`
`)),qg=!0,r.forEach(m=>{if(!m.document._rev||m.previous&&!m.previous._rev)throw xt("SNH",{args:{row:m}})});var o=yield this.internals,s={error:[]};this.devMode&&(r=r.map(m=>{var _=vc(m.document);return{previous:m.previous,document:_}}));var u=r.map(m=>m.document[this.primaryPath]),d;if(yield o.dexieDb.transaction("rw",o.dexieTable,o.dexieAttachmentsTable,()=>ee(this,null,function*(){var m=new Map,_=yield Hg(this.internals,u);_.forEach(E=>{var R=E;return R&&m.set(R[this.primaryPath],R),R}),d=rv(this,this.primaryPath,m,r,i),s.error=d.errors;var y=[];d.bulkInsertDocs.forEach(E=>{y.push(E.document)}),d.bulkUpdateDocs.forEach(E=>{y.push(E.document)}),y=y.map(E=>PC(o.booleanIndexes,E)),y.length>0&&(yield o.dexieTable.bulkPut(y));var C=[];d.attachmentsAdd.forEach(E=>{C.push({id:Va(E.documentId,E.attachmentId),data:E.attachmentData.data})}),d.attachmentsUpdate.forEach(E=>{C.push({id:Va(E.documentId,E.attachmentId),data:E.attachmentData.data})}),yield o.dexieAttachmentsTable.bulkPut(C),yield o.dexieAttachmentsTable.bulkDelete(d.attachmentsRemove.map(E=>Va(E.documentId,E.attachmentId)))})),d=it(d),d.eventBulk.events.length>0){var h=it(d.newestRow).document;d.eventBulk.checkpoint={id:h[this.primaryPath],lwt:h._meta.lwt},this.changes$.next(d.eventBulk)}return s})},t.findDocumentsById=function(r,i){return ee(this,null,function*(){Ji(this);var o=yield this.internals,s=[];return yield o.dexieDb.transaction("r",o.dexieTable,()=>ee(this,null,function*(){var u=yield Hg(this.internals,r);u.forEach(d=>{d&&(!d._deleted||i)&&s.push(d)})})),s})},t.query=function(r){return Ji(this),$g(this,r)},t.count=function(r){return ee(this,null,function*(){if(r.queryPlan.selectorSatisfiedByIndex){var i=yield jC(this,r);return{count:i,mode:"fast"}}else{var o=yield $g(this,r);return{count:o.documents.length,mode:"slow"}}})},t.changeStream=function(){return Ji(this),this.changes$.asObservable()},t.cleanup=function(r){return ee(this,null,function*(){Ji(this);var i=yield this.internals;return yield i.dexieDb.transaction("rw",i.dexieTable,()=>ee(this,null,function*(){var o=vn()-r,s=yield i.dexieTable.where("_meta.lwt").below(o).toArray(),u=[];s.forEach(d=>{d._deleted==="1"&&u.push(d[this.primaryPath])}),yield i.dexieTable.bulkDelete(u)})),!0})},t.getAttachmentData=function(r,i,o){return ee(this,null,function*(){Ji(this);var s=yield this.internals,u=Va(r,i);return yield s.dexieDb.transaction("r",s.dexieAttachmentsTable,()=>ee(this,null,function*(){var d=yield s.dexieAttachmentsTable.get(u);if(d)return d.data;throw new Error("attachment missing documentId: "+r+" attachmentId: "+i)}))})},t.remove=function(){return ee(this,null,function*(){Ji(this);var r=yield this.internals;return yield r.dexieTable.clear(),this.close()})},t.close=function(){return this.closed?this.closed:(this.closed=ee(this,null,function*(){this.changes$.complete(),yield NC(this.internals)}),this.closed)},e}();function BC(e,t,n){return ee(this,null,function*(){var r=AC(t.databaseName,t.collectionName,n,t.schema),i=new zA(e,t.databaseName,t.collectionName,t.schema,r,t.options,n,t.devMode);return yield pC(Ll,t,i),Promise.resolve(i)})}function Ji(e){if(e.closed)throw new Error("RxStorageInstanceDexie is closed "+e.databaseName+"-"+e.collectionName)}var WA=function(){function e(n){this.name=Ll,this.rxdbVersion=mc,this.settings=n}var t=e.prototype;return t.createStorageInstance=function(r){if(ov(r),r.schema.indexes){var i=r.schema.indexes.flat();i.filter(o=>!o.includes(".")).forEach(o=>{if(!r.schema.required||!r.schema.required.includes(o))throw xt("DXE1",{field:o,schema:r.schema})})}return BC(this,r,this.settings)},e}();function UC(e={}){var t=new WA(e);return t}var HC=typeof mode<"u"?mode:"development";console.log("mode: "+HC);var zg=UC(),$C=ee(null,null,function*(){HC==="development"&&(yield import("./chunk-ZXSRORXO.js").then(i=>ts(i.RxDBDevModePlugin)),yield import("./chunk-CD5FTXHT.js").then(i=>{zg=i.wrappedValidateAjvStorage({storage:zg})}));let e=window.location.hash;(!e||e.length<5)&&(window.location.hash="room-1",window.location.reload());let t=yield $m(e),n=yield hv({name:"tpdp-"+mc.replace(/\./g,"-")+"-"+t.substring(0,10),storage:zg}),r={isEqual(i,o){return Wm(i,o)},resolve(i){let o=i.newDocumentState.lastChange>i.realMasterState.lastChange?i.newDocumentState:i.realMasterState;return Promise.resolve(o)}};return yield n.addCollections({todos:{schema:{version:0,primaryKey:"id",type:"object",properties:{id:{type:"string",maxLength:20},name:{type:"string"},state:{type:"string",enum:["open","done"],maxLength:10},lastChange:{type:"number",minimum:0,maximum:2701307494132,multipleOf:1}},required:["id","name","state","lastChange"],indexes:["state",["state","lastChange"]]},conflictHandler:r}}),n.todos.preSave(i=>(i.lastChange=Date.now(),i),!0),yield n.todos.bulkInsert(["touch your \u{1F443} with your \u{1F445}","solve rubik's cube \u{1F3B2} blindfolded","invent new \u{1F354}"].map((i,o)=>({id:"todo-"+o,name:i,lastChange:0,state:"open"}))),IC({collection:n.todos,connectionHandlerCreator:MC({}),topic:t.substring(0,10),pull:{},push:{}}).then(i=>{i.error$.subscribe(o=>{console.log("replication error:"),console.dir(o)}),i.peerStates$.subscribe(o=>{console.log("new peer states:"),console.dir(o)})}),n});var ss=class e{database;initPromise;todosSubject=new rt([]);copyUrlSubject=new rt("");todos$=this.todosSubject.asObservable();copyUrl$=this.copyUrlSubject.asObservable();constructor(){this.initPromise=this.init()}init(){return ee(this,null,function*(){this.database=yield $C,this.copyUrlSubject.next(window.location.href),this.database.todos.find({sort:[{state:"desc"},{lastChange:"desc"}]}).$.subscribe(t=>{this.todosSubject.next(t)})})}addTodo(t){return ee(this,null,function*(){yield this.initPromise,!(t.length<1)&&(yield this.database.todos.insert({id:co(10),name:t,state:"open",lastChange:Date.now()}))})}toggleTodo(t){return ee(this,null,function*(){yield this.initPromise,yield t.incrementalPatch({state:t.state==="done"?"open":"done"})})}toggleAll(){return ee(this,null,function*(){yield this.initPromise;let t=this.todosSubject.value,r=this.getAllCompleted()?"open":"done";yield Promise.all(t.map(i=>i.incrementalPatch({state:r})))})}updateTodoName(t,n){return ee(this,null,function*(){yield this.initPromise,n=n.replace(/<br>/g,"").replace(/\&nbsp;/g," ").trim(),n!==t.name&&(yield t.incrementalPatch({name:n}))})}deleteTodo(t){return ee(this,null,function*(){yield this.initPromise,yield t.remove()})}clearCompleted(){return ee(this,null,function*(){yield this.initPromise,yield this.database.todos.find({selector:{state:"done"}}).remove()})}getRemainingCount(){return this.todosSubject.value.filter(t=>t.state==="open").length}getCompletedCount(){return this.todosSubject.value.filter(t=>t.state==="done").length}getAllCompleted(){let t=this.todosSubject.value;return t.length>0&&t.every(n=>n.state==="done")}escapeForHTML(t){return t.replace(/[&<]/g,n=>n==="&"?"&":"<")}static \u0275fac=function(n){return new(n||e)};static \u0275prov=be({token:e,factory:e.\u0275fac,providedIn:"root"})};function GA(e,t){if(e&1){let n=zt();re(0,"li")(1,"div",22)(2,"input",23),Pe("change",function(){let i=ot(n).$implicit,o=Ye();return st(o.toggleTodo(i))}),ie(),re(3,"label",24),Pe("blur",function(i){let o=ot(n).$implicit,s=Ye();return st(s.updateTodoName(o,i))})("keydown.enter",function(i){let o=ot(n).$implicit,s=Ye();return st(s.updateTodoName(o,i))}),ie(),re(4,"button",25),Pe("click",function(){let i=ot(n).$implicit,o=Ye();return st(o.deleteTodo(i))}),ie()()()}if(e&2){let n=t.$implicit,r=Ye();Lo("completed",n.state==="done"),Te(2),ut("checked",n.state==="done"),Te(),ut("contentEditable",!0)("innerHTML",r.escapeForHTML(n.name),Kb)}}function KA(e,t){if(e&1){let n=zt();re(0,"button",30),Pe("click",function(){ot(n);let i=Ye(2);return st(i.clearCompleted())}),fe(1," Clear completed "),ie()}}function QA(e,t){if(e&1&&(re(0,"footer",26)(1,"span",27),fe(2),ie(),Ot(3,"ul",28),St(4,KA,2,0,"button",29),ie()),e&2){let n=Ye();Te(2),up("",n.remainingCount," item",n.remainingCount!==1?"s":""," left"),Te(2),ut("ngIf",n.completedCount>0)}}var Vl=class e{constructor(t){this.p2pService=t}todos=[];newTodo="";copyUrl="";allCompleted=!1;remainingCount=0;completedCount=0;subscription=new Qr;ngOnInit(){console.log("TodoP2pComponent initialized"),this.subscription.add(this.p2pService.todos$.subscribe(t=>{console.log("Component received todos update:",t.length,"items"),this.todos=t,this.updateCounts()})),this.subscription.add(this.p2pService.copyUrl$.subscribe(t=>{this.copyUrl=t}))}ngOnDestroy(){this.subscription.unsubscribe()}updateCounts(){this.remainingCount=this.p2pService.getRemainingCount(),this.completedCount=this.p2pService.getCompletedCount(),this.allCompleted=this.p2pService.getAllCompleted()}addTodo(){return ee(this,null,function*(){console.log("Component addTodo called with:",this.newTodo),this.newTodo.trim()&&(yield this.p2pService.addTodo(this.newTodo.trim()),this.newTodo="",console.log("Component addTodo completed"))})}toggleTodo(t){return ee(this,null,function*(){yield this.p2pService.toggleTodo(t)})}toggleAll(){return ee(this,null,function*(){yield this.p2pService.toggleAll()})}updateTodoName(t,n){return ee(this,null,function*(){let r=n.target,i=r.innerText||r.textContent||"";yield this.p2pService.updateTodoName(t,i)})}deleteTodo(t){return ee(this,null,function*(){yield this.p2pService.deleteTodo(t)})}clearCompleted(){return ee(this,null,function*(){yield this.p2pService.clearCompleted()})}escapeForHTML(t){return this.p2pService.escapeForHTML(t)}static \u0275fac=function(n){return new(n||e)(Ae(ss))};static \u0275cmp=Rt({type:e,selectors:[["app-todo-p2p"]],decls:47,vars:5,consts:[["newTodoInput",""],["id","forkongithub"],["href","https://github.com/pubkey/rxdb-quickstart","target","_blank"],[1,"todoapp"],[1,"header"],[1,"description"],["href","https://rxdb.info/offline-first.html","target","_blank"],["href","https://rxdb.info/","target","_blank"],["href","https://rxdb.info/replication-p2p.html","target","_blank"],["id","copy-url"],["href","https://github.com/pubkey/rxdb-quickstart/blob/master/src/index.ts","target","_blank"],["href","https://rxdb.info/quickstart.html","target","_blank"],["id","insert-todo","placeholder","What needs to be done? (Enter to submit)","autofocus","",1,"new-todo",3,"ngModelChange","keydown.enter","blur","ngModel"],[1,"main"],["id","toggle-all","type","checkbox",1,"toggle-all",3,"change","checked"],["for","toggle-all"],["id","todo-list",1,"todo-list"],[3,"completed",4,"ngFor","ngForOf"],["class","footer",4,"ngIf"],[1,"info"],["href","https://github.com/pubkey","target","_blank"],["href","https://rxdb.info"],[1,"view"],["type","checkbox",1,"toggle",3,"change","checked"],[3,"blur","keydown.enter","contentEditable","innerHTML"],[1,"destroy",3,"click"],[1,"footer"],[1,"todo-count"],[1,"filters"],["class","clear-completed","id","clear-completed",3,"click",4,"ngIf"],["id","clear-completed",1,"clear-completed",3,"click"]],template:function(n,r){if(n&1){let i=zt();re(0,"span",1)(1,"a",2),fe(2,"Fork me on GitHub"),ie()(),re(3,"section",3)(4,"header",4)(5,"h1"),fe(6,"p2p todos"),ie(),re(7,"p",5),fe(8," This is a "),re(9,"a",6),fe(10,"local first"),ie(),fe(11," todo app that stores data locally with "),re(12,"a",7),fe(13,"RxDB"),ie(),fe(14," and replicates it "),re(15,"a",8),fe(16,"peer-to-peer with WebRTC"),ie(),fe(17," to other devices without sending the data through any central server. Open this url in another browser/device/tab to test the replication: "),Ot(18,"br"),re(19,"code",9),fe(20),ie(),Ot(21,"br"),fe(22," The whole app is implemented without a framework in about 200 lines of TypeScript code. To learn more about how it works, I recommend looking at the "),re(23,"a",10),fe(24,"source code"),ie(),fe(25," and read the "),re(26,"a",11),fe(27,"RxDB Quickstart Guide"),ie(),fe(28,". "),ie(),Ot(29,"hr"),re(30,"input",12,0),Wn("ngModelChange",function(s){return ot(i),dr(r.newTodo,s)||(r.newTodo=s),st(s)}),Pe("keydown.enter",function(){return ot(i),st(r.addTodo())})("blur",function(){return ot(i),st(r.addTodo())}),ie()(),re(32,"section",13)(33,"input",14),Pe("change",function(){return ot(i),st(r.toggleAll())}),ie(),re(34,"label",15),fe(35,"Mark all as complete"),ie(),re(36,"ul",16),St(37,GA,5,5,"li",17),ie(),St(38,QA,5,3,"footer",18),ie()(),re(39,"footer",19)(40,"p"),fe(41,"Written by "),re(42,"a",20),fe(43,"Daniel"),ie()(),re(44,"p")(45,"a",21),fe(46,"Powered by RxDB"),ie()()()}n&2&&(Te(20),on(r.copyUrl),Te(10),zn("ngModel",r.newTodo),Te(3),ut("checked",r.allCompleted),Te(4),ut("ngForOf",r.todos),Te(),ut("ngIf",r.todos.length>0))},dependencies:[Bt,li,En,gr,pr,fi,Lr],styles:['.description[_ngcontent-%COMP%]{padding:15px;margin-bottom:10px}code[_ngcontent-%COMP%]{display:block;padding:15px;overflow-wrap:break-word;word-wrap:break-word;word-break:break-word;hyphens:auto}a[_ngcontent-%COMP%]{color:#b83f45;font-weight:700;text-decoration:none}a[_ngcontent-%COMP%]:visited{color:#b83f45}#forkongithub[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background:#000;color:#fff;text-decoration:none;font-family:arial,sans-serif;text-align:center;font-weight:700;padding:5px 40px;font-size:1rem;line-height:2rem;position:relative;transition:.5s}#forkongithub[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#b83f45;color:#fff}#forkongithub[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before, #forkongithub[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after{content:"";width:100%;display:block;position:absolute;top:1px;left:0;height:1px;background:#fff}#forkongithub[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after{bottom:1px;top:auto}@media screen and (min-width:800px){#forkongithub[_ngcontent-%COMP%]{position:fixed;display:block;top:0;right:0;width:200px;overflow:hidden;height:200px;z-index:9999}#forkongithub[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:200px;position:absolute;top:60px;right:-60px;transform:rotate(45deg);-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);-moz-transform:rotate(45deg);-o-transform:rotate(45deg);box-shadow:4px 4px 10px #000c}}']})};var jl=class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=_t({type:e});static \u0275inj=bt({imports:[Bt]})};var Bl=class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=_t({type:e});static \u0275inj=bt({imports:[Bt]})};var Ul=class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=_t({type:e});static \u0275inj=bt({imports:[Bt,gr]})};var Hl=class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=_t({type:e});static \u0275inj=bt({imports:[Bt,Ul]})};var $l=class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=_t({type:e});static \u0275inj=bt({imports:[Bt,gr]})};var ql=class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=_t({type:e});static \u0275inj=bt({imports:[Bt,$l]})};var zl=class e{textInput="";message="";constructor(){}processText(t){return ee(this,null,function*(){try{let i=yield(yield(yield navigator.storage.getDirectory()).getFileHandle("jah_bless.txt",{create:!0})).createWritable();return yield i.write(t),yield i.close(),this.message="Jah Bless: Texto guardado en OPFS - "+t,this.message}catch(n){return console.error("Error guardando en OPFS:",n),this.message="Error: No se pudo guardar el texto",this.message}})}readText(){return ee(this,null,function*(){try{return yield(yield(yield(yield navigator.storage.getDirectory()).getFileHandle("jah_bless.txt")).getFile()).text()}catch(t){return console.error("Error leyendo de OPFS:",t),"Error: No se pudo leer el archivo"}})}listarArchivos(){return ee(this,null,function*(){try{let o=yield navigator.storage.getDirectory(),s=[];try{for(var t=uc(o.values()),n,r,i;n=!(r=yield t.next()).done;n=!1){let u=r.value;u.kind==="file"&&s.push(u.name)}}catch{i=[r]}finally{try{n&&(r=t.return)&&(yield r.call(t))}finally{if(i)throw i[0]}}return s}catch(o){throw console.error("Error listando archivos de OPFS:",o),new Error("No se pudieron listar los archivos de OPFS.")}})}static \u0275fac=function(n){return new(n||e)};static \u0275prov=be({token:e,factory:e.\u0275fac,providedIn:"root"})};var Wl=class e{directoryHandle=null;solicitarPermisos(){return ee(this,null,function*(){if(!("showDirectoryPicker"in window))return console.error("\u274C File System Access API no soportada en este navegador"),alert("Esta funcionalidad requiere un navegador compatible como Chrome o Edge, y debe estar en HTTPS o localhost."),!1;try{return this.directoryHandle=yield window.showDirectoryPicker(),console.log("\u2705 Permisos de File System concedidos"),!0}catch(t){return console.error("\u274C Usuario deneg\xF3 permisos:",t),!1}})}guardarArchivo(t,n){return ee(this,null,function*(){if(!this.directoryHandle)throw new Error("Primero solicita permisos");try{let i=yield(yield this.directoryHandle.getFileHandle(t,{create:!0})).createWritable();yield i.write(n),yield i.close(),console.log("\u2705 Archivo guardado:",t)}catch(r){throw console.error("\u274C Error guardando archivo:",r),r}})}leerArchivo(t){return ee(this,null,function*(){if(!this.directoryHandle)throw new Error("Primero solicita permisos");try{return yield(yield(yield this.directoryHandle.getFileHandle(t)).getFile()).text()}catch(n){throw console.error("\u274C Error leyendo archivo:",n),n}})}listarArchivos(){return ee(this,null,function*(){if(!this.directoryHandle)return[];let t=[];try{for(var n=uc(this.directoryHandle.entries()),r,i,o;r=!(i=yield n.next()).done;r=!1){let[s,u]=i.value;u.kind==="file"&&t.push(s)}}catch{o=[i]}finally{try{r&&(i=n.return)&&(yield i.call(n))}finally{if(o)throw o[0]}}return t})}static \u0275fac=function(n){return new(n||e)};static \u0275prov=be({token:e,factory:e.\u0275fac,providedIn:"root"})};var as=class e{pomodorosSubject=new rt([]);pomodoros$=this.pomodorosSubject.asObservable();updatePomodoros(t){this.pomodorosSubject.next(t)}static \u0275fac=function(n){return new(n||e)};static \u0275prov=be({token:e,factory:e.\u0275fac,providedIn:"root"})};var bi=class e{constructor(t){this.sessionLogService=t}initialTime=25*60;timer$=new rt(this.initialTime);timerSubscription;isPaused=!1;currentTime=this.initialTime;pomodoroCounter=0;completedPomodoros=[];isRunning$=new rt(!1);autoReset$=new We;currentSession=null;currentSession$=new rt(null);start(){if(this.timerSubscription&&!this.timerSubscription.closed&&!this.isPaused)return;let t=this.isPaused?this.currentTime:this.initialTime;this.isPaused=!1,this.isRunning$.next(!0),this.timerSubscription=Am(0,1e3).pipe(Yr(t+1),et(n=>t-n),qt(n=>{if(n===0){this.pomodoroCounter++;let r=new Date,i=r.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"}),o=new Date(r.getTime()-this.initialTime*1e3).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"}),s=this.getCurrentSession(),u=s&&s.title?s.title:`Tarea ${this.pomodoroCounter}`,d=s&&s.description?s.description:"";this.completedPomodoros.push({task:u,startTime:o,endTime:i,duration:this.initialTime,description:d}),this.sessionLogService.updatePomodoros(this.completedPomodoros),this.reset(),this.autoReset$.next()}})).subscribe(n=>{this.currentTime=n,this.timer$.next(n)})}pause(){this.timerSubscription&&(this.timerSubscription.unsubscribe(),this.isPaused=!0,this.isRunning$.next(!1))}reset(){this.timerSubscription&&this.timerSubscription.unsubscribe(),this.isPaused=!1,this.currentTime=this.initialTime,this.timer$.next(this.initialTime),this.isRunning$.next(!1)}getTimer(){return this.timer$.asObservable()}getIsRunning(){return this.isRunning$.asObservable()}getAutoReset(){return this.autoReset$.asObservable()}skip(){if(this.timerSubscription&&!this.timerSubscription.closed){this.timerSubscription.unsubscribe(),this.pomodoroCounter++;let t=new Date,n=t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"}),r=this.initialTime-this.currentTime,i=new Date(t.getTime()-r*1e3).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"}),o=this.getCurrentSession(),s=o&&o.title?o.title:`Tarea ${this.pomodoroCounter}`,u=o&&o.description?o.description:"";this.completedPomodoros.push({task:s,startTime:i,endTime:n,duration:r,description:u}),this.sessionLogService.updatePomodoros(this.completedPomodoros),this.reset(),this.autoReset$.next()}}getInitialTime(){return this.initialTime}setInitialTime(t){this.initialTime=t,this.reset()}setCurrentSession(t){this.currentSession=t,this.currentSession$.next(t)}getCurrentSession(){return this.currentSession}getCurrentSessionObservable(){return this.currentSession$.asObservable()}static \u0275fac=function(n){return new(n||e)(Re(as))};static \u0275prov=be({token:e,factory:e.\u0275fac,providedIn:"root"})};var _i=class e{transform(t){let n=Math.floor(t/60),r=t-n*60;return("0"+n).slice(-2)+":"+("0"+r).slice(-2)}static \u0275fac=function(n){return new(n||e)};static \u0275pipe=Du({name:"formatTime",type:e,pure:!0})};function XA(e,t){if(e&1&&(re(0,"div",15)(1,"h3"),fe(2),ie()()),e&2){let n=Ye();Te(2),on(n.currentSessionTitle)}}function JA(e,t){if(e&1&&(re(0,"span"),fe(1),fr(2,"formatTime"),ie()),e&2){let n=t.ngIf;Te(),on(hr(2,1,n))}}function eN(e,t){e&1&&(Ro(),Ot(0,"path",16))}function tN(e,t){e&1&&(Ro(),Ot(0,"path",17))}var Gl=class e{constructor(t,n,r){this.clockService=t;this.renderer=n;this.el=r;this.clockService.getCurrentSessionObservable().subscribe(i=>{this.currentSessionTitle=i?i.title:""}),this.clockService.getAutoReset().subscribe(()=>{this.currentSessionTitle=""})}timer$;isRunning$;isRunningSubscription;isRunningValue=!1;autoResetSubscription;isRotated=!1;currentSessionTitle="";ngOnInit(){this.timer$=this.clockService.getTimer(),this.isRunning$=this.clockService.getIsRunning(),this.isRunningSubscription=this.isRunning$.subscribe(t=>{this.isRunningValue=t}),this.timer$.subscribe(t=>{}),this.autoResetSubscription=this.clockService.getAutoReset().subscribe(()=>{let t=this.el.nativeElement.querySelector(".play-pause-btn");t&&(this.renderer.addClass(t,"auto-reset"),setTimeout(()=>{this.renderer.removeClass(t,"auto-reset")},500))})}ngOnDestroy(){this.isRunningSubscription&&this.isRunningSubscription.unsubscribe(),this.autoResetSubscription&&this.autoResetSubscription.unsubscribe()}togglePlayPause(){this.isRunningValue?this.pause():this.toggleStartPause()}toggleStartPause(){this.clockService.start()}pause(){this.clockService.pause()}reset(){let t=this.el.nativeElement.querySelector(".reset-btn svg");t&&(this.isRotated?(this.renderer.removeClass(t,"rotated"),this.renderer.addClass(t,"second-rotate"),setTimeout(()=>{this.renderer.removeClass(t,"second-rotate")},500)):this.renderer.addClass(t,"rotated"),this.isRotated=!this.isRotated),this.clockService.reset();let n=this.el.nativeElement.querySelector(".play-pause-btn");n&&(this.renderer.addClass(n,"auto-reset"),setTimeout(()=>{this.renderer.removeClass(n,"auto-reset")},500))}skip(){this.clockService.skip();let t=this.el.nativeElement.querySelector(".play-pause-btn");t&&(this.renderer.addClass(t,"auto-reset"),setTimeout(()=>{this.renderer.removeClass(t,"auto-reset")},500))}static \u0275fac=function(n){return new(n||e)(Ae(bi),Ae(Pr),Ae(wn))};static \u0275cmp=Rt({type:e,selectors:[["app-clock"]],standalone:!1,decls:19,vars:10,consts:[[1,"clock-container",2,"margin-top","10px"],["class","session-title",4,"ngIf"],[1,"timer"],[4,"ngIf"],[1,"controls"],[1,"play-pause-btn",3,"click"],["width","24","height","24","viewBox","0 0 24 24","fill","currentColor"],["d","M8 5v14l11-7z",4,"ngIf"],["d","M6 19h4V5H6v14zm8-14v14h4V5h-4z",4,"ngIf"],[1,"reset-btn",3,"click"],["width","72","height","36","viewBox","0 0 70 70"],["d","M 9 35 A 26 26 0 1 1 61 35","fill","none","stroke","currentColor","stroke-width","7.2","stroke-linecap","round"],["d","M 61 50 L 50.5 36.5 L 71.5 36.5 Z","fill","currentColor"],[1,"skip-btn",3,"click"],["d","M4 18l8.5-6L4 6v12zm9-12v12l8.5-6L13 6z"],[1,"session-title"],["d","M8 5v14l11-7z"],["d","M6 19h4V5H6v14zm8-14v14h4V5h-4z"]],template:function(n,r){n&1&&(re(0,"div",0),St(1,XA,3,1,"div",1),re(2,"div",2),St(3,JA,3,3,"span",3),fr(4,"async"),ie(),re(5,"div",4)(6,"button",5),Pe("click",function(){return r.togglePlayPause()}),Ro(),re(7,"svg",6),St(8,eN,1,0,"path",7),fr(9,"async"),St(10,tN,1,0,"path",8),fr(11,"async"),ie()(),Rh(),re(12,"button",9),Pe("click",function(){return r.reset()}),Ro(),re(13,"svg",10),Ot(14,"path",11)(15,"path",12),ie()(),Rh(),re(16,"button",13),Pe("click",function(){return r.skip()}),Ro(),re(17,"svg",6),Ot(18,"path",14),ie()()()()),n&2&&(Te(),ut("ngIf",r.currentSessionTitle),Te(2),ut("ngIf",hr(4,4,r.timer$)),Te(5),ut("ngIf",!hr(9,6,r.isRunning$)),Te(2),ut("ngIf",hr(11,8,r.isRunning$)))},dependencies:[En,Js,_i],styles:[".clock-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin:2rem 0}.clock-container[_ngcontent-%COMP%]   .session-title[_ngcontent-%COMP%]{margin-top:2rem;margin-bottom:20px;text-align:center}.clock-container[_ngcontent-%COMP%]   .session-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#fff;font-size:1.2em;font-weight:600}.clock-container[_ngcontent-%COMP%]   .timer[_ngcontent-%COMP%]{font-size:6rem;font-weight:700;color:#fff}.clock-container[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]{margin-top:1rem;display:flex;justify-content:center;align-items:center}.clock-container[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;border:none;padding:10px 20px;text-align:center;text-decoration:none;display:inline-block;font-size:16px;margin:4px 2px;cursor:pointer;border-radius:5px;transition:background .3s}.clock-container[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#45a049}.clock-container[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .play-pause-btn[_ngcontent-%COMP%]{position:relative;width:56px;height:56px;padding:0;background:purple;border-radius:50%;display:flex;align-items:center;justify-content:center;box-shadow:0 2px 8px #0000001a;transition:background .3s,transform .3s,box-shadow .3s;border:none;outline:none}.clock-container[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .play-pause-btn[_ngcontent-%COMP%]:hover{transform:scale(1.1);box-shadow:0 4px 16px #0003}.clock-container[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .play-pause-btn[_ngcontent-%COMP%]:hover   .icon-play[_ngcontent-%COMP%], .clock-container[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .play-pause-btn[_ngcontent-%COMP%]:hover   .icon-pause[_ngcontent-%COMP%]{background:#1e6173;transform:scale(1.1)}.clock-container[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .play-pause-btn[_ngcontent-%COMP%]:active{animation:_ngcontent-%COMP%_click-bounce .6s ease-out}.clock-container[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .play-pause-btn.auto-reset[_ngcontent-%COMP%]{transform:scale(1.1);box-shadow:0 4px 16px #0003}.clock-container[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .play-pause-btn.auto-reset[_ngcontent-%COMP%]   .icon-play[_ngcontent-%COMP%], .clock-container[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .play-pause-btn.auto-reset[_ngcontent-%COMP%]   .icon-pause[_ngcontent-%COMP%]{background:#1e6173;transform:scale(1.1)}.clock-container[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .reset-btn[_ngcontent-%COMP%]{position:relative;width:56px;height:56px;padding:0;background:purple;border-radius:50%;display:flex;align-items:center;justify-content:center;box-shadow:0 2px 8px #0000001a;transition:background .3s,transform .3s,box-shadow .3s;border:none;outline:none;margin-left:10px}.clock-container[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .reset-btn[_ngcontent-%COMP%]:hover{transform:scale(1.1);box-shadow:0 4px 16px #0003;background:#993299}.clock-container[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .reset-btn[_ngcontent-%COMP%]:active{animation:_ngcontent-%COMP%_click-bounce .6s ease-out}.clock-container[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .reset-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:48px;height:24px;pointer-events:none;transition:transform .5s ease-in-out;fill:#1e6173}.clock-container[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .reset-btn[_ngcontent-%COMP%]   svg.resetting[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotate-reset .5s ease-in-out}.clock-container[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .reset-btn[_ngcontent-%COMP%]   svg.rotated[_ngcontent-%COMP%]{transform:rotate(180deg)}.clock-container[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .reset-btn[_ngcontent-%COMP%]   svg.second-rotate[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_second-rotate .5s ease-in-out}.clock-container[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .skip-btn[_ngcontent-%COMP%]{position:relative;width:56px;height:56px;padding:0;background:purple;border-radius:50%;display:flex;align-items:center;justify-content:center;box-shadow:0 2px 8px #0000001a;transition:background .3s,transform .3s,box-shadow .3s;border:none;outline:none;margin-left:10px}.clock-container[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .skip-btn[_ngcontent-%COMP%]:hover{transform:scale(1.1);box-shadow:0 4px 16px #0003;background:#993299}.clock-container[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .skip-btn[_ngcontent-%COMP%]:active{animation:_ngcontent-%COMP%_click-bounce .6s ease-out}.clock-container[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .skip-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:24px;height:24px;pointer-events:none;fill:#1e6173}.clock-container[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .icon-play[_ngcontent-%COMP%]{display:inline-block;width:32px;height:32px;background:#fff;clip-path:polygon(0 0,0 100%,75% 50%);margin-left:0;transition:transform .2s,opacity .3s,background .3s;animation:_ngcontent-%COMP%_pause-to-play .5s ease-in-out}.clock-container[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .icon-pause[_ngcontent-%COMP%]{display:inline-block;width:24px;height:32px;background:#fff;clip-path:polygon(0 0,33% 0,33% 100%,0 100%,66% 0,100% 0,100% 100%,66% 100%);margin-left:1px;transition:opacity .3s,transform .2s,background .3s;animation:_ngcontent-%COMP%_play-to-pause .5s ease-in-out}@keyframes _ngcontent-%COMP%_play-to-pause{0%{clip-path:polygon(0 0,0 100%,75% 50%)}to{clip-path:polygon(0 0,33% 0,33% 100%,0 100%,66% 0,100% 0,100% 100%,66% 100%)}}@keyframes _ngcontent-%COMP%_pause-to-play{0%{clip-path:polygon(0 0,33% 0,33% 100%,0 100%,66% 0,100% 0,100% 100%,66% 100%)}to{clip-path:polygon(0 0,0 100%,75% 50%)}}@keyframes _ngcontent-%COMP%_click-bounce{0%{transform:scale(1)}50%{transform:scale(1.2)}to{transform:scale(1)}}@keyframes _ngcontent-%COMP%_rotate-reset{0%{transform:rotate(0)}to{transform:rotate(180deg)}}@keyframes _ngcontent-%COMP%_second-rotate{0%{transform:rotate(180deg)}to{transform:rotate(360deg)}}@media (max-width: 768px){.clock-container[_ngcontent-%COMP%]{margin-top:1.7rem}}@media (max-width: 480px){.clock-container[_ngcontent-%COMP%]{margin-top:2.7rem}.timer[_ngcontent-%COMP%]{font-size:4rem}}"]})};function rN(e,t){if(e&1&&(re(0,"div",7)(1,"strong"),fe(2,"Descripci\xF3n:"),ie(),fe(3),ie()),e&2){let n=Ye(3);Te(3),Cn(" ",n.pomodoro.description," ")}}function iN(e,t){if(e&1&&(re(0,"div",6)(1,"div",7)(2,"strong"),fe(3,"Tarea:"),ie(),fe(4),ie(),re(5,"div",7)(6,"strong"),fe(7,"Inicio:"),ie(),fe(8),ie(),re(9,"div",7)(10,"strong"),fe(11,"Fin:"),ie(),fe(12),ie(),re(13,"div",7)(14,"strong"),fe(15,"Duraci\xF3n:"),ie(),fe(16),fr(17,"formatTime"),ie(),St(18,rN,4,1,"div",8),ie()),e&2){let n=Ye(2);Te(4),Cn(" ",n.pomodoro.task," "),Te(4),Cn(" ",n.pomodoro.startTime," "),Te(4),Cn(" ",n.pomodoro.endTime," "),Te(4),Cn(" ",hr(17,5,n.pomodoro.duration)," "),Te(2),ut("ngIf",n.pomodoro.description)}}function oN(e,t){if(e&1){let n=zt();re(0,"div",1),Pe("click",function(){ot(n);let i=Ye();return st(i.closeModal())}),re(1,"div",2),Pe("click",function(i){return ot(n),st(i.stopPropagation())}),re(2,"div",3)(3,"h2"),fe(4,"Detalles del Pomodoro"),ie(),re(5,"button",4),Pe("click",function(){ot(n);let i=Ye();return st(i.closeModal())}),fe(6,"\xD7"),ie()(),St(7,iN,19,7,"div",5),ie()()}if(e&2){let n=Ye();Te(7),ut("ngIf",n.pomodoro)}}var Kl=class e{pomodoro=null;isVisible=!1;close=new Ct;closeModal(){this.close.emit()}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Rt({type:e,selectors:[["app-pomodoro-modal"]],inputs:{pomodoro:"pomodoro",isVisible:"isVisible"},outputs:{close:"close"},standalone:!1,decls:1,vars:1,consts:[["class","modal-overlay",3,"click",4,"ngIf"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],["class","modal-body",4,"ngIf"],[1,"modal-body"],[1,"detail-item"],["class","detail-item",4,"ngIf"]],template:function(n,r){n&1&&St(0,oN,8,1,"div",0),n&2&&ut("ngIf",r.isVisible)},dependencies:[En,_i],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;padding:20px;max-width:500px;width:90%;box-shadow:0 4px 6px #0000001a}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#333}.close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;cursor:pointer;color:#666}.close-btn[_ngcontent-%COMP%]:hover{color:#333}.modal-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.detail-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:5px}.detail-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#555;font-size:14px}.detail-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#333;font-size:16px}"]})};var aN=()=>({"pomodoro-row":!0,"clickable-row":!0});function cN(e,t){if(e&1){let n=zt();re(0,"tr",4),Pe("click",function(){let i=ot(n).$implicit,o=Ye();return st(o.openModal(i))}),re(1,"td"),fe(2),ie(),re(3,"td"),fe(4),ie(),re(5,"td"),fe(6),ie(),re(7,"td"),fe(8),fr(9,"formatTime"),ie()()}if(e&2){let n=t.$implicit;ut("ngClass",U_(7,aN)),Te(2),on(n.task),Te(2),on(n.startTime),Te(2),on(n.endTime),Te(2),on(hr(9,5,n.duration))}}var Ql=class e{constructor(t){this.sessionLogService=t}pomodoros$;selectedPomodoro=null;modalVisible=!1;ngOnInit(){this.pomodoros$=this.sessionLogService.pomodoros$}openModal(t){this.selectedPomodoro=t,this.modalVisible=!0}closeModal(){this.modalVisible=!1,this.selectedPomodoro=null}static \u0275fac=function(n){return new(n||e)(Ae(as))};static \u0275cmp=Rt({type:e,selectors:[["app-session-log"]],standalone:!1,decls:19,vars:5,consts:[[1,"session-log-container",2,"margin-top","10px"],[1,"table-wrapper"],[3,"ngClass","click",4,"ngFor","ngForOf"],[3,"close","pomodoro","isVisible"],[3,"click","ngClass"]],template:function(n,r){n&1&&(re(0,"div",0)(1,"h3"),fe(2,"Historial"),ie(),re(3,"div",1)(4,"table")(5,"thead")(6,"tr")(7,"th"),fe(8,"Tarea"),ie(),re(9,"th"),fe(10,"Inicio"),ie(),re(11,"th"),fe(12,"Fin"),ie(),re(13,"th"),fe(14,"Tiempo"),ie()()(),re(15,"tbody"),St(16,cN,10,8,"tr",2),fr(17,"async"),ie()()()(),re(18,"app-pomodoro-modal",3),Pe("close",function(){return r.closeModal()}),ie()),n&2&&(Te(16),ut("ngForOf",hr(17,3,r.pomodoros$)),Te(2),ut("pomodoro",r.selectedPomodoro)("isVisible",r.modalVisible))},dependencies:[wp,li,Kl,Js,_i],styles:['@charset "UTF-8";.session-log-container[_ngcontent-%COMP%]{width:80%;margin:1rem auto;padding:1rem;border:1px solid #ddd;border-radius:5px;box-sizing:border-box}.session-log-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center;margin-bottom:1rem}.session-log-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.session-log-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .session-log-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem;text-align:center;border-bottom:1px solid #eee;font-size:.9rem}.session-log-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#4a3c78;color:#3484ad;font-weight:700}.session-log-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.session-log-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .pomodoro-row[_ngcontent-%COMP%]{background-color:#3484ad;color:purple}.session-log-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .pomodoro-row[_ngcontent-%COMP%]:hover{background-color:#2a6b7d}.session-log-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .clickable-row[_ngcontent-%COMP%]{cursor:pointer}@media (max-width: 768px){.session-log-container[_ngcontent-%COMP%]{width:95%}table[_ngcontent-%COMP%]{table-layout:fixed;width:100%}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{width:25%;padding:.5rem;overflow-wrap:break-word;word-wrap:break-word;hyphens:auto}}']})};function lN(e,t){if(e&1){let n=zt();re(0,"div",1)(1,"div",2)(2,"div",3)(3,"h2"),fe(4,"Formulario Modal"),ie(),re(5,"button",4),Pe("click",function(){ot(n);let i=Ye();return st(i.closeModal())}),fe(6,"\xD7"),ie()(),re(7,"div",5)(8,"form",6),Pe("ngSubmit",function(){ot(n);let i=Ye();return st(i.onSubmit())}),re(9,"div",7)(10,"label",8),fe(11,"T\xEDtulo:"),ie(),re(12,"input",9),Wn("ngModelChange",function(i){ot(n);let o=Ye();return dr(o.title,i)||(o.title=i),st(i)}),ie()(),re(13,"div",7)(14,"label",10),fe(15,"Descripci\xF3n:"),ie(),re(16,"textarea",11),Wn("ngModelChange",function(i){ot(n);let o=Ye();return dr(o.description,i)||(o.description=i),st(i)}),ie()(),re(17,"div",12)(18,"button",13),Pe("click",function(){ot(n);let i=Ye();return st(i.closeModal())}),fe(19,"Cancelar"),ie(),re(20,"button",14),fe(21,"Iniciar Tarea"),ie()()()()()()}if(e&2){let n=Ye();Te(12),zn("ngModel",n.title),Te(4),zn("ngModel",n.description)}}var Zl=class e{close=new Ct;sessionStarted=new Ct;isVisible=!1;title="";description="";openModal(){this.isVisible=!0}closeModal(){this.isVisible=!1,this.close.emit()}onSubmit(){this.title.trim()&&(this.sessionStarted.emit({title:this.title.trim(),description:this.description.trim()}),this.closeModal(),this.title="",this.description="")}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Rt({type:e,selectors:[["app-modal-form"]],outputs:{close:"close",sessionStarted:"sessionStarted"},standalone:!1,decls:1,vars:1,consts:[["class","modal-overlay",4,"ngIf"],[1,"modal-overlay"],[1,"modal-content"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"modal-body"],[3,"ngSubmit"],[1,"form-group"],["for","title"],["type","text","id","title","name","title","placeholder","Ingresa el t\xEDtulo de la tarea...","required","",3,"ngModelChange","ngModel"],["for","description"],["id","description","name","description","placeholder","Ingresa la descripci\xF3n de la tarea...","rows","3",3,"ngModelChange","ngModel"],[1,"modal-footer"],["type","button",1,"cancel-btn",3,"click"],["type","submit",1,"submit-btn"]],template:function(n,r){n&1&&St(0,lN,22,2,"div",0),n&2&&ut("ngIf",r.isVisible)},dependencies:[En,Gu,pr,fi,zu,Wp,Lr,fa],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;padding:10px 30px 30px;max-width:400px;width:90%;box-shadow:0 4px 8px #0003}.modal-header[_ngcontent-%COMP%]{position:relative;margin-bottom:40px;text-align:center}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 20px;font-size:1.5em}.close-btn[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;background:none;border:none;font-size:1.5em;cursor:pointer;color:#666}.close-btn[_ngcontent-%COMP%]:hover{color:#000}.modal-body[_ngcontent-%COMP%]{margin-bottom:30px;text-align:center}.form-group[_ngcontent-%COMP%]{margin-bottom:25px;text-align:center}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:30px;font-weight:700}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:12px;border:1px solid #ccc;border-radius:4px;font-size:1em;margin-bottom:15px}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:15px;margin-top:30px}.cancel-btn[_ngcontent-%COMP%], .submit-btn[_ngcontent-%COMP%]{padding:8px 16px;border:none;border-radius:4px;cursor:pointer;font-size:1em}.cancel-btn[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff}.cancel-btn[_ngcontent-%COMP%]:hover{background-color:#5a6268}.submit-btn[_ngcontent-%COMP%]{background-color:#007bff;color:#fff}.submit-btn[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})};var fN=["modalForm"],Yl=class e{constructor(t){this.clockService=t}modalForm;currentSession=null;onClick(){this.modalForm.openModal()}onSessionStarted(t){this.currentSession=t,this.clockService.setCurrentSession(t)}static \u0275fac=function(n){return new(n||e)(Ae(bi))};static \u0275cmp=Rt({type:e,selectors:[["app-floating-button"]],viewQuery:function(n,r){if(n&1&&Mu(fN,5),n&2){let i;Gs(i=Ks())&&(r.modalForm=i.first)}},standalone:!1,decls:5,vars:0,consts:[["modalForm",""],[1,"floating-button",3,"click"],[1,"icon"],[3,"sessionStarted"]],template:function(n,r){if(n&1){let i=zt();re(0,"button",1),Pe("click",function(){return ot(i),st(r.onClick())}),re(1,"span",2),fe(2,"+"),ie()(),re(3,"app-modal-form",3,0),Pe("sessionStarted",function(s){return ot(i),st(r.onSessionStarted(s))}),ie()}},dependencies:[Zl],styles:['@charset "UTF-8";.floating-button[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;width:60px;height:60px;border-radius:50%;background-color:#007bff;color:#fff;border:none;font-size:24px;cursor:pointer;box-shadow:0 4px 8px #0003;transition:background-color .3s ease,transform .3s ease;display:flex;align-items:center;justify-content:center;z-index:1000}.floating-button[_ngcontent-%COMP%]:hover{background-color:#28a745;transform:scale(1.1)}.icon[_ngcontent-%COMP%]{transition:transform .3s ease}.floating-button[_ngcontent-%COMP%]:hover   .icon[_ngcontent-%COMP%]{transform:rotate(45deg)}.floating-button[_ngcontent-%COMP%]:hover   .icon[_ngcontent-%COMP%]:before{content:"\\d7";position:absolute}@media (max-width: 480px){.floating-button[_ngcontent-%COMP%]{bottom:40px}}']})};function pN(e,t){if(e&1){let n=zt();re(0,"div",1)(1,"div",2)(2,"div",3)(3,"h2"),fe(4,"Configuraciones"),ie(),re(5,"button",4),Pe("click",function(){ot(n);let i=Ye();return st(i.closeModal())}),fe(6,"\xD7"),ie()(),re(7,"div",5)(8,"form",6),Pe("ngSubmit",function(){ot(n);let i=Ye();return st(i.onSubmit())}),re(9,"div",7)(10,"label"),fe(11,"Duraci\xF3n del Temporizador:"),ie(),re(12,"div",8)(13,"div",9)(14,"input",10),Wn("ngModelChange",function(i){ot(n);let o=Ye();return dr(o.minutes,i)||(o.minutes=i),st(i)}),ie(),re(15,"label",11),fe(16,"Minutos"),ie()(),re(17,"span",12),fe(18,":"),ie(),re(19,"div",9)(20,"input",13),Wn("ngModelChange",function(i){ot(n);let o=Ye();return dr(o.seconds,i)||(o.seconds=i),st(i)}),ie(),re(21,"label",14),fe(22,"Segundos"),ie()()(),re(23,"div",15),fe(24),ie()(),re(25,"div",16)(26,"button",17),Pe("click",function(){ot(n);let i=Ye();return st(i.closeModal())}),fe(27,"Cancelar"),ie(),re(28,"button",18),fe(29,"Guardar"),ie()()()()()()}if(e&2){let n=Ye();Te(14),zn("ngModel",n.minutes),Te(6),zn("ngModel",n.seconds),Te(4),Cn("Total: ",n.formatTime(n.minutes*60+n.seconds),"")}}var Xl=class e{constructor(t){this.clockService=t}close=new Ct;isVisible=!1;minutes=25;seconds=0;openModal(){this.isVisible=!0;let t=this.clockService.getInitialTime();this.minutes=Math.floor(t/60),this.seconds=t%60}closeModal(){this.isVisible=!1,this.close.emit()}onSubmit(){let t=this.minutes*60+this.seconds;this.clockService.setInitialTime(t),this.closeModal()}formatTime(t){let n=Math.floor(t/60),r=t%60;return`${n.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`}static \u0275fac=function(n){return new(n||e)(Ae(bi))};static \u0275cmp=Rt({type:e,selectors:[["app-settings-modal"]],outputs:{close:"close"},standalone:!1,decls:1,vars:1,consts:[["class","modal-overlay",4,"ngIf"],[1,"modal-overlay"],[1,"modal-content"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"modal-body"],[3,"ngSubmit"],[1,"form-group"],[1,"time-inputs"],[1,"time-input-group"],["type","number","id","minutes","name","minutes","min","0","max","59","placeholder","25",3,"ngModelChange","ngModel"],["for","minutes"],[1,"separator"],["type","number","id","seconds","name","seconds","min","0","max","59","placeholder","00",3,"ngModelChange","ngModel"],["for","seconds"],[1,"time-preview"],[1,"modal-footer"],["type","button",1,"cancel-btn",3,"click"],["type","submit",1,"submit-btn"]],template:function(n,r){n&1&&St(0,pN,30,3,"div",0),n&2&&ut("ngIf",r.isVisible)},dependencies:[En,Gu,pr,Hp,fi,zu,zp,qp,Lr,fa],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;padding:20px;max-width:400px;width:90%;box-shadow:0 4px 8px #0003}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:10px;position:relative}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.5em}.close-btn[_ngcontent-%COMP%]{position:absolute;right:0}.close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5em;cursor:pointer;color:#666}.close-btn[_ngcontent-%COMP%]:hover{color:#000}.modal-body[_ngcontent-%COMP%]{margin-bottom:20px;text-align:center}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:40px;font-weight:700}.form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:8px;border:1px solid #ccc;border-radius:4px;font-size:1em}.time-inputs[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:flex-end;gap:10px;margin-bottom:10px}.time-input-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:2px}.time-input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:80px;padding:8px;border:1px solid #ccc;border-radius:4px;font-size:1em;text-align:center}.time-input-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.8em;color:#666;font-weight:400}.separator[_ngcontent-%COMP%]{font-size:1.5em;font-weight:700;color:#333;align-self:center;margin-top:-61px}.time-preview[_ngcontent-%COMP%]{font-size:.9em;color:#666;text-align:center;margin-top:-10px;margin-bottom:40px}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:10px}.cancel-btn[_ngcontent-%COMP%], .submit-btn[_ngcontent-%COMP%]{padding:8px 16px;border:none;border-radius:4px;cursor:pointer;font-size:1em}.cancel-btn[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff}.cancel-btn[_ngcontent-%COMP%]:hover{background-color:#5a6268}.submit-btn[_ngcontent-%COMP%]{background-color:#007bff;color:#fff}.submit-btn[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})};var mN=["settingsModal"],Jl=class e{settingsModal;onClick(){this.settingsModal.openModal()}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Rt({type:e,selectors:[["app-settings-floating-button"]],viewQuery:function(n,r){if(n&1&&Mu(mN,5),n&2){let i;Gs(i=Ks())&&(r.settingsModal=i.first)}},standalone:!1,decls:5,vars:0,consts:[["settingsModal",""],[1,"floating-button",3,"click"],[1,"icon"]],template:function(n,r){if(n&1){let i=zt();re(0,"button",1),Pe("click",function(){return ot(i),st(r.onClick())}),re(1,"span",2),fe(2,"\u2699\uFE0F"),ie()(),Ot(3,"app-settings-modal",null,0)}},dependencies:[Xl],styles:[".floating-button[_ngcontent-%COMP%]{position:fixed;top:20px;left:20px;width:60px;height:60px;border-radius:50%;background-color:#6c757d;color:#fff;border:none;font-size:24px;cursor:pointer;box-shadow:0 4px 8px #0003;transition:background-color .3s ease,transform .3s ease;display:flex;align-items:center;justify-content:center}.floating-button[_ngcontent-%COMP%]:hover{background-color:#5a6268;transform:scale(1.1)}.icon[_ngcontent-%COMP%]{transition:transform .3s ease}.floating-button[_ngcontent-%COMP%]:hover   .icon[_ngcontent-%COMP%]{transform:rotate(45deg)}"]})};function yN(e,t){if(e&1&&(re(0,"div",20)(1,"p",21),fe(2),ie()()),e&2){let n=Ye();Te(2),on(n.message)}}function bN(e,t){if(e&1&&(re(0,"div",20)(1,"p",21),fe(2),ie()()),e&2){let n=Ye();Te(2),on(n.readMessage)}}function _N(e,t){if(e&1){let n=zt();re(0,"button",25),Pe("click",function(){let i=ot(n).$implicit,o=Ye(2);return st(o.leerArchivoFS(i))}),fe(1),ie()}if(e&2){let n=t.$implicit;Te(),Cn(" \u{1F4C4} ",n," ")}}function wN(e,t){if(e&1&&(re(0,"div",22)(1,"h3",18),fe(2,"\u{1F4C2} Archivos en el directorio:"),ie(),re(3,"div",23),St(4,_N,2,1,"button",24),ie()()),e&2){let n=Ye();Te(4),ut("ngForOf",n.archivosList)}}function CN(e,t){if(e&1&&(re(0,"div",26)(1,"h4",27),fe(2,"\u{1F4D6} Contenido del archivo:"),ie(),re(3,"div",28)(4,"pre",29),fe(5),ie()()()),e&2){let n=Ye();Te(5),on(n.selectedFileContent)}}var cs=class e{constructor(t,n,r){this.opfsService=t;this.fileSystem=n;this.p2pService=r}textInput="";message="";readMessage="";fileSystemActivated=!1;fileCounter=1;archivosList=[];selectedFileContent="";onButtonClick(){return ee(this,null,function*(){this.message=yield this.opfsService.processText(this.textInput)})}onReadClick(){return ee(this,null,function*(){this.readMessage=yield this.opfsService.readText()})}activarFS(){return ee(this,null,function*(){if(this.fileSystemActivated){alert("File System ya est\xE1 activado");return}(yield this.fileSystem.solicitarPermisos())&&(this.fileSystemActivated=!0,console.log("File System activado"),alert("File System activado correctamente"))})}guardarEjemplo(){return ee(this,null,function*(){if(!this.fileSystemActivated){alert("Primero activa el File System");return}let t=`texto${this.fileCounter}.txt`;yield this.fileSystem.guardarArchivo(t,this.textInput||"Jah Bless"),alert(`Archivo ${t} guardado`),this.fileCounter++})}listarFiles(){return ee(this,null,function*(){this.archivosList=yield this.fileSystem.listarArchivos(),console.log("Archivos:",this.archivosList)})}leerArchivoFS(t){return ee(this,null,function*(){if(!this.fileSystemActivated){alert("File System no est\xE1 activado");return}try{this.selectedFileContent=yield this.fileSystem.leerArchivo(t)}catch(n){console.error("Error leyendo archivo:",n),alert("Error al leer el archivo")}})}static \u0275fac=function(n){return new(n||e)(Ae(zl),Ae(Wl),Ae(ss))};static \u0275cmp=Rt({type:e,selectors:[["app-page"]],decls:38,vars:9,consts:[[1,"opfs-section"],[1,"container"],[1,"main-title"],[1,"card","opfs-card"],[1,"card-title"],[1,"input-group"],["type","text","placeholder","Escribe algo para guardar...",1,"text-input",3,"ngModelChange","ngModel"],[1,"btn","btn-primary",3,"click"],["class","result-display",4,"ngIf"],[1,"btn","btn-secondary",3,"click"],[1,"card","fs-card"],[1,"button-group"],[1,"btn","btn-success",3,"click","disabled"],[1,"btn","btn-primary",3,"click","disabled"],[1,"btn","btn-info",3,"click","disabled"],["class","file-list-container",4,"ngIf"],["class","file-content-display",4,"ngIf"],[1,"pomodoro-section"],[1,"section-title"],[1,"main-content",2,"margin-top","3.4375rem"],[1,"result-display"],[1,"result-text"],[1,"file-list-container"],[1,"file-grid"],["class","file-button",3,"click",4,"ngFor","ngForOf"],[1,"file-button",3,"click"],[1,"file-content-display"],[1,"content-title"],[1,"content-box"],[1,"content-text"]],template:function(n,r){n&1&&(re(0,"section",0)(1,"div",1)(2,"h1",2),fe(3,"Jah Bless - Sistema de Archivos & Pomodoro P2P"),ie(),re(4,"div",3)(5,"h2",4),fe(6,"\u{1F4BE} Origin Private File System (OPFS)"),ie(),re(7,"div",5)(8,"input",6),Wn("ngModelChange",function(o){return dr(r.textInput,o)||(r.textInput=o),o}),ie(),re(9,"button",7),Pe("click",function(){return r.onButtonClick()}),fe(10,"\u{1F4BE} Guardar"),ie()(),St(11,yN,3,1,"div",8),re(12,"button",9),Pe("click",function(){return r.onReadClick()}),fe(13,"\u{1F4D6} Leer Contenido"),ie(),St(14,bN,3,1,"div",8),ie(),re(15,"div",10)(16,"h2",4),fe(17,"\u{1F4C1} File System Access API"),ie(),re(18,"div",11)(19,"button",12),Pe("click",function(){return r.activarFS()}),fe(20),ie(),re(21,"button",13),Pe("click",function(){return r.guardarEjemplo()}),fe(22," \u{1F4BE} Guardar Ejemplo "),ie(),re(23,"button",14),Pe("click",function(){return r.listarFiles()}),fe(24," \u{1F4CB} Listar Archivos "),ie()(),St(25,wN,5,1,"div",15)(26,CN,6,1,"div",16),ie()()(),Ot(27,"app-todo-p2p"),re(28,"div",17)(29,"div",1)(30,"h2",18),fe(31,"\u{1F345} Pomodoro P2P Timer"),ie(),Ot(32,"app-settings-floating-button"),re(33,"div",19),Ot(34,"app-clock")(35,"app-session-log"),ie(),Ot(36,"app-floating-button")(37,"router-outlet"),ie()()),n&2&&(Te(8),zn("ngModel",r.textInput),Te(3),ut("ngIf",r.message),Te(3),ut("ngIf",r.readMessage),Te(5),ut("disabled",r.fileSystemActivated),Te(),Cn(" ",r.fileSystemActivated?"\u2705 Activado":"\u{1F513} Activar File System"," "),Te(),ut("disabled",!r.fileSystemActivated),Te(2),ut("disabled",!r.fileSystemActivated),Te(2),ut("ngIf",r.archivosList.length>0),Te(),ut("ngIf",r.selectedFileContent))},dependencies:[Bt,li,En,gr,pr,fi,Lr,es,Ia,Vl,jl,Gl,Bl,Ql,Hl,Yl,ql,Jl],styles:['.opfs-section[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#667eea,#764ba2);padding:20px;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.main-title[_ngcontent-%COMP%]{text-align:center;color:#fff;font-size:2.5rem;margin-bottom:30px;text-shadow:2px 2px 4px rgba(0,0,0,.3);font-weight:300;letter-spacing:1p;text-transform:uppercase;padding:10px;border-radius:10px}.card[_ngcontent-%COMP%]{background:#fff;border-radius:15px;padding:30px;margin-bottom:30px;box-shadow:0 10px 30px #0003;transition:transform .3s ease,box-shadow .3s ease}.card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 15px 40px #0000004d}.card-title[_ngcontent-%COMP%]{color:#333;font-size:1.5rem;margin-bottom:20px;border-bottom:3px solid #667eea;padding-bottom:10px;font-weight:500;word-wrap:break-word;hyphens:auto;line-height:1.3}.opfs-card[_ngcontent-%COMP%]{border-left:5px solid #667eea}.fs-card[_ngcontent-%COMP%]{border-left:5px solid #764ba2}.input-group[_ngcontent-%COMP%]{display:flex;gap:15px;margin-bottom:20px;align-items:center}.text-input[_ngcontent-%COMP%]{flex:1;padding:12px 15px;border:2px solid #e0e0e0;border-radius:8px;font-size:1rem;transition:border-color .3s ease}.text-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 3px #667eea1a}.btn[_ngcontent-%COMP%]{padding:12px 20px;border:none;border-radius:8px;font-size:1rem;font-weight:500;cursor:pointer;transition:all .3s ease;text-transform:uppercase;letter-spacing:.5px}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(45deg,#667eea,#764ba2);color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background:linear-gradient(45deg,#5a6fd8,#6a4190);transform:translateY(-2px);box-shadow:0 5px 15px #667eea66}.btn-secondary[_ngcontent-%COMP%]{background:#f8f9fa;color:#333;border:2px solid #e9ecef}.btn-secondary[_ngcontent-%COMP%]:hover{background:#e9ecef;border-color:#adb5bd}.btn-success[_ngcontent-%COMP%]{background:linear-gradient(45deg,#28a745,#20c997);color:#fff}.btn-success[_ngcontent-%COMP%]:hover{background:linear-gradient(45deg,#218838,#1aa085);transform:translateY(-2px);box-shadow:0 5px 15px #28a74566}.btn-info[_ngcontent-%COMP%]{background:linear-gradient(45deg,#17a2b8,#6f42c1);color:#fff}.btn-info[_ngcontent-%COMP%]:hover{background:linear-gradient(45deg,#138496,#5a32a3);transform:translateY(-2px);box-shadow:0 5px 15px #17a2b866}.btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none!important;box-shadow:none!important}.button-group[_ngcontent-%COMP%]{display:flex;gap:15px;flex-wrap:wrap;margin-bottom:25px}.result-display[_ngcontent-%COMP%]{margin:15px 0;padding:15px;background:#f8f9fa;border-radius:8px;border-left:4px solid #667eea}.result-text[_ngcontent-%COMP%]{margin:0;color:#333;font-weight:500}.file-list-container[_ngcontent-%COMP%]{margin-top:25px;padding:20px;background:#f8f9fa;border-radius:10px;border:1px solid #e9ecef}.section-title[_ngcontent-%COMP%]{color:#333;margin-bottom:15px;font-size:1.2rem;font-weight:500}.file-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:20px}.file-button[_ngcontent-%COMP%]{background:linear-gradient(45deg,#2196f3,#21cbf3);color:#fff;border:none;padding:12px 15px;border-radius:8px;cursor:pointer;font-size:.9rem;font-weight:500;transition:all .3s ease;text-align:left;display:flex;align-items:center;gap:8px}.file-button[_ngcontent-%COMP%]:hover{background:linear-gradient(45deg,#1976d2,#1aa0c4);transform:translateY(-2px);box-shadow:0 5px 15px #2196f366}.file-content-display[_ngcontent-%COMP%]{margin-top:25px;padding:20px;background:#fff;border-radius:10px;border:2px solid #e9ecef}.content-title[_ngcontent-%COMP%]{color:#333;margin-bottom:15px;font-size:1.2rem;font-weight:500}.content-box[_ngcontent-%COMP%]{background:#f8f9fa;border-radius:8px;padding:15px;border-left:4px solid #764ba2}.content-text[_ngcontent-%COMP%]{margin:0;color:#333;font-family:Courier New,monospace;font-size:.9rem;line-height:1.5;white-space:pre-wrap;word-wrap:break-word}.pomodoro-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,purple,#4a3c78,#3484ad);padding:40px 20px;min-height:100vh}.pomodoro-section[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.section-title[_ngcontent-%COMP%]{text-align:center;color:#fff;font-size:2.2rem;margin-bottom:30px;text-shadow:2px 2px 4px rgba(0,0,0,.3);font-weight:300}.clock-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin:2rem 0}.clock-container[_ngcontent-%COMP%]   .session-title[_ngcontent-%COMP%]{margin-top:2rem;margin-bottom:20px;text-align:center}.clock-container[_ngcontent-%COMP%]   .session-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#fff;font-size:1.2em;font-weight:600}.clock-container[_ngcontent-%COMP%]   .timer[_ngcontent-%COMP%]{font-size:6rem;font-weight:700;color:#fff}.clock-container[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]{margin-top:1rem;display:flex;justify-content:center;align-items:center;@keyframes play-to-pause{0%{clip-path:polygon(0 0,0 100%,75% 50%)}to{clip-path:polygon(0 0,33% 0,33% 100%,0 100%,66% 0,100% 0,100% 100%,66% 100%)}}@keyframes pause-to-play{0%{clip-path:polygon(0 0,33% 0,33% 100%,0 100%,66% 0,100% 0,100% 100%,66% 100%)}to{clip-path:polygon(0 0,0 100%,75% 50%)}}@keyframes click-bounce{0%{transform:scale(1)}50%{transform:scale(1.2)}to{transform:scale(1)}}@keyframes rotate-reset{0%{transform:rotate(0)}to{transform:rotate(180deg)}}@keyframes second-rotate{0%{transform:rotate(180deg)}to{transform:rotate(360deg)}}}.clock-container[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;border:none;padding:10px 20px;text-align:center;text-decoration:none;display:inline-block;font-size:16px;margin:4px 2px;cursor:pointer;border-radius:5px;transition:background .3s}.clock-container[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#45a049}.clock-container[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .play-pause-btn[_ngcontent-%COMP%]{position:relative;width:56px;height:56px;padding:0;background:purple;border-radius:50%;display:flex;align-items:center;justify-content:center;box-shadow:0 2px 8px #0000001a;transition:background .3s,transform .3s,box-shadow .3s;border:none;outline:none}.clock-container[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .play-pause-btn[_ngcontent-%COMP%]:hover{transform:scale(1.1);box-shadow:0 4px 16px #0003}.clock-container[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .play-pause-btn[_ngcontent-%COMP%]:hover   .icon-play[_ngcontent-%COMP%], .clock-container[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .play-pause-btn[_ngcontent-%COMP%]:hover   .icon-pause[_ngcontent-%COMP%]{background:#1e6173;transform:scale(1.1)}.clock-container[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .play-pause-btn[_ngcontent-%COMP%]:active{animation:click-bounce .6s ease-out}.clock-container[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .play-pause-btn.auto-reset[_ngcontent-%COMP%]{transform:scale(1.1);box-shadow:0 4px 16px #0003}.clock-container[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .play-pause-btn.auto-reset[_ngcontent-%COMP%]   .icon-play[_ngcontent-%COMP%], .clock-container[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .play-pause-btn.auto-reset[_ngcontent-%COMP%]   .icon-pause[_ngcontent-%COMP%]{background:#1e6173;transform:scale(1.1)}.clock-container[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .reset-btn[_ngcontent-%COMP%]{position:relative;width:56px;height:56px;padding:0;background:purple;border-radius:50%;display:flex;align-items:center;justify-content:center;box-shadow:0 2px 8px #0000001a;transition:background .3s,transform .3s,box-shadow .3s;border:none;outline:none;margin-left:10px}.clock-container[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .reset-btn[_ngcontent-%COMP%]:hover{transform:scale(1.1);box-shadow:0 4px 16px #0003;background:#993299}.clock-container[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .reset-btn[_ngcontent-%COMP%]:active{animation:click-bounce .6s ease-out}.clock-container[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .reset-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:48px;height:24px;pointer-events:none;transition:transform .5s ease-in-out;fill:#1e6173}.clock-container[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .reset-btn[_ngcontent-%COMP%]   svg.resetting[_ngcontent-%COMP%]{animation:rotate-reset .5s ease-in-out}.clock-container[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .reset-btn[_ngcontent-%COMP%]   svg.rotated[_ngcontent-%COMP%]{transform:rotate(180deg)}.clock-container[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .reset-btn[_ngcontent-%COMP%]   svg.second-rotate[_ngcontent-%COMP%]{animation:second-rotate .5s ease-in-out}.clock-container[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .skip-btn[_ngcontent-%COMP%]{position:relative;width:56px;height:56px;padding:0;background:purple;border-radius:50%;display:flex;align-items:center;justify-content:center;box-shadow:0 2px 8px #0000001a;transition:background .3s,transform .3s,box-shadow .3s;border:none;outline:none;margin-left:10px}.clock-container[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .skip-btn[_ngcontent-%COMP%]:hover{transform:scale(1.1);box-shadow:0 4px 16px #0003;background:#993299}.clock-container[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .skip-btn[_ngcontent-%COMP%]:active{animation:click-bounce .6s ease-out}.clock-container[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .skip-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:24px;height:24px;pointer-events:none;fill:#1e6173}.clock-container[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .icon-play[_ngcontent-%COMP%]{display:inline-block;width:32px;height:32px;background:#fff;clip-path:polygon(0 0,0 100%,75% 50%);margin-left:0;transition:transform .2s,opacity .3s,background .3s;animation:pause-to-play .5s ease-in-out}.clock-container[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .icon-pause[_ngcontent-%COMP%]{display:inline-block;width:24px;height:32px;background:#fff;clip-path:polygon(0 0,33% 0,33% 100%,0 100%,66% 0,100% 0,100% 100%,66% 100%);margin-left:1px;transition:opacity .3s,transform .2s,background .3s;animation:play-to-pause .5s ease-in-out}.session-log-container[_ngcontent-%COMP%]{width:80%;margin:1rem auto;padding:1rem;border:1px solid #ddd;border-radius:5px;box-sizing:border-box}.session-log-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center;margin-bottom:1rem}.session-log-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.session-log-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .session-log-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem;text-align:center;border-bottom:1px solid #eee;font-size:.9rem}.session-log-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#4a3c78;color:#3484ad;font-weight:700}.session-log-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.session-log-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .pomodoro-row[_ngcontent-%COMP%]{background-color:#3484ad;color:purple}.session-log-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .pomodoro-row[_ngcontent-%COMP%]:hover{background-color:#2a6b7d}.session-log-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .clickable-row[_ngcontent-%COMP%]{cursor:pointer}.floating-button[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;width:60px;height:60px;border-radius:50%;background-color:#007bff;color:#fff;border:none;font-size:24px;cursor:pointer;box-shadow:0 4px 8px #0003;transition:background-color .3s ease,transform .3s ease;display:flex;align-items:center;justify-content:center;z-index:1000}.floating-button[_ngcontent-%COMP%]:hover{background-color:#28a745;transform:scale(1.1)}.icon[_ngcontent-%COMP%]{transition:transform .3s ease}.floating-button[_ngcontent-%COMP%]:hover   .icon[_ngcontent-%COMP%]{transform:rotate(45deg)}.floating-button[_ngcontent-%COMP%]:hover   .icon[_ngcontent-%COMP%]:before{content:"\\d7";position:absolute}.floating-button.settings[_ngcontent-%COMP%]{position:fixed;top:20px;left:20px;width:60px;height:60px;border-radius:50%;background-color:#6c757d;color:#fff;border:none;font-size:24px;cursor:pointer;box-shadow:0 4px 8px #0003;transition:background-color .3s ease,transform .3s ease;display:flex;align-items:center;justify-content:center}@media (max-width: 768px){.opfs-section[_ngcontent-%COMP%]{padding:10px}.main-title[_ngcontent-%COMP%]{font-size:2rem}.card[_ngcontent-%COMP%]{padding:20px}.input-group[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.button-group[_ngcontent-%COMP%]{flex-direction:column}.file-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.pomodoro-section[_ngcontent-%COMP%]{padding:20px 10px}.section-title[_ngcontent-%COMP%]{font-size:1.8rem}.clock-container[_ngcontent-%COMP%]{margin-top:1.7rem}.session-log-container[_ngcontent-%COMP%]{width:95%}table[_ngcontent-%COMP%]{table-layout:fixed;width:100%}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{width:25%;padding:.5rem;overflow-wrap:break-word;word-wrap:break-word;hyphens:auto}}@media (max-width: 480px){.clock-container[_ngcontent-%COMP%]{margin-top:2.7rem}.timer[_ngcontent-%COMP%]{font-size:4rem}.floating-button[_ngcontent-%COMP%]{bottom:40px}}']})};var ed=class e{title="jah-bless-app";static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Rt({type:e,selectors:[["app-root"]],standalone:!1,decls:1,vars:0,template:function(n,r){n&1&&Ot(0,"app-page")},dependencies:[cs],encapsulation:2})};var td=class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=_t({type:e,bootstrap:[ed]});static \u0275inj=bt({imports:[Np,El,gr,cs]})};window.process={nextTick:e=>setTimeout(e,0)};Ap().bootstrapModule(td,{ngZoneEventCoalescing:!0}).catch(e=>console.error(e));
